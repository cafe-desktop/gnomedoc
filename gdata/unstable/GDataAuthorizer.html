<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:html="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="text/html; charset=utf-8"></meta><link rel="stylesheet" href="../../skin/gtkdoc.css" type="text/css"></link><link rel="stylesheet" type="text/css" media="all" href="https://static.gnome.org/css/grass-theme-style.css"></link><link rel="stylesheet" type="text/css" media="all" href="../../skin/lgo2010.css"></link><link rel="icon" type="image/png" href="../../skin/gnome-16.png"></link><link rel="SHORTCUT ICON" type="image/png" href="../../skin/gnome-16.png"></link><link rel="search" type="application/opensearchdescription+xml" href="../../gnome-library-search.xml" title="GNOME Library Search"></link><link rel="stylesheet" type="text/css" href="../../skin/jquery.autocomplete.css"></link><script type="text/javascript" src="../../js/jquery.js"></script><script type="text/javascript" src="../../js/jquery.autocomplete.js"></script><title>GDataAuthorizer: GData Reference Manual</title><link href="index.html" rel="home" title="GData Reference Manual"></link><link href="ch05.html" rel="up" title="Authentication/Authorization API"></link><link href="ch05.html" rel="prev" title="Authentication/Authorization API"></link><link href="GDataAuthorizationDomain.html" rel="next" title="GDataAuthorizationDomain"></link><link rel="stylesheet" type="text/css" media="all" href="../../skin/jquery.autocomplete.css"></link><link rel="stylesheet" type="text/css" media="all" href="../../skin/960_24_col.css"></link><script type="text/javascript" src="../../js/jquery.js"></script><script type="text/javascript" src="https://developer-old.gnome.org/js/jquery.jcarousel.min.js"></script><script type="text/javascript" src="../../js/jquery.autocomplete.js"></script></head><body><div id="accessibility_access"><ul><li><a href="GDataAuthorizer.html#container">Go to page content</a></li><li><a href="GDataAuthorizer.html#top_bar">Go to main menu</a></li><li><a href="GDataAuthorizer.html#s" onclick="$('#s').focus(); return false;">Go to the search field</a></li></ul></div><div id="global_domain_bar"><div class="maxwidth"><div class="tab"><a class="root" href="https://www.gnome.org/">GNOME.org</a></div></div></div><div id="header" class="container_12"><div id="logo" class="grid_3"><a title="Go to home page" href="../../index.html"><img alt="GNOME: The Free Software Desktop Project" src="../../skin/gnome-logo-devcenter.png"></img></a></div><div id="top_bar" class="grid_9"><div class="left"><div class="menu-globalnav-container"><ul id="menu-globalnav" class="menu"><li class="menu-item menu-item-type-post_type menu-item-6"><a href="../../about/index.html">About</a></li><li class="menu-item menu-item-type-post_type menu-item-23"><a href="https://help.gnome.org/users/">Users</a></li><li class="menu-item menu-item-type-post_type menu-item-40"><a href="https://help.gnome.org/admin/">Administrators</a></li><li class="current-menu-item"><a href="https://developer.gnome.org/">Developers</a></li></ul></div></div><div class="right"><form role="search" method="get" id="searchform" action="https://developer-old.gnome.org/symbols/"><div><label class="hidden" for="q">Search:
                        </label><input type="text" value="" name="q" id="s" placeholder="Search"></input></div></form><script type="text/javascript">
$('#s').autocomplete('/symbols/lookup/',
        { minChars:3, matchSubset:1, matchContains:1, cacheLength:10,
          selectOnly:1, rowsLimit:25 });
              </script></div></div></div><div class="clearfix"></div><div id="container" class="gtk-doc"><div class="content"><table cellpadding="2" cellspacing="5" class="navigation" id="top" summary="Navigation header" width="100%"><tbody><tr valign="middle">
<td align="left" class="shortcuts" width="100%">
<a class="shortcut" href="GDataAuthorizer.html#">Top</a><span id="nav_description">  <span class="dim">|</span> 
                  <a class="shortcut" href="GDataAuthorizer.html#GDataAuthorizer.description">Description</a></span><span id="nav_hierarchy">  <span class="dim">|</span> 
                  <a class="shortcut" href="GDataAuthorizer.html#GDataAuthorizer.object-hierarchy">Object Hierarchy</a></span><span id="nav_prerequisites">  <span class="dim">|</span> 
                  <a class="shortcut" href="GDataAuthorizer.html#GDataAuthorizer.prerequisites">Prerequisites</a></span><span id="nav_implementations">  <span class="dim">|</span> 
                  <a class="shortcut" href="GDataAuthorizer.html#GDataAuthorizer.implementations">Known Implementations</a></span>
</td>
<td><a accesskey="h" href="index.html"><img alt="Home" border="0" height="16" src="home.png" width="16"></img></a></td>
<td><a accesskey="u" href="ch05.html"><img alt="Up" border="0" height="16" src="up.png" width="16"></img></a></td>
<td><a accesskey="p" href="ch05.html"><img alt="Prev" border="0" height="16" src="left.png" width="16"></img></a></td>
<td><a accesskey="n" href="GDataAuthorizationDomain.html"><img alt="Next" border="0" height="16" src="right.png" width="16"></img></a></td>
</tr></tbody></table><div class="refentry">
<a name="GDataAuthorizer"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tbody><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="GDataAuthorizer.top_of_page"></a>GDataAuthorizer</span></h2>
<p>GDataAuthorizer — GData authorization interface</p>
</td>
<td align="right" class="gallery_image" valign="top"></td>
</tr></tbody></table></div>
<div class="refsect1">
<a name="GDataAuthorizer.stability-level"></a><h2>Stability Level</h2>
<acronym title="The intention of a Stable interface is to enable arbitrary third parties to develop applications to these interfaces, release them, and have confidence that they will run on all minor releases of the product (after the one in which the interface was introduced, and within the same major release). Even at a major release, incompatible changes are expected to be rare, and to have strong justifications. "><span class="acronym">Stable</span></acronym>, unless otherwise indicated
</div>
<div class="refsect1">
<a name="GDataAuthorizer.functions"></a><h2>Functions</h2>
<div class="informaltable"><table border="0" width="100%">
<colgroup>
<col class="functions_return" width="150px"></col>
<col class="functions_name"></col>
</colgroup>
<tbody>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="GDataAuthorizer.html#gdata-authorizer-process-request" title="gdata_authorizer_process_request ()">gdata_authorizer_process_request</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="../../glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
</td>
<td class="function_name">
<a class="link" href="GDataAuthorizer.html#gdata-authorizer-is-authorized-for-domain" title="gdata_authorizer_is_authorized_for_domain ()">gdata_authorizer_is_authorized_for_domain</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="../../glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
</td>
<td class="function_name">
<a class="link" href="GDataAuthorizer.html#gdata-authorizer-refresh-authorization" title="gdata_authorizer_refresh_authorization ()">gdata_authorizer_refresh_authorization</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="GDataAuthorizer.html#gdata-authorizer-refresh-authorization-async" title="gdata_authorizer_refresh_authorization_async ()">gdata_authorizer_refresh_authorization_async</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="../../glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
</td>
<td class="function_name">
<a class="link" href="GDataAuthorizer.html#gdata-authorizer-refresh-authorization-finish" title="gdata_authorizer_refresh_authorization_finish ()">gdata_authorizer_refresh_authorization_finish</a> <span class="c_punctuation">()</span>
</td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1">
<a name="GDataAuthorizer.other"></a><h2>Types and Values</h2>
<div class="informaltable"><table border="0" width="100%">
<colgroup>
<col class="name" width="150px"></col>
<col class="description"></col>
</colgroup>
<tbody>
<tr>
<td class="datatype_keyword"> </td>
<td class="function_name"><a class="link" href="GDataAuthorizer.html#GDataAuthorizer-struct" title="GDataAuthorizer">GDataAuthorizer</a></td>
</tr>
<tr>
<td class="datatype_keyword"> </td>
<td class="function_name"><a class="link" href="GDataAuthorizer.html#GDataAuthorizerInterface" title="GDataAuthorizerInterface">GDataAuthorizerInterface</a></td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1">
<a name="GDataAuthorizer.object-hierarchy"></a><h2>Object Hierarchy</h2>
<pre class="screen">    GInterface
    <span class="lineart">╰──</span> GDataAuthorizer
</pre>
</div>
<div class="refsect1">
<a name="GDataAuthorizer.prerequisites"></a><h2>Prerequisites</h2>
<p>
GDataAuthorizer requires
 <a href="../../gobject/unstable/gobject-The-Base-Object-Type.html#GObject">GObject</a>.</p>
</div>
<div class="refsect1">
<a name="GDataAuthorizer.implementations"></a><h2>Known Implementations</h2>
<p>
GDataAuthorizer is implemented by
 <a class="link" href="GDataClientLoginAuthorizer.html" title="GDataClientLoginAuthorizer">GDataClientLoginAuthorizer</a>,  <a class="link" href="GDataGoaAuthorizer.html" title="GDataGoaAuthorizer">GDataGoaAuthorizer</a>,  <a class="link" href="GDataOAuth1Authorizer.html" title="GDataOAuth1Authorizer">GDataOAuth1Authorizer</a> and  <a class="link" href="GDataOAuth2Authorizer.html" title="GDataOAuth2Authorizer">GDataOAuth2Authorizer</a>.</p>
</div>
<div class="refsect1">
<a name="GDataAuthorizer.includes"></a><h2>Includes</h2>
<pre class="synopsis">#include &lt;gdata/gdata-authorizer.h&gt;
</pre>
</div>
<div class="refsect1">
<a name="GDataAuthorizer.description"></a><h2>Description</h2>
<p>The <a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a> interface provides a uniform way to implement authentication and authorization processes for use by <a class="link" href="GDataService.html" title="GDataService"><span class="type">GDataService</span></a>s.
Client code will construct a new <a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a> instance of their choosing, such as <a class="link" href="GDataClientLoginAuthorizer.html" title="GDataClientLoginAuthorizer"><span class="type">GDataClientLoginAuthorizer</span></a> or <a class="link" href="GDataOAuth2Authorizer.html" title="GDataOAuth2Authorizer"><span class="type">GDataOAuth2Authorizer</span></a>, for
the <a class="link" href="GDataService.html" title="GDataService"><span class="type">GDataService</span></a>s which will be used by the client, then authenticates and authorizes with the <a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a> instead of the
<a class="link" href="GDataService.html" title="GDataService"><span class="type">GDataService</span></a>. The <a class="link" href="GDataService.html" title="GDataService"><span class="type">GDataService</span></a> then uses the <a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a> to authorize individual network requests using whatever authorization token was
returned to the <a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a> by the Google Accounts service.</p>
<p>All <a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a> implementations are expected to operate against a set of <a class="link" href="GDataAuthorizationDomain.html" title="GDataAuthorizationDomain"><span class="type">GDataAuthorizationDomain</span></a>s which are provided to the
authorizer at construction time. These domains specify which data domains the client expects to access using the <a class="link" href="GDataService.html" title="GDataService"><span class="type">GDataService</span></a>s they
have using the <a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a> instance. Following the principle of least privilege, the set of domains should be the minimum such set of domains
which still allows the client to operate normally. Note that implementations of <a class="link" href="GDataAuthorizationDomain.html" title="GDataAuthorizationDomain"><span class="type">GDataAuthorizationDomain</span></a> may display the list of requested
authorization domains to the user for verification before authorization is granted.</p>
<p><a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a> implementations are provided for some of the standard authorization processes supported by Google for installed applications, as
listed in their <a class="ulink" href="http://code.google.com/apis/accounts/docs/GettingStarted.html" target="_top">online documentation</a>:</p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
<a class="link" href="GDataClientLoginAuthorizer.html" title="GDataClientLoginAuthorizer"><span class="type">GDataClientLoginAuthorizer</span></a> for
   <a class="ulink" href="http://code.google.com/apis/accounts/docs/AuthForInstalledApps.html" target="_top">ClientLogin</a> (deprecated)</li>
<li class="listitem">
<a class="link" href="GDataOAuth1Authorizer.html" title="GDataOAuth1Authorizer"><span class="type">GDataOAuth1Authorizer</span></a> for
   <a class="ulink" href="http://code.google.com/apis/accounts/docs/OAuthForInstalledApps.html" target="_top">OAuth 1.0</a> (deprecated)</li>
<li class="listitem">
<a class="link" href="GDataOAuth2Authorizer.html" title="GDataOAuth2Authorizer"><span class="type">GDataOAuth2Authorizer</span></a> for
   <a class="ulink" href="https://developers.google.com/accounts/docs/OAuth2InstalledApp" target="_top">OAuth 2.0</a> (preferred)</li>
</ul></div>
<p>It is quite possible for clients to write their own <a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a> implementation. For example, if a client already uses OAuth 2.0 and handles
authentication itself, it may want to use its own <a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a> implementation which simply exposes the client's existing access token to
libgdata and does nothing more.</p>
<p>It must be noted that all <a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a> implementations must be thread safe, as methods such as <a class="link" href="GDataAuthorizer.html#gdata-authorizer-refresh-authorization" title="gdata_authorizer_refresh_authorization ()"><code class="function">gdata_authorizer_refresh_authorization()</code></a> may be
called from any thread (such as the thread performing an asynchronous query operation) at any time.</p>
<p>Examples of code using <a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a> can be found in the documentation for the various implementations of the <a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a> interface.</p>
</div>
<div class="refsect1">
<a name="GDataAuthorizer.functions_details"></a><h2>Functions</h2>
<div class="refsect2">
<a name="gdata-authorizer-process-request"></a><h3>gdata_authorizer_process_request ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
gdata_authorizer_process_request (<em class="parameter"><code><a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a> *self</code></em>,
                                  <em class="parameter"><code><a class="link" href="GDataAuthorizationDomain.html" title="GDataAuthorizationDomain"><span class="type">GDataAuthorizationDomain</span></a> *domain</code></em>,
                                  <em class="parameter"><code><span class="type">SoupMessage</span> *message</code></em>);</pre>
<p>Processes <em class="parameter"><code>message</code></em>
, adding all the necessary extra headers and parameters to ensure that it's correctly authenticated and authorized under the
given <em class="parameter"><code>domain</code></em>
 for the online service. Basically, if a query is not processed by calling this method on it, it will be sent to the online service as
if it's a query from a non-logged-in user. Similarly, if the <a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a> isn't authenticated or authorized (for <em class="parameter"><code>domain</code></em>
), no changes will
be made to the <em class="parameter"><code>message</code></em>
.</p>
<p><em class="parameter"><code>domain</code></em>
 may be <a href="../../glib/unstable/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> if the request doesn't require authorization.</p>
<p>This modifies <em class="parameter"><code>message</code></em>
 in place.</p>
<p>This method is thread safe.</p>
<div class="refsect3">
<a name="id-1.3.5.2.11.2.8"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>self</p></td>
<td class="parameter_description"><p>a <a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>domain</p></td>
<td class="parameter_description"><p> the <a class="link" href="GDataAuthorizationDomain.html" title="GDataAuthorizationDomain"><span class="type">GDataAuthorizationDomain</span></a> the query falls under, or <a href="../../glib/unstable/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>. </p></td>
<td class="parameter_annotations"><span class="annotation">[<acronym title="NULL is OK, both for passing and for returning."><span class="acronym">allow-none</span></acronym>]</span></td>
</tr>
<tr>
<td class="parameter_name"><p>message</p></td>
<td class="parameter_description"><p>the query to process</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<p class="since">Since 0.9.0</p>
</div>
<hr></hr>
<div class="refsect2">
<a name="gdata-authorizer-is-authorized-for-domain"></a><h3>gdata_authorizer_is_authorized_for_domain ()</h3>
<pre class="programlisting"><a href="../../glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
gdata_authorizer_is_authorized_for_domain
                               (<em class="parameter"><code><a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a> *self</code></em>,
                                <em class="parameter"><code><a class="link" href="GDataAuthorizationDomain.html" title="GDataAuthorizationDomain"><span class="type">GDataAuthorizationDomain</span></a> *domain</code></em>);</pre>
<p>Returns whether the <a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a> instance believes it's currently authorized to access the given <em class="parameter"><code>domain</code></em>
. Note that this will not perform any
network requests, and will just look up the result in the <a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a>'s local cache of authorizations. This means that the result may be out
of date, as the server may have since invalidated the authorization. If the <a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a> class supports timeouts and TTLs on authorizations,
they will not be taken into account; this method effectively returns whether the last successful authorization operation performed on the
<a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a> included <em class="parameter"><code>domain</code></em>
 in the list of requested authorization domains.</p>
<p>Note that <a href="../../glib/unstable/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> may be passed as the <a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a>, in which case <a href="../../glib/unstable/glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a> will always be returned, regardless of the <em class="parameter"><code>domain</code></em>
. This is for
convenience of checking whether a domain is authorized by the <a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a> returned by <a class="link" href="GDataService.html#gdata-service-get-authorizer" title="gdata_service_get_authorizer ()"><code class="function">gdata_service_get_authorizer()</code></a>, which may be <a href="../../glib/unstable/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>.
For example:</p>
<div class="informalexample">
  <table border="0" cellpadding="0" cellspacing="0" class="listing_frame">
    <tbody>
      <tr>
        <td align="right" class="listing_lines"><pre>1
2
3</pre></td>
        <td class="listing_code"><pre class="programlisting"><span class="keyword">if</span> <span class="gtkdoc opt">(</span><span class="function"><a href="GDataAuthorizer.html#gdata-authorizer-is-authorized-for-domain">gdata_authorizer_is_authorized_for_domain</a></span> <span class="gtkdoc opt">(</span><span class="function"><a href="GDataService.html#gdata-service-get-authorizer">gdata_service_get_authorizer</a></span> <span class="gtkdoc opt">(</span>my_service<span class="gtkdoc opt">),</span> my_domain<span class="gtkdoc opt">) ==</span> TRUE<span class="gtkdoc opt">) {</span>
	<span class="gtkdoc opt">/&lt;!-- --&gt;*</span> Code to execute only <span class="keyword">if</span> we<span class="string">'re authorized for the given domain *&lt;!-- --&gt;/</span>
<span class="string">}</span></pre></td>
      </tr>
    </tbody>
  </table>
</div>

<p></p>
<p>This method is thread safe.</p>
<div class="refsect3">
<a name="id-1.3.5.2.11.3.9"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>self</p></td>
<td class="parameter_description"><p> a <a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a>, or <a href="../../glib/unstable/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>. </p></td>
<td class="parameter_annotations"><span class="annotation">[<acronym title="NULL is OK, both for passing and for returning."><span class="acronym">allow-none</span></acronym>]</span></td>
</tr>
<tr>
<td class="parameter_name"><p>domain</p></td>
<td class="parameter_description"><p>the <a class="link" href="GDataAuthorizationDomain.html" title="GDataAuthorizationDomain"><span class="type">GDataAuthorizationDomain</span></a> to check against</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.3.5.2.11.3.10"></a><h4>Returns</h4>
<p> <a href="../../glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if the <a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a> has been authorized to access <em class="parameter"><code>domain</code></em>
, <a href="../../glib/unstable/glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a> otherwise</p>
</div>
<p class="since">Since 0.9.0</p>
</div>
<hr></hr>
<div class="refsect2">
<a name="gdata-authorizer-refresh-authorization"></a><h3>gdata_authorizer_refresh_authorization ()</h3>
<pre class="programlisting"><a href="../../glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
gdata_authorizer_refresh_authorization
                               (<em class="parameter"><code><a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a> *self</code></em>,
                                <em class="parameter"><code><a href="../../gio/unstable/GCancellable.html"><span class="type">GCancellable</span></a> *cancellable</code></em>,
                                <em class="parameter"><code><a href="../../glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);</pre>
<p>Forces the <a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a> to refresh any authorization tokens it holds with the online service. This should typically be called when a
<a class="link" href="GDataService.html" title="GDataService"><span class="type">GDataService</span></a> query returns <a class="link" href="GDataService.html#GDATA-SERVICE-ERROR-AUTHENTICATION-REQUIRED:CAPS"><code class="literal">GDATA_SERVICE_ERROR_AUTHENTICATION_REQUIRED</code></a>, and is already called transparently by methods such as
<a class="link" href="GDataService.html#gdata-service-query" title="gdata_service_query ()"><code class="function">gdata_service_query()</code></a> and <a class="link" href="GDataService.html#gdata-service-insert-entry" title="gdata_service_insert_entry ()"><code class="function">gdata_service_insert_entry()</code></a> (see their documentation for more details).</p>
<p>If re-authorization is successful, it's guaranteed that by the time this method returns, the properties containing the relevant authorization
tokens on the <a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a> instance will have been updated.</p>
<p>If <a href="../../glib/unstable/glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a> is returned, <em class="parameter"><code>error</code></em>
 will be set if (and only if) it's due to a refresh being attempted and failing. If a refresh is not attempted, <a href="../../glib/unstable/glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a>
will be returned but <em class="parameter"><code>error</code></em>
 will not be set.</p>
<p>If the <a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a> has not been previously authenticated or authorized (using the class' specific methods), no authorization will be
attempted, <a href="../../glib/unstable/glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a> will be returned immediately and <em class="parameter"><code>error</code></em>
 will not be set.</p>
<p>Some <a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a> implementations may not support refreshing authorization tokens at all; for example if doing so requires user interaction.
<a href="../../glib/unstable/glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a> will be returned immediately in that case and <em class="parameter"><code>error</code></em>
 will not be set.</p>
<p>This method is thread safe.</p>
<div class="refsect3">
<a name="id-1.3.5.2.11.4.10"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>self</p></td>
<td class="parameter_description"><p>a <a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>cancellable</p></td>
<td class="parameter_description"><p> optional <a href="../../gio/unstable/GCancellable.html"><span class="type">GCancellable</span></a> object, or <a href="../../glib/unstable/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>. </p></td>
<td class="parameter_annotations"><span class="annotation">[<acronym title="NULL is OK, both for passing and for returning."><span class="acronym">allow-none</span></acronym>]</span></td>
</tr>
<tr>
<td class="parameter_name"><p>error</p></td>
<td class="parameter_description"><p>a <a href="../../glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a>, or <a href="../../glib/unstable/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.3.5.2.11.4.11"></a><h4>Returns</h4>
<p> <a href="../../glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if an authorization refresh was attempted and was successful, <a href="../../glib/unstable/glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a> if a refresh wasn't attempted or was unsuccessful</p>
</div>
<p class="since">Since 0.9.0</p>
</div>
<hr></hr>
<div class="refsect2">
<a name="gdata-authorizer-refresh-authorization-async"></a><h3>gdata_authorizer_refresh_authorization_async ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
gdata_authorizer_refresh_authorization_async
                               (<em class="parameter"><code><a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a> *self</code></em>,
                                <em class="parameter"><code><a href="../../gio/unstable/GCancellable.html"><span class="type">GCancellable</span></a> *cancellable</code></em>,
                                <em class="parameter"><code><a href="../../gio/unstable/GAsyncResult.html#GAsyncReadyCallback"><span class="type">GAsyncReadyCallback</span></a> callback</code></em>,
                                <em class="parameter"><code><a href="../../glib/unstable/glib-Basic-Types.html#gpointer"><span class="type">gpointer</span></a> user_data</code></em>);</pre>
<p>Forces the <a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a> to refresh any authorization tokens it holds with the online service. <em class="parameter"><code>self</code></em>
 and <em class="parameter"><code>cancellable</code></em>
 are reffed when this
method is called, so can safely be freed after this method returns.</p>
<p>For more details, see <a class="link" href="GDataAuthorizer.html#gdata-authorizer-refresh-authorization" title="gdata_authorizer_refresh_authorization ()"><code class="function">gdata_authorizer_refresh_authorization()</code></a>, which is the synchronous version of this method. If the <a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a> class
doesn't implement <a class="link" href="GDataAuthorizer.html#GDataAuthorizerInterface.refresh-authorization-async"><span class="type">GDataAuthorizerInterface.refresh_authorization_async</span></a> but does implement <a class="link" href="GDataAuthorizer.html#GDataAuthorizerInterface.refresh-authorization"><span class="type">GDataAuthorizerInterface.refresh_authorization</span></a>, the
latter will be called from a new thread to make it asynchronous.</p>
<p>When the authorization refresh operation is finished, <em class="parameter"><code>callback</code></em>
 will be called. You can then call <a class="link" href="GDataAuthorizer.html#gdata-authorizer-refresh-authorization-finish" title="gdata_authorizer_refresh_authorization_finish ()"><code class="function">gdata_authorizer_refresh_authorization_finish()</code></a>
to get the results of the operation.</p>
<p>This method is thread safe.</p>
<div class="refsect3">
<a name="id-1.3.5.2.11.5.8"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>self</p></td>
<td class="parameter_description"><p>a <a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>cancellable</p></td>
<td class="parameter_description"><p> optional <a href="../../gio/unstable/GCancellable.html"><span class="type">GCancellable</span></a> object, or <a href="../../glib/unstable/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>. </p></td>
<td class="parameter_annotations"><span class="annotation">[<acronym title="NULL is OK, both for passing and for returning."><span class="acronym">allow-none</span></acronym>]</span></td>
</tr>
<tr>
<td class="parameter_name"><p>callback</p></td>
<td class="parameter_description"><p> a <a href="../../gio/unstable/GAsyncResult.html#GAsyncReadyCallback"><span class="type">GAsyncReadyCallback</span></a> to call when the authorization refresh operation is finished, or <a href="../../glib/unstable/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>. </p></td>
<td class="parameter_annotations"><span class="annotation">[<acronym title="NULL is OK, both for passing and for returning."><span class="acronym">allow-none</span></acronym>][<acronym title="The callback is valid until first called."><span class="acronym">scope async</span></acronym>]</span></td>
</tr>
<tr>
<td class="parameter_name"><p>user_data</p></td>
<td class="parameter_description"><p> data to pass to the <em class="parameter"><code>callback</code></em>
function. </p></td>
<td class="parameter_annotations"><span class="annotation">[<acronym title="This parameter is a 'user_data', for callbacks; many bindings can pass NULL here."><span class="acronym">closure</span></acronym>]</span></td>
</tr>
</tbody>
</table></div>
</div>
<p class="since">Since 0.9.0</p>
</div>
<hr></hr>
<div class="refsect2">
<a name="gdata-authorizer-refresh-authorization-finish"></a><h3>gdata_authorizer_refresh_authorization_finish ()</h3>
<pre class="programlisting"><a href="../../glib/unstable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
gdata_authorizer_refresh_authorization_finish
                               (<em class="parameter"><code><a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a> *self</code></em>,
                                <em class="parameter"><code><a href="../../gio/unstable/GAsyncResult.html"><span class="type">GAsyncResult</span></a> *async_result</code></em>,
                                <em class="parameter"><code><a href="../../glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);</pre>
<p>Finishes an asynchronous authorization refresh operation for the <a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a>, as started with <a class="link" href="GDataAuthorizer.html#gdata-authorizer-refresh-authorization-async" title="gdata_authorizer_refresh_authorization_async ()"><code class="function">gdata_authorizer_refresh_authorization_async()</code></a>.</p>
<p>This method is thread safe.</p>
<div class="refsect3">
<a name="id-1.3.5.2.11.6.6"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>self</p></td>
<td class="parameter_description"><p>a <a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>async_result</p></td>
<td class="parameter_description"><p>a <a href="../../gio/unstable/GAsyncResult.html"><span class="type">GAsyncResult</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>error</p></td>
<td class="parameter_description"><p>a <a href="../../glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a>, or <a href="../../glib/unstable/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.3.5.2.11.6.7"></a><h4>Returns</h4>
<p> <a href="../../glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if an authorization refresh was attempted and was successful, <a href="../../glib/unstable/glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a> if a refresh wasn't attempted or was unsuccessful</p>
</div>
<p class="since">Since 0.9.0</p>
</div>
</div>
<div class="refsect1">
<a name="GDataAuthorizer.other_details"></a><h2>Types and Values</h2>
<div class="refsect2">
<a name="GDataAuthorizer-struct"></a><h3>GDataAuthorizer</h3>
<pre class="programlisting">typedef struct _GDataAuthorizer GDataAuthorizer;</pre>
<p>All the fields in the <a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a> structure are private and should never be accessed directly.</p>
<p class="since">Since 0.9.0</p>
</div>
<hr></hr>
<div class="refsect2">
<a name="GDataAuthorizerInterface"></a><h3>GDataAuthorizerInterface</h3>
<pre class="programlisting">typedef struct {
	GTypeInterface parent;

	void (*process_request) (GDataAuthorizer *self, GDataAuthorizationDomain *domain, SoupMessage *message);
	gboolean (*is_authorized_for_domain) (GDataAuthorizer *self, GDataAuthorizationDomain *domain);
	gboolean (*refresh_authorization) (GDataAuthorizer *self, GCancellable *cancellable, GError **error);
	void (*refresh_authorization_async) (GDataAuthorizer *self, GCancellable *cancellable,
	                                     GAsyncReadyCallback callback, gpointer user_data);
	gboolean (*refresh_authorization_finish) (GDataAuthorizer *self, GAsyncResult *async_result, GError **error);
} GDataAuthorizerInterface;
</pre>
<p>The class structure for the <a class="link" href="GDataAuthorizer.html" title="GDataAuthorizer"><span class="type">GDataAuthorizer</span></a> interface.</p>
<div class="refsect3">
<a name="id-1.3.5.2.12.3.5"></a><h4>Members</h4>
<div class="informaltable"><table border="0" width="100%">
<colgroup>
<col class="struct_members_name" width="300px"></col>
<col class="struct_members_description"></col>
<col class="struct_members_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="struct_member_name"><p><a href="../../gobject/unstable/gobject-Type-Information.html#GTypeInterface"><span class="type">GTypeInterface</span></a> <em class="structfield"><code><a name="GDataAuthorizerInterface.parent"></a>parent</code></em>;</p></td>
<td class="struct_member_description"><p>the parent type</p></td>
<td class="struct_member_annotations"> </td>
</tr>
<tr>
<td class="struct_member_name"><p><em class="structfield"><code><a name="GDataAuthorizerInterface.process-request"></a>process_request</code></em> ()</p></td>
<td class="struct_member_description"><p>a function to append authorization headers to queries before they are submitted to the online service under the given
authorization domain (which may be <a href="../../glib/unstable/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a>); this must be implemented and must be thread safe, and must also handle being called multiple times on
the same <span class="type">SoupMessage</span> instance (so must be careful to replace headers rather than append them, for example)</p></td>
<td class="struct_member_annotations"> </td>
</tr>
<tr>
<td class="struct_member_name"><p><em class="structfield"><code><a name="GDataAuthorizerInterface.is-authorized-for-domain"></a>is_authorized_for_domain</code></em> ()</p></td>
<td class="struct_member_description"><p>a function to check whether the authorizer is authorized against the given domain; this must be implemented and must
be thread safe</p></td>
<td class="struct_member_annotations"> </td>
</tr>
<tr>
<td class="struct_member_name"><p><em class="structfield"><code><a name="GDataAuthorizerInterface.refresh-authorization"></a>refresh_authorization</code></em> ()</p></td>
<td class="struct_member_description"><p> a function to force a refresh of any authorization tokens the authorizer holds, returning <a href="../../glib/unstable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if a refresh
was attempted and was successful, or <a href="../../glib/unstable/glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a> if a refresh wasn't attempted or was unsuccessful; if this isn't implemented it's assumed <a href="../../glib/unstable/glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a>
would've been returned, if it is implemented it must be thread safe. </p></td>
<td class="struct_member_annotations"><span class="annotation">[<acronym title="NULL is OK, both for passing and for returning."><span class="acronym">allow-none</span></acronym>]</span></td>
</tr>
<tr>
<td class="struct_member_name"><p><em class="structfield"><code><a name="GDataAuthorizerInterface.refresh-authorization-async"></a>refresh_authorization_async</code></em> ()</p></td>
<td class="struct_member_description"><p> an asynchronous version of <em class="parameter"><code>refresh_authorization</code></em>
; if this isn't implemented and <em class="parameter"><code>refresh_authorization</code></em>
is, <em class="parameter"><code>refresh_authorization</code></em>
will be called in a thread to simulate this function, whereas if this is implemented <em class="parameter"><code>refresh_authorization_finish</code></em>
must
also be implemented and both functions must be thread safe. </p></td>
<td class="struct_member_annotations"><span class="annotation">[<acronym title="NULL is OK, both for passing and for returning."><span class="acronym">allow-none</span></acronym>]</span></td>
</tr>
<tr>
<td class="struct_member_name"><p><em class="structfield"><code><a name="GDataAuthorizerInterface.refresh-authorization-finish"></a>refresh_authorization_finish</code></em> ()</p></td>
<td class="struct_member_description"><p> a finish function for the asynchronous version of <em class="parameter"><code>refresh_authorization</code></em>
; this must be implemented
exactly if <em class="parameter"><code>refresh_authorization_async</code></em>
is implemented, and must be thread safe if it is implemented. </p></td>
<td class="struct_member_annotations"><span class="annotation">[<acronym title="NULL is OK, both for passing and for returning."><span class="acronym">allow-none</span></acronym>]</span></td>
</tr>
</tbody>
</table></div>
</div>
<p class="since">Since 0.9.0</p>
</div>
</div>
</div><div class="footer">
<hr></hr>
          Generated by GTK-Doc V1.21.1</div></div><div id="footer_art" class="default"> </div></div><div class="clearfix"></div><div id="footer_grass">   </div><div id="footer"><div class="container_12"><div class="links grid_9"><div class="menu-footer-1-container"><ul id="menu-footer-1" class="menu"><li id="menu-item-88" class="menu-item menu-item-type-custom menu-item-home menu-item-88"><a href="https://www.gnome.org/">The GNOME Project</a><ul class="sub-menu"><li id="menu-item-89" class="menu-item menu-item-type-post_type menu-item-89"><a href="https://www.gnome.org/about/">About Us</a></li><li id="menu-item-90" class="menu-item menu-item-type-custom menu-item-90"><a href="https://www.gnome.org/get-involved/">Get Involved</a></li><li id="menu-item-91" class="menu-item menu-item-type-custom menu-item-91"><a href="https://www.gnome.org/teams/">Teams</a></li><li id="menu-item-92" class="menu-item menu-item-type-custom menu-item-92"><a href="https://foundation.gnome.org">The GNOME Foundation</a></li><li><a href="https://www.gnome.org/support-gnome/">Support GNOME</a></li><li><a href="https://www.gnome.org/contact/">Contact</a></li></ul></li></ul></div><div class="menu-footer-2-container"><ul id="menu-footer-2" class="menu"><li id="menu-item-99" class="menu-item menu-item-type-post_type current-menu-item page_item page-item-20 current_page_item menu-item-99"><a href="GDataAuthorizer.html#">Resources</a><ul class="sub-menu"><li><a href="https://help.gnome.org">Documentation</a></li><li><a href="https://wiki.gnome.org">Wiki</a></li><li><a href="https://mail.gnome.org/mailman/listinfo">Mailing Lists</a></li><li><a href="https://wiki.gnome.org/GnomeIrcChannels">IRC Channels</a></li><li><a href="https://gitlab.gnome.org/">Bug Tracker</a></li><li><a href="https://gitlab.gnome.org/">Development Code</a></li><li><a href="https://wiki.gnome.org/Jhbuild">Build Tool</a></li></ul></li></ul></div><div class="menu-footer-4-container"><ul id="menu-footer-4" class="menu"><li id="menu-item-104" class="menu-item menu-item-type-custom menu-item-104"><a href="http://www.gnome.org/news/">News</a><ul class="sub-menu"><li><a href="https://www.gnome.org/start/stable">Latest Release</a></li><li><a href="https://planet.gnome.org">Planet GNOME</a></li><li><a href="https://news.gnome.org">Development News</a></li><li><a href="https://twitter.com/gnome">Twitter</a></li></ul></li></ul></div></div><div class="links grid_3 right"><div><ul class="menu available_languages"><li><strong>This website is available in many languages</strong><ul class="sub-menu"><li><a href="../../languages.html" title="Switching Language">Switch Language</a></li></ul></li></ul><script type="text/javascript" src="../../js/language.js"></script></div></div><div id="footnotes" class="grid_9">
                Copyright © 2005‒2014 <strong class="gnome_logo">The GNOME Project</strong><br></br><small>Optimised for standards. Hosted by <a href="http://redhat.com">Red Hat</a>.</small></div><div class="clear"></div></div></div><script type="text/javascript">
$(document).ready(function() {
    // Get browser
    $.each($.browser, function(i) {
        $('body').addClass(i);
        return false;
    });

    // Get OS and add it as class to body tag, this then allows forcing some
    // customisation in the CSS rules.
    var match = navigator.userAgent.toLowerCase().match(/(win|mac|linux)/);
    if (match) {
        $('body').addClass(match[0]);
    }
});
</script><script type="text/javascript">
      var _paq = _paq || [];
      _paq.push(['disableCookies']);
      _paq.push(["trackPageView"]);
      _paq.push(["enableLinkTracking"]);

      (function() {
        var u=(("https:" == document.location.protocol) ? "https" : "http") + "://webstats.gnome.org/";
        _paq.push(["setTrackerUrl", u+"piwik.php"]);
        _paq.push(["setSiteId", "6"]);
        var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";
        g.defer=true; g.async=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
      })();
    </script></body></html>
