<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:html="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="text/html; charset=utf-8"></meta><link rel="stylesheet" href="../../skin/gtkdoc.css" type="text/css"></link><link rel="stylesheet" type="text/css" media="all" href="https://static.gnome.org/css/grass-theme-style.css"></link><link rel="stylesheet" type="text/css" media="all" href="../../skin/lgo2010.css"></link><link rel="icon" type="image/png" href="../../skin/gnome-16.png"></link><link rel="SHORTCUT ICON" type="image/png" href="../../skin/gnome-16.png"></link><link rel="search" type="application/opensearchdescription+xml" href="../../gnome-library-search.xml" title="GNOME Library Search"></link><link rel="stylesheet" type="text/css" href="../../skin/jquery.autocomplete.css"></link><script type="text/javascript" src="../../js/jquery.js"></script><script type="text/javascript" src="../../js/jquery.autocomplete.js"></script><title>Shader snippets: Cogl 2.0 Reference Manual</title><link href="index.html" rel="home" title="Cogl 2.0 Reference Manual"></link><link href="cogl-pipeline-apis.html" rel="up" title="Setting Up A GPU Pipeline"></link><link href="cogl-2.0-experimental-Depth-State.html" rel="prev" title="Depth State"></link><link href="cogl-buffer-apis.html" rel="next" title="Allocating GPU Memory"></link><link rel="stylesheet" type="text/css" media="all" href="../../skin/jquery.autocomplete.css"></link><link rel="stylesheet" type="text/css" media="all" href="../../skin/960_24_col.css"></link><script type="text/javascript" src="../../js/jquery.js"></script><script type="text/javascript" src="https://developer-old.gnome.org/js/jquery.jcarousel.min.js"></script><script type="text/javascript" src="../../js/jquery.autocomplete.js"></script></head><body><div id="accessibility_access"><ul><li><a href="cogl-2.0-experimental-Shader-snippets.html#container">Go to page content</a></li><li><a href="cogl-2.0-experimental-Shader-snippets.html#top_bar">Go to main menu</a></li><li><a href="cogl-2.0-experimental-Shader-snippets.html#s" onclick="$('#s').focus(); return false;">Go to the search field</a></li></ul></div><div id="global_domain_bar"><div class="maxwidth"><div class="tab"><a class="root" href="https://www.gnome.org/">GNOME.org</a></div></div></div><div id="header" class="container_12"><div id="logo" class="grid_3"><a title="Go to home page" href="../../index.html"><img alt="GNOME: The Free Software Desktop Project" src="../../skin/gnome-logo-devcenter.png"></img></a></div><div id="top_bar" class="grid_9"><div class="left"><div class="menu-globalnav-container"><ul id="menu-globalnav" class="menu"><li class="menu-item menu-item-type-post_type menu-item-6"><a href="../../about/index.html">About</a></li><li class="menu-item menu-item-type-post_type menu-item-23"><a href="https://help.gnome.org/users/">Users</a></li><li class="menu-item menu-item-type-post_type menu-item-40"><a href="https://help.gnome.org/admin/">Administrators</a></li><li class="current-menu-item"><a href="https://developer.gnome.org/">Developers</a></li></ul></div></div><div class="right"><form role="search" method="get" id="searchform" action="https://developer-old.gnome.org/symbols/"><div><label class="hidden" for="q">Search:
                        </label><input type="text" value="" name="q" id="s" placeholder="Search"></input></div></form><script type="text/javascript">
$('#s').autocomplete('/symbols/lookup/',
        { minChars:3, matchSubset:1, matchContains:1, cacheLength:10,
          selectOnly:1, rowsLimit:25 });
              </script></div></div></div><div class="clearfix"></div><div id="container" class="gtk-doc"><div class="content"><table cellpadding="2" cellspacing="5" class="navigation" id="top" summary="Navigation header" width="100%"><tbody><tr valign="middle">
<td align="left" class="shortcuts" width="100%">
<a class="shortcut" href="cogl-2.0-experimental-Shader-snippets.html#">Top</a><span id="nav_description">  <span class="dim">|</span> 
                  <a class="shortcut" href="cogl-2.0-experimental-Shader-snippets.html#cogl-2.0-experimental-Shader-snippets.description">Description</a></span>
</td>
<td><a accesskey="h" href="index.html"><img alt="Home" border="0" height="16" src="home.png" width="16"></img></a></td>
<td><a accesskey="u" href="cogl-pipeline-apis.html"><img alt="Up" border="0" height="16" src="up.png" width="16"></img></a></td>
<td><a accesskey="p" href="cogl-2.0-experimental-Depth-State.html"><img alt="Prev" border="0" height="16" src="left.png" width="16"></img></a></td>
<td><a accesskey="n" href="cogl-buffer-apis.html"><img alt="Next" border="0" height="16" src="right.png" width="16"></img></a></td>
</tr></tbody></table><div class="refentry">
<a name="cogl-2.0-experimental-Shader-snippets"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tbody><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="cogl-2.0-experimental-Shader-snippets.top_of_page"></a>Shader snippets</span></h2>
<p>Shader snippets — Functions for creating and manipulating shader snippets</p>
</td>
<td align="right" class="gallery_image" valign="top"></td>
</tr></tbody></table></div>
<div class="refsect1">
<a name="cogl-2.0-experimental-Shader-snippets.functions"></a><h2>Functions</h2>
<div class="informaltable"><table border="0" width="100%">
<colgroup>
<col class="functions_return" width="150px"></col>
<col class="functions_name"></col>
</colgroup>
<tbody>
<tr>
<td class="function_type">
<a class="link" href="cogl-2.0-experimental-Shader-snippets.html#CoglSnippet" title="CoglSnippet"><span class="returnvalue">CoglSnippet</span></a> *
</td>
<td class="function_name">
<a class="link" href="cogl-2.0-experimental-Shader-snippets.html#cogl-snippet-new" title="cogl_snippet_new ()">cogl_snippet_new</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a class="link" href="cogl-2.0-experimental-Shader-snippets.html#CoglSnippetHook" title="enum CoglSnippetHook"><span class="returnvalue">CoglSnippetHook</span></a>
</td>
<td class="function_name">
<a class="link" href="cogl-2.0-experimental-Shader-snippets.html#cogl-snippet-get-hook" title="cogl_snippet_get_hook ()">cogl_snippet_get_hook</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a class="link" href="cogl-2.0-experimental-Common-Types.html#CoglBool" title="CoglBool"><span class="returnvalue">CoglBool</span></a>
</td>
<td class="function_name">
<a class="link" href="cogl-2.0-experimental-Shader-snippets.html#cogl-is-snippet" title="cogl_is_snippet ()">cogl_is_snippet</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="cogl-2.0-experimental-Shader-snippets.html#cogl-snippet-set-declarations" title="cogl_snippet_set_declarations ()">cogl_snippet_set_declarations</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">const <span class="returnvalue">char</span> *
</td>
<td class="function_name">
<a class="link" href="cogl-2.0-experimental-Shader-snippets.html#cogl-snippet-get-declarations" title="cogl_snippet_get_declarations ()">cogl_snippet_get_declarations</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="cogl-2.0-experimental-Shader-snippets.html#cogl-snippet-set-pre" title="cogl_snippet_set_pre ()">cogl_snippet_set_pre</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">const <span class="returnvalue">char</span> *
</td>
<td class="function_name">
<a class="link" href="cogl-2.0-experimental-Shader-snippets.html#cogl-snippet-get-pre" title="cogl_snippet_get_pre ()">cogl_snippet_get_pre</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="cogl-2.0-experimental-Shader-snippets.html#cogl-snippet-set-replace" title="cogl_snippet_set_replace ()">cogl_snippet_set_replace</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">const <span class="returnvalue">char</span> *
</td>
<td class="function_name">
<a class="link" href="cogl-2.0-experimental-Shader-snippets.html#cogl-snippet-get-replace" title="cogl_snippet_get_replace ()">cogl_snippet_get_replace</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="cogl-2.0-experimental-Shader-snippets.html#cogl-snippet-set-post" title="cogl_snippet_set_post ()">cogl_snippet_set_post</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">const <span class="returnvalue">char</span> *
</td>
<td class="function_name">
<a class="link" href="cogl-2.0-experimental-Shader-snippets.html#cogl-snippet-get-post" title="cogl_snippet_get_post ()">cogl_snippet_get_post</a> <span class="c_punctuation">()</span>
</td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1">
<a name="cogl-2.0-experimental-Shader-snippets.other"></a><h2>Types and Values</h2>
<div class="informaltable"><table border="0" width="100%">
<colgroup>
<col class="name" width="150px"></col>
<col class="description"></col>
</colgroup>
<tbody>
<tr>
<td class="datatype_keyword"> </td>
<td class="function_name"><a class="link" href="cogl-2.0-experimental-Shader-snippets.html#CoglSnippet" title="CoglSnippet">CoglSnippet</a></td>
</tr>
<tr>
<td class="datatype_keyword">enum</td>
<td class="function_name"><a class="link" href="cogl-2.0-experimental-Shader-snippets.html#CoglSnippetHook" title="enum CoglSnippetHook">CoglSnippetHook</a></td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1">
<a name="cogl-2.0-experimental-Shader-snippets.description"></a><h2>Description</h2>
<p><a class="link" href="cogl-2.0-experimental-Shader-snippets.html#CoglSnippet" title="CoglSnippet"><span class="type">CoglSnippet</span></a>s are used to modify or replace parts of a
<a class="link" href="cogl-2.0-experimental-Pipeline.html#CoglPipeline" title="CoglPipeline"><span class="type">CoglPipeline</span></a> using GLSL. GLSL is a programming language supported
by OpenGL on programmable hardware to provide a more flexible
description of what should be rendered. A description of GLSL
itself is outside the scope of this documentation but any good
OpenGL book should help to describe it.</p>
<p>Unlike in OpenGL, when using GLSL with Cogl it is possible to write
short snippets to replace small sections of the pipeline instead of
having to replace the whole of either the vertex or fragment
pipelines. Of course it is also possible to replace the whole of
the pipeline if needed.</p>
<p>Each snippet is a standalone chunk of code which would attach to
the pipeline at a particular point. The code is split into four
separate strings (all of which are optional):</p>
<div class="glosslist"><dl>
<dt><span class="glossterm">declarations</span></dt>
<dd class="glossdef"><p>
The code in this string will be inserted outside of any function in
the global scope of the shader. This can be used to declare
uniforms, attributes, varyings and functions to be used by the
snippet.
  </p></dd>
<dt><span class="glossterm">pre</span></dt>
<dd class="glossdef"><p>
The code in this string will be inserted before the hook point.
  </p></dd>
<dt><span class="glossterm">post</span></dt>
<dd class="glossdef"><p>
The code in this string will be inserted after the hook point. This
can be used to modify the results of the builtin generated code for
that hook point.
  </p></dd>
<dt><span class="glossterm">replace</span></dt>
<dd class="glossdef"><p>
If present the code in this string will replace the generated code
for the hook point.
  </p></dd>
</dl></div>
<p>All of the strings apart from the declarations string of a pipeline
are generated in a single function so they can share variables
declared from one string in another. The scope of the code is
limited to each snippet so local variables declared in the snippet
will not collide with variables declared in another
snippet. However, code in the 'declarations' string is global to
the shader so it is the application's responsibility to ensure that
variables declared here will not collide with those from other
snippets.</p>
<p>The snippets can be added to a pipeline with
<a class="link" href="cogl-2.0-experimental-Pipeline.html#cogl-pipeline-add-snippet" title="cogl_pipeline_add_snippet ()"><code class="function">cogl_pipeline_add_snippet()</code></a> or
<a class="link" href="cogl-2.0-experimental-Pipeline.html#cogl-pipeline-add-layer-snippet" title="cogl_pipeline_add_layer_snippet ()"><code class="function">cogl_pipeline_add_layer_snippet()</code></a>. Which function to use depends on
which hook the snippet is targetting. The snippets are all
generated in the order they are added to the pipeline. That is, the
post strings are executed in the order they are added to the
pipeline and the pre strings are executed in reverse order. If any
replace strings are given for a snippet then any other snippets
with the same hook added before that snippet will be ignored. The
different hooks are documented under <a class="link" href="cogl-2.0-experimental-Shader-snippets.html#CoglSnippetHook" title="enum CoglSnippetHook"><span class="type">CoglSnippetHook</span></a>.</p>
<p>For portability with GLES2, it is recommended not to use the GLSL
builtin names such as gl_FragColor. Instead there are replacement
names under the cogl_* namespace which can be used instead. These
are:</p>
<div class="glosslist"><dl>
<dt><span class="glossterm">uniform mat4
        <span class="emphasis"><em>cogl_modelview_matrix</em></span></span></dt>
<dd class="glossdef"><p>
   The current modelview matrix. This is equivalent to
   <span class="type">gl_ModelViewMatrix</span>.
  </p></dd>
<dt><span class="glossterm">uniform mat4
        <span class="emphasis"><em>cogl_projection_matrix</em></span></span></dt>
<dd class="glossdef"><p>
   The current projection matrix. This is equivalent to
   <span class="type">gl_ProjectionMatrix</span>.
  </p></dd>
<dt><span class="glossterm">uniform mat4
        <span class="emphasis"><em>cogl_modelview_projection_matrix</em></span></span></dt>
<dd class="glossdef"><p>
   The combined modelview and projection matrix. A vertex shader
   would typically use this to transform the incoming vertex
   position. The separate modelview and projection matrices are
   usually only needed for lighting calculations. This is
   equivalent to <span class="type">gl_ModelViewProjectionMatrix</span>.
  </p></dd>
<dt><span class="glossterm">uniform mat4
        <span class="emphasis"><em>cogl_texture_matrix</em></span>[]</span></dt>
<dd class="glossdef"><p>
   An array of matrices for transforming the texture
   coordinates. This is equivalent to <span class="type">gl_TextureMatrix</span>.
  </p></dd>
</dl></div>
<p>In a vertex shader, the following are also available:</p>
<div class="glosslist"><dl>
<dt><span class="glossterm">attribute vec4
        <span class="emphasis"><em>cogl_position_in</em></span></span></dt>
<dd class="glossdef"><p>
   The incoming vertex position. This is equivalent to <span class="type">gl_Vertex</span>.
  </p></dd>
<dt><span class="glossterm">attribute vec4
        <span class="emphasis"><em>cogl_color_in</em></span></span></dt>
<dd class="glossdef"><p>
   The incoming vertex color. This is equivalent to <span class="type">gl_Color</span>.
  </p></dd>
<dt><span class="glossterm">attribute vec4
        <span class="emphasis"><em>cogl_tex_coord_in</em></span></span></dt>
<dd class="glossdef"><p>
   The texture coordinate for layer 0. This is an alternative name
   for <span class="type">cogl_tex_coord0_in</span>.
  </p></dd>
<dt><span class="glossterm">attribute vec4
        <span class="emphasis"><em>cogl_tex_coord0_in</em></span></span></dt>
<dd class="glossdef"><p>
   The texture coordinate for the layer 0. This is equivalent to
   <span class="type">gl_MultiTexCoord0</span>. There will also be <span class="type">cogl_tex_coord1_in</span> and
   so on if more layers are added to the pipeline.
  </p></dd>
<dt><span class="glossterm">attribute vec3
        <span class="emphasis"><em>cogl_normal_in</em></span></span></dt>
<dd class="glossdef"><p>
   The normal of the vertex. This is equivalent to <span class="type">gl_Normal</span>.
  </p></dd>
<dt><span class="glossterm">vec4
        <span class="emphasis"><em>cogl_position_out</em></span></span></dt>
<dd class="glossdef"><p>
   The calculated position of the vertex. This must be written to
   in all vertex shaders. This is equivalent to <span class="type">gl_Position</span>.
  </p></dd>
<dt><span class="glossterm">float
        <span class="emphasis"><em>cogl_point_size_in</em></span></span></dt>
<dd class="glossdef"><p>
   The incoming point size from the cogl_point_size_in attribute.
   This is only available if
   <a class="link" href="cogl-2.0-experimental-Pipeline.html#cogl-pipeline-set-per-vertex-point-size" title="cogl_pipeline_set_per_vertex_point_size ()"><code class="function">cogl_pipeline_set_per_vertex_point_size()</code></a> is set on the
   pipeline.
  </p></dd>
<dt><span class="glossterm">float
        <span class="emphasis"><em>cogl_point_size_out</em></span></span></dt>
<dd class="glossdef"><p>
   The calculated size of a point. This is equivalent to <span class="type">gl_PointSize</span>.
  </p></dd>
<dt><span class="glossterm">varying vec4
        <span class="emphasis"><em>cogl_color_out</em></span></span></dt>
<dd class="glossdef"><p>
   The calculated color of a vertex. This is equivalent to <span class="type">gl_FrontColor</span>.
  </p></dd>
<dt><span class="glossterm">varying vec4
        <span class="emphasis"><em>cogl_tex_coord0_out</em></span></span></dt>
<dd class="glossdef"><p>
   The calculated texture coordinate for layer 0 of the pipeline.
   This is equivalent to <span class="type">gl_TexCoord</span>[0]. There will also be
   <span class="type">cogl_tex_coord1_out</span> and so on if more layers are added to the
   pipeline. In the fragment shader, this varying is called
   <span class="type">cogl_tex_coord0_in</span>.
  </p></dd>
</dl></div>
<p>In a fragment shader, the following are also available:</p>
<div class="glosslist"><dl>
<dt><span class="glossterm">varying vec4 <span class="emphasis"><em>cogl_color_in</em></span></span></dt>
<dd class="glossdef"><p>
   The calculated color of a vertex. This is equivalent to <span class="type">gl_FrontColor</span>.
  </p></dd>
<dt><span class="glossterm">varying vec4
             <span class="emphasis"><em>cogl_tex_coord0_in</em></span></span></dt>
<dd class="glossdef"><p>
   The texture coordinate for layer 0. This is equivalent to
   <span class="type">gl_TexCoord</span>[0]. There will also be <span class="type">cogl_tex_coord1_in</span> and so
   on if more layers are added to the pipeline.
  </p></dd>
<dt><span class="glossterm">vec4 <span class="emphasis"><em>cogl_color_out</em></span></span></dt>
<dd class="glossdef"><p>
   The final calculated color of the fragment. All fragment shaders
   must write to this variable. This is equivalent to
   <span class="type">gl_FrontColor</span>.
  </p></dd>
<dt><span class="glossterm">float <span class="emphasis"><em>cogl_depth_out</em></span></span></dt>
<dd class="glossdef"><p>
   An optional output variable specifying the depth value to use
   for this fragment. This is equivalent to <span class="type">gl_FragDepth</span>.
  </p></dd>
<dt><span class="glossterm">bool <span class="emphasis"><em>cogl_front_facing</em></span></span></dt>
<dd class="glossdef"><p>
   A readonly variable that will be true if the current primitive
   is front facing. This can be used to implement two-sided
   coloring algorithms. This is equivalent to <span class="type">gl_FrontFacing</span>.
  </p></dd>
<dt><span class="glossterm">vec2 <span class="emphasis"><em>cogl_point_coord</em></span></span></dt>
<dd class="glossdef"><p>
   When rendering points, this will contain a vec2 which represents
   the position within the point of the current fragment.
   vec2(0.0,0.0) will be the topleft of the point and vec2(1.0,1.0)
   will be the bottom right. Note that there is currently a bug in
   Cogl where when rendering to an offscreen buffer these
   coordinates will be upside-down. The value is undefined when not
   rendering points. This builtin can only be used if the
   <a class="link" href="cogl-2.0-experimental-The-Top-Level-Context.html#COGL-FEATURE-ID-POINT-SPRITE:CAPS"><code class="literal">COGL_FEATURE_ID_POINT_SPRITE</code></a> feature is available.
  </p></dd>
</dl></div>
<p>Here is an example of using a snippet to add a desaturate effect to the
generated color on a pipeline.</p>
<pre class="programlisting">  CoglPipeline *pipeline = cogl_pipeline_new ();

  /* Set up the pipeline here, ie by adding a texture or other
     layers */

  /* Create the snippet. The first string is the declarations which
     we will use to add a uniform. The second is the 'post' string which
     will contain the code to perform the desaturation. */
  CoglSnippet *snippet =
    cogl_snippet_new (COGL_SNIPPET_HOOK_FRAGMENT,
                      "uniform float factor;",
                      "float gray = dot (vec3 (0.299, 0.587, 0.114), "
                      "                  cogl_color_out.rgb);"
                      "cogl_color_out.rgb = mix (vec3 (gray),"
                      "                          cogl_color_out.rgb,"
                      "                          factor);");

  /* Add it to the pipeline */
  cogl_pipeline_add_snippet (pipeline, snippet);
  /* The pipeline keeps a reference to the snippet
     so we don't need to */
  cogl_object_unref (snippet);

  /* Update the custom uniform on the pipeline */
  int location = cogl_pipeline_get_uniform_location (pipeline, "factor");
  cogl_pipeline_set_uniform_1f (pipeline, location, 0.5f);

  /* Now we can render with the snippet as usual */
  cogl_push_source (pipeline);
  cogl_rectangle (0, 0, 10, 10);
  cogl_pop_source ();
</pre>
</div>
<div class="refsect1">
<a name="cogl-2.0-experimental-Shader-snippets.functions_details"></a><h2>Functions</h2>
<div class="refsect2">
<a name="cogl-snippet-new"></a><h3>cogl_snippet_new ()</h3>
<pre class="programlisting"><a class="link" href="cogl-2.0-experimental-Shader-snippets.html#CoglSnippet" title="CoglSnippet"><span class="returnvalue">CoglSnippet</span></a> *
cogl_snippet_new (<em class="parameter"><code><a class="link" href="cogl-2.0-experimental-Shader-snippets.html#CoglSnippetHook" title="enum CoglSnippetHook"><span class="type">CoglSnippetHook</span></a> hook</code></em>,
                  <em class="parameter"><code>const <span class="type">char</span> *declarations</code></em>,
                  <em class="parameter"><code>const <span class="type">char</span> *post</code></em>);</pre>
<p>Allocates and initializes a new snippet with the given source strings.</p>
<div class="refsect3">
<a name="id-1.2.5.5.6.2.5"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>hook</p></td>
<td class="parameter_description"><p>The point in the pipeline that this snippet will wrap around
or replace.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>declarations</p></td>
<td class="parameter_description"><p>The source code for the declarations for this
snippet or <code class="literal">NULL</code>. See <a class="link" href="cogl-2.0-experimental-Shader-snippets.html#cogl-snippet-set-declarations" title="cogl_snippet_set_declarations ()"><code class="function">cogl_snippet_set_declarations()</code></a>.</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>post</p></td>
<td class="parameter_description"><p>The source code to run after the hook point where this
shader snippet is attached or <code class="literal">NULL</code>. See <a class="link" href="cogl-2.0-experimental-Shader-snippets.html#cogl-snippet-set-post" title="cogl_snippet_set_post ()"><code class="function">cogl_snippet_set_post()</code></a>.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.2.5.5.6.2.6"></a><h4>Returns</h4>
<p> a pointer to a new <a class="link" href="cogl-2.0-experimental-Shader-snippets.html#CoglSnippet" title="CoglSnippet"><span class="type">CoglSnippet</span></a></p>
</div>
<p class="since">Since: 1.10</p>
<p class="stability">Stability Level: <acronym title="Unstable interfaces are experimental or transitional. They are typically used to give outside developers early access to new or rapidly changing technology, or to provide an interim solution to a problem where a more general solution is anticipated. No claims are made about either source or binary compatibility from one minor release to the next.  The Unstable interface level is a warning that these interfaces are  subject to change without warning and should not be used in unbundled products.  Given such caveats, customer impact need not be a factor when considering incompatible changes to an Unstable interface in a major or minor release. Nonetheless, when such changes are introduced, the changes should still be mentioned in the release notes for the affected release. "><span class="acronym">Unstable</span></acronym></p>
</div>
<hr></hr>
<div class="refsect2">
<a name="cogl-snippet-get-hook"></a><h3>cogl_snippet_get_hook ()</h3>
<pre class="programlisting"><a class="link" href="cogl-2.0-experimental-Shader-snippets.html#CoglSnippetHook" title="enum CoglSnippetHook"><span class="returnvalue">CoglSnippetHook</span></a>
cogl_snippet_get_hook (<em class="parameter"><code><a class="link" href="cogl-2.0-experimental-Shader-snippets.html#CoglSnippet" title="CoglSnippet"><span class="type">CoglSnippet</span></a> *snippet</code></em>);</pre>
<div class="refsect3">
<a name="id-1.2.5.5.6.3.4"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>snippet</p></td>
<td class="parameter_description"><p>A <a class="link" href="cogl-2.0-experimental-Shader-snippets.html#CoglSnippet" title="CoglSnippet"><span class="type">CoglSnippet</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.2.5.5.6.3.5"></a><h4>Returns</h4>
<p> the hook that was set when <a class="link" href="cogl-2.0-experimental-Shader-snippets.html#cogl-snippet-new" title="cogl_snippet_new ()"><code class="function">cogl_snippet_new()</code></a> was
called.</p>
</div>
<p class="since">Since: 1.10</p>
<p class="stability">Stability Level: <acronym title="Unstable interfaces are experimental or transitional. They are typically used to give outside developers early access to new or rapidly changing technology, or to provide an interim solution to a problem where a more general solution is anticipated. No claims are made about either source or binary compatibility from one minor release to the next.  The Unstable interface level is a warning that these interfaces are  subject to change without warning and should not be used in unbundled products.  Given such caveats, customer impact need not be a factor when considering incompatible changes to an Unstable interface in a major or minor release. Nonetheless, when such changes are introduced, the changes should still be mentioned in the release notes for the affected release. "><span class="acronym">Unstable</span></acronym></p>
</div>
<hr></hr>
<div class="refsect2">
<a name="cogl-is-snippet"></a><h3>cogl_is_snippet ()</h3>
<pre class="programlisting"><a class="link" href="cogl-2.0-experimental-Common-Types.html#CoglBool" title="CoglBool"><span class="returnvalue">CoglBool</span></a>
cogl_is_snippet (<em class="parameter"><code><span class="type">void</span> *object</code></em>);</pre>
<p>Gets whether the given <em class="parameter"><code>object</code></em>
 references an existing snippet object.</p>
<div class="refsect3">
<a name="id-1.2.5.5.6.4.5"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>object</p></td>
<td class="parameter_description"><p>A <a class="link" href="cogl-2.0-experimental-The-Object-Interface.html#CoglObject" title="CoglObject"><span class="type">CoglObject</span></a> pointer</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.2.5.5.6.4.6"></a><h4>Returns</h4>
<p> <code class="literal">TRUE</code> if the <em class="parameter"><code>object</code></em>
references a <a class="link" href="cogl-2.0-experimental-Shader-snippets.html#CoglSnippet" title="CoglSnippet"><span class="type">CoglSnippet</span></a>,
<code class="literal">FALSE</code> otherwise</p>
</div>
<p class="since">Since: 1.10</p>
<p class="stability">Stability Level: <acronym title="Unstable interfaces are experimental or transitional. They are typically used to give outside developers early access to new or rapidly changing technology, or to provide an interim solution to a problem where a more general solution is anticipated. No claims are made about either source or binary compatibility from one minor release to the next.  The Unstable interface level is a warning that these interfaces are  subject to change without warning and should not be used in unbundled products.  Given such caveats, customer impact need not be a factor when considering incompatible changes to an Unstable interface in a major or minor release. Nonetheless, when such changes are introduced, the changes should still be mentioned in the release notes for the affected release. "><span class="acronym">Unstable</span></acronym></p>
</div>
<hr></hr>
<div class="refsect2">
<a name="cogl-snippet-set-declarations"></a><h3>cogl_snippet_set_declarations ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
cogl_snippet_set_declarations (<em class="parameter"><code><a class="link" href="cogl-2.0-experimental-Shader-snippets.html#CoglSnippet" title="CoglSnippet"><span class="type">CoglSnippet</span></a> *snippet</code></em>,
                               <em class="parameter"><code>const <span class="type">char</span> *declarations</code></em>);</pre>
<p>Sets a source string that will be inserted in the global scope of
the generated shader when this snippet is used on a pipeline. This
string is typically used to declare uniforms, attributes or
functions that will be used by the other parts of the snippets.</p>
<p>This function should only be called before the snippet is attached
to its first pipeline. After that the snippet should be considered
immutable.</p>
<div class="refsect3">
<a name="id-1.2.5.5.6.5.6"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>snippet</p></td>
<td class="parameter_description"><p>A <a class="link" href="cogl-2.0-experimental-Shader-snippets.html#CoglSnippet" title="CoglSnippet"><span class="type">CoglSnippet</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>declarations</p></td>
<td class="parameter_description"><p>The new source string for the declarations section
of this snippet.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<p class="since">Since: 1.10</p>
<p class="stability">Stability Level: <acronym title="Unstable interfaces are experimental or transitional. They are typically used to give outside developers early access to new or rapidly changing technology, or to provide an interim solution to a problem where a more general solution is anticipated. No claims are made about either source or binary compatibility from one minor release to the next.  The Unstable interface level is a warning that these interfaces are  subject to change without warning and should not be used in unbundled products.  Given such caveats, customer impact need not be a factor when considering incompatible changes to an Unstable interface in a major or minor release. Nonetheless, when such changes are introduced, the changes should still be mentioned in the release notes for the affected release. "><span class="acronym">Unstable</span></acronym></p>
</div>
<hr></hr>
<div class="refsect2">
<a name="cogl-snippet-get-declarations"></a><h3>cogl_snippet_get_declarations ()</h3>
<pre class="programlisting">const <span class="returnvalue">char</span> *
cogl_snippet_get_declarations (<em class="parameter"><code><a class="link" href="cogl-2.0-experimental-Shader-snippets.html#CoglSnippet" title="CoglSnippet"><span class="type">CoglSnippet</span></a> *snippet</code></em>);</pre>
<div class="refsect3">
<a name="id-1.2.5.5.6.6.4"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>snippet</p></td>
<td class="parameter_description"><p>A <a class="link" href="cogl-2.0-experimental-Shader-snippets.html#CoglSnippet" title="CoglSnippet"><span class="type">CoglSnippet</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.2.5.5.6.6.5"></a><h4>Returns</h4>
<p> the source string that was set with
<a class="link" href="cogl-2.0-experimental-Shader-snippets.html#cogl-snippet-set-declarations" title="cogl_snippet_set_declarations ()"><code class="function">cogl_snippet_set_declarations()</code></a> or <code class="literal">NULL</code> if none was set.</p>
</div>
<p class="since">Since: 1.10</p>
<p class="stability">Stability Level: <acronym title="Unstable interfaces are experimental or transitional. They are typically used to give outside developers early access to new or rapidly changing technology, or to provide an interim solution to a problem where a more general solution is anticipated. No claims are made about either source or binary compatibility from one minor release to the next.  The Unstable interface level is a warning that these interfaces are  subject to change without warning and should not be used in unbundled products.  Given such caveats, customer impact need not be a factor when considering incompatible changes to an Unstable interface in a major or minor release. Nonetheless, when such changes are introduced, the changes should still be mentioned in the release notes for the affected release. "><span class="acronym">Unstable</span></acronym></p>
</div>
<hr></hr>
<div class="refsect2">
<a name="cogl-snippet-set-pre"></a><h3>cogl_snippet_set_pre ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
cogl_snippet_set_pre (<em class="parameter"><code><a class="link" href="cogl-2.0-experimental-Shader-snippets.html#CoglSnippet" title="CoglSnippet"><span class="type">CoglSnippet</span></a> *snippet</code></em>,
                      <em class="parameter"><code>const <span class="type">char</span> *pre</code></em>);</pre>
<p>Sets a source string that will be inserted before the hook point in
the generated shader for the pipeline that this snippet is attached
to. Please see the documentation of each hook point in
<a class="link" href="cogl-2.0-experimental-Pipeline.html#CoglPipeline" title="CoglPipeline"><span class="type">CoglPipeline</span></a> for a description of how this string should be used.</p>
<p>This function should only be called before the snippet is attached
to its first pipeline. After that the snippet should be considered
immutable.</p>
<div class="refsect3">
<a name="id-1.2.5.5.6.7.6"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>snippet</p></td>
<td class="parameter_description"><p>A <a class="link" href="cogl-2.0-experimental-Shader-snippets.html#CoglSnippet" title="CoglSnippet"><span class="type">CoglSnippet</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>pre</p></td>
<td class="parameter_description"><p>The new source string for the pre section of this snippet.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<p class="since">Since: 1.10</p>
<p class="stability">Stability Level: <acronym title="Unstable interfaces are experimental or transitional. They are typically used to give outside developers early access to new or rapidly changing technology, or to provide an interim solution to a problem where a more general solution is anticipated. No claims are made about either source or binary compatibility from one minor release to the next.  The Unstable interface level is a warning that these interfaces are  subject to change without warning and should not be used in unbundled products.  Given such caveats, customer impact need not be a factor when considering incompatible changes to an Unstable interface in a major or minor release. Nonetheless, when such changes are introduced, the changes should still be mentioned in the release notes for the affected release. "><span class="acronym">Unstable</span></acronym></p>
</div>
<hr></hr>
<div class="refsect2">
<a name="cogl-snippet-get-pre"></a><h3>cogl_snippet_get_pre ()</h3>
<pre class="programlisting">const <span class="returnvalue">char</span> *
cogl_snippet_get_pre (<em class="parameter"><code><a class="link" href="cogl-2.0-experimental-Shader-snippets.html#CoglSnippet" title="CoglSnippet"><span class="type">CoglSnippet</span></a> *snippet</code></em>);</pre>
<div class="refsect3">
<a name="id-1.2.5.5.6.8.4"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>snippet</p></td>
<td class="parameter_description"><p>A <a class="link" href="cogl-2.0-experimental-Shader-snippets.html#CoglSnippet" title="CoglSnippet"><span class="type">CoglSnippet</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.2.5.5.6.8.5"></a><h4>Returns</h4>
<p> the source string that was set with
<a class="link" href="cogl-2.0-experimental-Shader-snippets.html#cogl-snippet-set-pre" title="cogl_snippet_set_pre ()"><code class="function">cogl_snippet_set_pre()</code></a> or <code class="literal">NULL</code> if none was set.</p>
</div>
<p class="since">Since: 1.10</p>
<p class="stability">Stability Level: <acronym title="Unstable interfaces are experimental or transitional. They are typically used to give outside developers early access to new or rapidly changing technology, or to provide an interim solution to a problem where a more general solution is anticipated. No claims are made about either source or binary compatibility from one minor release to the next.  The Unstable interface level is a warning that these interfaces are  subject to change without warning and should not be used in unbundled products.  Given such caveats, customer impact need not be a factor when considering incompatible changes to an Unstable interface in a major or minor release. Nonetheless, when such changes are introduced, the changes should still be mentioned in the release notes for the affected release. "><span class="acronym">Unstable</span></acronym></p>
</div>
<hr></hr>
<div class="refsect2">
<a name="cogl-snippet-set-replace"></a><h3>cogl_snippet_set_replace ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
cogl_snippet_set_replace (<em class="parameter"><code><a class="link" href="cogl-2.0-experimental-Shader-snippets.html#CoglSnippet" title="CoglSnippet"><span class="type">CoglSnippet</span></a> *snippet</code></em>,
                          <em class="parameter"><code>const <span class="type">char</span> *replace</code></em>);</pre>
<p>Sets a source string that will be used instead of any generated
source code or any previous snippets for this hook point. Please
see the documentation of each hook point in <a class="link" href="cogl-2.0-experimental-Pipeline.html#CoglPipeline" title="CoglPipeline"><span class="type">CoglPipeline</span></a> for a
description of how this string should be used.</p>
<p>This function should only be called before the snippet is attached
to its first pipeline. After that the snippet should be considered
immutable.</p>
<div class="refsect3">
<a name="id-1.2.5.5.6.9.6"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>snippet</p></td>
<td class="parameter_description"><p>A <a class="link" href="cogl-2.0-experimental-Shader-snippets.html#CoglSnippet" title="CoglSnippet"><span class="type">CoglSnippet</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>replace</p></td>
<td class="parameter_description"><p>The new source string for the replace section of this snippet.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<p class="since">Since: 1.10</p>
<p class="stability">Stability Level: <acronym title="Unstable interfaces are experimental or transitional. They are typically used to give outside developers early access to new or rapidly changing technology, or to provide an interim solution to a problem where a more general solution is anticipated. No claims are made about either source or binary compatibility from one minor release to the next.  The Unstable interface level is a warning that these interfaces are  subject to change without warning and should not be used in unbundled products.  Given such caveats, customer impact need not be a factor when considering incompatible changes to an Unstable interface in a major or minor release. Nonetheless, when such changes are introduced, the changes should still be mentioned in the release notes for the affected release. "><span class="acronym">Unstable</span></acronym></p>
</div>
<hr></hr>
<div class="refsect2">
<a name="cogl-snippet-get-replace"></a><h3>cogl_snippet_get_replace ()</h3>
<pre class="programlisting">const <span class="returnvalue">char</span> *
cogl_snippet_get_replace (<em class="parameter"><code><a class="link" href="cogl-2.0-experimental-Shader-snippets.html#CoglSnippet" title="CoglSnippet"><span class="type">CoglSnippet</span></a> *snippet</code></em>);</pre>
<div class="refsect3">
<a name="id-1.2.5.5.6.10.4"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>snippet</p></td>
<td class="parameter_description"><p>A <a class="link" href="cogl-2.0-experimental-Shader-snippets.html#CoglSnippet" title="CoglSnippet"><span class="type">CoglSnippet</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.2.5.5.6.10.5"></a><h4>Returns</h4>
<p> the source string that was set with
<a class="link" href="cogl-2.0-experimental-Shader-snippets.html#cogl-snippet-set-replace" title="cogl_snippet_set_replace ()"><code class="function">cogl_snippet_set_replace()</code></a> or <code class="literal">NULL</code> if none was set.</p>
</div>
<p class="since">Since: 1.10</p>
<p class="stability">Stability Level: <acronym title="Unstable interfaces are experimental or transitional. They are typically used to give outside developers early access to new or rapidly changing technology, or to provide an interim solution to a problem where a more general solution is anticipated. No claims are made about either source or binary compatibility from one minor release to the next.  The Unstable interface level is a warning that these interfaces are  subject to change without warning and should not be used in unbundled products.  Given such caveats, customer impact need not be a factor when considering incompatible changes to an Unstable interface in a major or minor release. Nonetheless, when such changes are introduced, the changes should still be mentioned in the release notes for the affected release. "><span class="acronym">Unstable</span></acronym></p>
</div>
<hr></hr>
<div class="refsect2">
<a name="cogl-snippet-set-post"></a><h3>cogl_snippet_set_post ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
cogl_snippet_set_post (<em class="parameter"><code><a class="link" href="cogl-2.0-experimental-Shader-snippets.html#CoglSnippet" title="CoglSnippet"><span class="type">CoglSnippet</span></a> *snippet</code></em>,
                       <em class="parameter"><code>const <span class="type">char</span> *post</code></em>);</pre>
<p>Sets a source string that will be inserted after the hook point in
the generated shader for the pipeline that this snippet is attached
to. Please see the documentation of each hook point in
<a class="link" href="cogl-2.0-experimental-Pipeline.html#CoglPipeline" title="CoglPipeline"><span class="type">CoglPipeline</span></a> for a description of how this string should be used.</p>
<p>This function should only be called before the snippet is attached
to its first pipeline. After that the snippet should be considered
immutable.</p>
<div class="refsect3">
<a name="id-1.2.5.5.6.11.6"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>snippet</p></td>
<td class="parameter_description"><p>A <a class="link" href="cogl-2.0-experimental-Shader-snippets.html#CoglSnippet" title="CoglSnippet"><span class="type">CoglSnippet</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>post</p></td>
<td class="parameter_description"><p>The new source string for the post section of this snippet.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<p class="since">Since: 1.10</p>
<p class="stability">Stability Level: <acronym title="Unstable interfaces are experimental or transitional. They are typically used to give outside developers early access to new or rapidly changing technology, or to provide an interim solution to a problem where a more general solution is anticipated. No claims are made about either source or binary compatibility from one minor release to the next.  The Unstable interface level is a warning that these interfaces are  subject to change without warning and should not be used in unbundled products.  Given such caveats, customer impact need not be a factor when considering incompatible changes to an Unstable interface in a major or minor release. Nonetheless, when such changes are introduced, the changes should still be mentioned in the release notes for the affected release. "><span class="acronym">Unstable</span></acronym></p>
</div>
<hr></hr>
<div class="refsect2">
<a name="cogl-snippet-get-post"></a><h3>cogl_snippet_get_post ()</h3>
<pre class="programlisting">const <span class="returnvalue">char</span> *
cogl_snippet_get_post (<em class="parameter"><code><a class="link" href="cogl-2.0-experimental-Shader-snippets.html#CoglSnippet" title="CoglSnippet"><span class="type">CoglSnippet</span></a> *snippet</code></em>);</pre>
<div class="refsect3">
<a name="id-1.2.5.5.6.12.4"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>snippet</p></td>
<td class="parameter_description"><p>A <a class="link" href="cogl-2.0-experimental-Shader-snippets.html#CoglSnippet" title="CoglSnippet"><span class="type">CoglSnippet</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3">
<a name="id-1.2.5.5.6.12.5"></a><h4>Returns</h4>
<p> the source string that was set with
<a class="link" href="cogl-2.0-experimental-Shader-snippets.html#cogl-snippet-set-post" title="cogl_snippet_set_post ()"><code class="function">cogl_snippet_set_post()</code></a> or <code class="literal">NULL</code> if none was set.</p>
</div>
<p class="since">Since: 1.10</p>
<p class="stability">Stability Level: <acronym title="Unstable interfaces are experimental or transitional. They are typically used to give outside developers early access to new or rapidly changing technology, or to provide an interim solution to a problem where a more general solution is anticipated. No claims are made about either source or binary compatibility from one minor release to the next.  The Unstable interface level is a warning that these interfaces are  subject to change without warning and should not be used in unbundled products.  Given such caveats, customer impact need not be a factor when considering incompatible changes to an Unstable interface in a major or minor release. Nonetheless, when such changes are introduced, the changes should still be mentioned in the release notes for the affected release. "><span class="acronym">Unstable</span></acronym></p>
</div>
</div>
<div class="refsect1">
<a name="cogl-2.0-experimental-Shader-snippets.other_details"></a><h2>Types and Values</h2>
<div class="refsect2">
<a name="CoglSnippet"></a><h3>CoglSnippet</h3>
<pre class="programlisting">typedef struct _CoglSnippet CoglSnippet;</pre>
</div>
<hr></hr>
<div class="refsect2">
<a name="CoglSnippetHook"></a><h3>enum CoglSnippetHook</h3>
<p><a class="link" href="cogl-2.0-experimental-Shader-snippets.html#CoglSnippetHook" title="enum CoglSnippetHook"><span class="type">CoglSnippetHook</span></a> is used to specify a location within a
<a class="link" href="cogl-2.0-experimental-Pipeline.html#CoglPipeline" title="CoglPipeline"><span class="type">CoglPipeline</span></a> where the code of the snippet should be used when it
is attached to a pipeline.</p>
<div class="glosslist"><dl>
<dt><span class="glossterm"><a class="link" href="cogl-2.0-experimental-Shader-snippets.html#COGL-SNIPPET-HOOK-VERTEX-GLOBALS:CAPS"><code class="literal">COGL_SNIPPET_HOOK_VERTEX_GLOBALS</code></a></span></dt>
<dd class="glossdef"><p>
Adds a shader snippet at the beginning of the global section of the
shader for the vertex processing. Any declarations here can be
shared with all other snippets that are attached to a vertex hook.
Only the ‘declarations’ string is used and the other strings are
ignored.
</p></dd>
<dt><span class="glossterm"><a class="link" href="cogl-2.0-experimental-Shader-snippets.html#COGL-SNIPPET-HOOK-FRAGMENT-GLOBALS:CAPS"><code class="literal">COGL_SNIPPET_HOOK_FRAGMENT_GLOBALS</code></a></span></dt>
<dd class="glossdef"><p>
Adds a shader snippet at the beginning of the global section of the
shader for the fragment processing. Any declarations here can be
shared with all other snippets that are attached to a fragment
hook. Only the ‘declarations’ string is used and the other strings
are ignored.
</p></dd>
<dt><span class="glossterm"><a class="link" href="cogl-2.0-experimental-Shader-snippets.html#COGL-SNIPPET-HOOK-VERTEX:CAPS"><code class="literal">COGL_SNIPPET_HOOK_VERTEX</code></a></span></dt>
<dd class="glossdef">
<p>
Adds a shader snippet that will hook on to the vertex processing
stage of the pipeline. This gives a chance for the application to
modify the vertex attributes generated by the shader. Typically the
snippet will modify cogl_color_out or cogl_position_out builtins.
</p>
<p>
The ‘declarations’ string in <em class="parameter"><code>snippet</code></em> will be inserted in the
global scope of the shader. Use this to declare any uniforms,
attributes or functions that the snippet requires.
</p>
<p>
The ‘pre’ string in <em class="parameter"><code>snippet</code></em> will be inserted at the top of the
<code class="function">main()</code> function before any vertex processing is done.
</p>
<p>
The ‘replace’ string in <em class="parameter"><code>snippet</code></em> will be used instead of the
generated vertex processing if it is present. This can be used if
the application wants to provide a complete vertex shader and
doesn't need the generated output from Cogl.
</p>
<p>
The ‘post’ string in <em class="parameter"><code>snippet</code></em> will be inserted after all of the
standard vertex processing is done. This can be used to modify the
outputs.
</p>
</dd>
<dt><span class="glossterm"><a class="link" href="cogl-2.0-experimental-Shader-snippets.html#COGL-SNIPPET-HOOK-VERTEX-TRANSFORM:CAPS"><code class="literal">COGL_SNIPPET_HOOK_VERTEX_TRANSFORM</code></a></span></dt>
<dd class="glossdef">
<p>
Adds a shader snippet that will hook on to the vertex transform stage.
Typically the snippet will use the cogl_modelview_matrix,
cogl_projection_matrix and cogl_modelview_projection_matrix matrices and the
cogl_position_in attribute. The hook must write to cogl_position_out.
The default processing for this hook will multiply cogl_position_in by
the combined modelview-projection matrix and store it on cogl_position_out.
</p>
<p>
The ‘declarations’ string in <em class="parameter"><code>snippet</code></em> will be inserted in the
global scope of the shader. Use this to declare any uniforms,
attributes or functions that the snippet requires.
</p>
<p>
The ‘pre’ string in <em class="parameter"><code>snippet</code></em> will be inserted at the top of the
<code class="function">main()</code> function before the vertex transform is done.
</p>
<p>
The ‘replace’ string in <em class="parameter"><code>snippet</code></em> will be used instead of the
generated vertex transform if it is present.
</p>
<p>
The ‘post’ string in <em class="parameter"><code>snippet</code></em> will be inserted after all of the
standard vertex transformation is done. This can be used to modify the
cogl_position_out in addition to the default processing.
</p>
</dd>
<dt><span class="glossterm"><a class="link" href="cogl-2.0-experimental-Shader-snippets.html#COGL-SNIPPET-HOOK-POINT-SIZE:CAPS"><code class="literal">COGL_SNIPPET_HOOK_POINT_SIZE</code></a></span></dt>
<dd class="glossdef">
<p>
Adds a shader snippet that will hook on to the point size
calculation step within the vertex shader stage. The snippet should
write to the builtin cogl_point_size_out with the new point size.
The snippet can either read cogl_point_size_in directly and write a
new value or first read an existing value in cogl_point_size_out
that would be set by a previous snippet. Note that this hook is
only used if <a class="link" href="cogl-2.0-experimental-Pipeline.html#cogl-pipeline-set-per-vertex-point-size" title="cogl_pipeline_set_per_vertex_point_size ()"><code class="function">cogl_pipeline_set_per_vertex_point_size()</code></a> is enabled
on the pipeline.
</p>
<p>
The ‘declarations’ string in <em class="parameter"><code>snippet</code></em> will be inserted in the
global scope of the shader. Use this to declare any uniforms,
attributes or functions that the snippet requires.
</p>
<p>
The ‘pre’ string in <em class="parameter"><code>snippet</code></em> will be inserted just before
calculating the point size.
</p>
<p>
The ‘replace’ string in <em class="parameter"><code>snippet</code></em> will be used instead of the
generated point size calculation if it is present.
</p>
<p>
The ‘post’ string in <em class="parameter"><code>snippet</code></em> will be inserted after the
standard point size calculation is done. This can be used to modify
cogl_point_size_out in addition to the default processing.
</p>
</dd>
<dt><span class="glossterm"><a class="link" href="cogl-2.0-experimental-Shader-snippets.html#COGL-SNIPPET-HOOK-FRAGMENT:CAPS"><code class="literal">COGL_SNIPPET_HOOK_FRAGMENT</code></a></span></dt>
<dd class="glossdef">
<p>
Adds a shader snippet that will hook on to the fragment processing
stage of the pipeline. This gives a chance for the application to
modify the fragment color generated by the shader. Typically the
snippet will modify cogl_color_out.
</p>
<p>
The ‘declarations’ string in <em class="parameter"><code>snippet</code></em> will be inserted in the
global scope of the shader. Use this to declare any uniforms,
attributes or functions that the snippet requires.
</p>
<p>
The ‘pre’ string in <em class="parameter"><code>snippet</code></em> will be inserted at the top of the
<code class="function">main()</code> function before any fragment processing is done.
</p>
<p>
The ‘replace’ string in <em class="parameter"><code>snippet</code></em> will be used instead of the
generated fragment processing if it is present. This can be used if
the application wants to provide a complete fragment shader and
doesn't need the generated output from Cogl.
</p>
<p>
The ‘post’ string in <em class="parameter"><code>snippet</code></em> will be inserted after all of the
standard fragment processing is done. At this point the generated
value for the rest of the pipeline state will already be in
cogl_color_out so the application can modify the result by altering
this variable.
</p>
</dd>
<dt><span class="glossterm"><a class="link" href="cogl-2.0-experimental-Shader-snippets.html#COGL-SNIPPET-HOOK-TEXTURE-COORD-TRANSFORM:CAPS"><code class="literal">COGL_SNIPPET_HOOK_TEXTURE_COORD_TRANSFORM</code></a></span></dt>
<dd class="glossdef">
<p>
Adds a shader snippet that will hook on to the texture coordinate
transformation of a particular layer. This can be used to replace
the processing for a layer or to modify the results.
</p>
<p>
Within the snippet code for this hook there are two extra
variables. The first is a mat4 called cogl_matrix which represents
the user matrix for this layer. The second is called cogl_tex_coord
and represents the incoming and outgoing texture coordinate. On
entry to the hook, cogl_tex_coord contains the value of the
corresponding texture coordinate attribute for this layer. The hook
is expected to modify this variable. The output will be passed as a
varying to the fragment processing stage. The default code will
just multiply cogl_matrix by cogl_tex_coord and store the result in
cogl_tex_coord.
</p>
<p>
The ‘declarations’ string in <em class="parameter"><code>snippet</code></em> will be inserted in the
global scope of the shader. Use this to declare any uniforms,
attributes or functions that the snippet requires.
</p>
<p>
The ‘pre’ string in <em class="parameter"><code>snippet</code></em> will be inserted just before the
fragment processing for this layer. At this point cogl_tex_coord
still contains the value of the texture coordinate attribute.
</p>
<p>
If a ‘replace’ string is given then this will be used instead of
the default fragment processing for this layer. The snippet can
modify cogl_tex_coord or leave it as is to apply no transformation.
</p>
<p>
The ‘post’ string in <em class="parameter"><code>snippet</code></em> will be inserted just after the
transformation. At this point cogl_tex_coord will contain the
results of the transformation but it can be further modified by the
snippet.
</p>
</dd>
<dt><span class="glossterm"><a class="link" href="cogl-2.0-experimental-Shader-snippets.html#COGL-SNIPPET-HOOK-LAYER-FRAGMENT:CAPS"><code class="literal">COGL_SNIPPET_HOOK_LAYER_FRAGMENT</code></a></span></dt>
<dd class="glossdef">
<p>
Adds a shader snippet that will hook on to the fragment processing
of a particular layer. This can be used to replace the processing
for a layer or to modify the results.
</p>
<p>
Within the snippet code for this hook there is an extra vec4
variable called ‘cogl_layer’. This contains the resulting color
that will be used for the layer. This can be modified in the ‘post’
section or it the default processing can be replaced entirely using
the ‘replace’ section.
</p>
<p>
The ‘declarations’ string in <em class="parameter"><code>snippet</code></em> will be inserted in the
global scope of the shader. Use this to declare any uniforms,
attributes or functions that the snippet requires.
</p>
<p>
The ‘pre’ string in <em class="parameter"><code>snippet</code></em> will be inserted just before the
fragment processing for this layer.
</p>
<p>
If a ‘replace’ string is given then this will be used instead of
the default fragment processing for this layer. The snippet must write to
the ‘cogl_layer’ variable in that case.
</p>
<p>
The ‘post’ string in <em class="parameter"><code>snippet</code></em> will be inserted just after the
fragment processing for the layer. The results can be modified by changing
the value of the ‘cogl_layer’ variable.
</p>
</dd>
<dt><span class="glossterm"><a class="link" href="cogl-2.0-experimental-Shader-snippets.html#COGL-SNIPPET-HOOK-TEXTURE-LOOKUP:CAPS"><code class="literal">COGL_SNIPPET_HOOK_TEXTURE_LOOKUP</code></a></span></dt>
<dd class="glossdef">
<p>
Adds a shader snippet that will hook on to the texture lookup part
of a given layer. This gives a chance for the application to modify
the coordinates that will be used for the texture lookup or to
alter the returned texel.
</p>
<p>
Within the snippet code for this hook there are three extra
variables available. ‘cogl_sampler’ is a sampler object
representing the sampler for the layer where the snippet is
attached. ‘cogl_tex_coord’ is a vec4 which contains the texture
coordinates that will be used for the texture lookup. This can be
modified. ‘cogl_texel’ will contain the result of the texture
lookup. This can also be modified.
</p>
<p>
The ‘declarations’ string in <em class="parameter"><code>snippet</code></em> will be inserted in the
global scope of the shader. Use this to declare any uniforms,
attributes or functions that the snippet requires.
</p>
<p>
The ‘pre’ string in <em class="parameter"><code>snippet</code></em> will be inserted at the top of the
<code class="function">main()</code> function before any fragment processing is done. This is a
good place to modify the cogl_tex_coord variable.
</p>
<p>
If a ‘replace’ string is given then this will be used instead of a
the default texture lookup. The snippet would typically use its own
sampler in this case.
</p>
<p>
The ‘post’ string in <em class="parameter"><code>snippet</code></em> will be inserted after texture lookup
has been preformed. Here the snippet can modify the cogl_texel
variable to alter the returned texel.
</p>
</dd>
</dl></div>
<div class="refsect3">
<a name="id-1.2.5.5.7.3.5"></a><h4>Members</h4>
<div class="informaltable"><table border="0" width="100%">
<colgroup>
<col class="enum_members_name" width="300px"></col>
<col class="enum_members_description"></col>
<col class="enum_members_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="enum_member_name"><p><a name="COGL-SNIPPET-HOOK-VERTEX:CAPS"></a>COGL_SNIPPET_HOOK_VERTEX</p></td>
<td class="enum_member_description">
<p>A hook for the entire vertex processing
  stage of the pipeline.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="COGL-SNIPPET-HOOK-VERTEX-TRANSFORM:CAPS"></a>COGL_SNIPPET_HOOK_VERTEX_TRANSFORM</p></td>
<td class="enum_member_description">
<p>A hook for the vertex transformation.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="COGL-SNIPPET-HOOK-VERTEX-GLOBALS:CAPS"></a>COGL_SNIPPET_HOOK_VERTEX_GLOBALS</p></td>
<td class="enum_member_description">
<p>A hook for declaring global data
  that can be shared with all other snippets that are on a vertex
  hook.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="COGL-SNIPPET-HOOK-POINT-SIZE:CAPS"></a>COGL_SNIPPET_HOOK_POINT_SIZE</p></td>
<td class="enum_member_description">
<p>A hook for manipulating the point
  size of a vertex. This is only used if
  <a class="link" href="cogl-2.0-experimental-Pipeline.html#cogl-pipeline-set-per-vertex-point-size" title="cogl_pipeline_set_per_vertex_point_size ()"><code class="function">cogl_pipeline_set_per_vertex_point_size()</code></a> is enabled on the
  pipeline.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="COGL-SNIPPET-HOOK-FRAGMENT:CAPS"></a>COGL_SNIPPET_HOOK_FRAGMENT</p></td>
<td class="enum_member_description">
<p>A hook for the entire fragment
  processing stage of the pipeline.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="COGL-SNIPPET-HOOK-FRAGMENT-GLOBALS:CAPS"></a>COGL_SNIPPET_HOOK_FRAGMENT_GLOBALS</p></td>
<td class="enum_member_description">
<p>A hook for declaring global
  data wthat can be shared with all other snippets that are on a
  fragment hook.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="COGL-SNIPPET-HOOK-TEXTURE-COORD-TRANSFORM:CAPS"></a>COGL_SNIPPET_HOOK_TEXTURE_COORD_TRANSFORM</p></td>
<td class="enum_member_description">
<p>A hook for applying the
  layer matrix to a texture coordinate for a layer.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="COGL-SNIPPET-HOOK-LAYER-FRAGMENT:CAPS"></a>COGL_SNIPPET_HOOK_LAYER_FRAGMENT</p></td>
<td class="enum_member_description">
<p>A hook for the fragment
  processing of a particular layer.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="COGL-SNIPPET-HOOK-TEXTURE-LOOKUP:CAPS"></a>COGL_SNIPPET_HOOK_TEXTURE_LOOKUP</p></td>
<td class="enum_member_description">
<p>A hook for the texture lookup
  stage of a given layer in a pipeline.</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<p class="since">Since: 1.10</p>
<p class="stability">Stability Level: <acronym title="Unstable interfaces are experimental or transitional. They are typically used to give outside developers early access to new or rapidly changing technology, or to provide an interim solution to a problem where a more general solution is anticipated. No claims are made about either source or binary compatibility from one minor release to the next.  The Unstable interface level is a warning that these interfaces are  subject to change without warning and should not be used in unbundled products.  Given such caveats, customer impact need not be a factor when considering incompatible changes to an Unstable interface in a major or minor release. Nonetheless, when such changes are introduced, the changes should still be mentioned in the release notes for the affected release. "><span class="acronym">Unstable</span></acronym></p>
</div>
</div>
</div><div class="footer">
<hr></hr>Generated by GTK-Doc V1.24.1</div></div><div id="footer_art" class="default"> </div></div><div class="clearfix"></div><div id="footer_grass">   </div><div id="footer"><div class="container_12"><div class="links grid_9"><div class="menu-footer-1-container"><ul id="menu-footer-1" class="menu"><li id="menu-item-88" class="menu-item menu-item-type-custom menu-item-home menu-item-88"><a href="https://www.gnome.org/">The GNOME Project</a><ul class="sub-menu"><li id="menu-item-89" class="menu-item menu-item-type-post_type menu-item-89"><a href="https://www.gnome.org/about/">About Us</a></li><li id="menu-item-90" class="menu-item menu-item-type-custom menu-item-90"><a href="https://www.gnome.org/get-involved/">Get Involved</a></li><li id="menu-item-91" class="menu-item menu-item-type-custom menu-item-91"><a href="https://www.gnome.org/teams/">Teams</a></li><li id="menu-item-92" class="menu-item menu-item-type-custom menu-item-92"><a href="https://foundation.gnome.org">The GNOME Foundation</a></li><li><a href="https://www.gnome.org/support-gnome/">Support GNOME</a></li><li><a href="https://www.gnome.org/contact/">Contact</a></li></ul></li></ul></div><div class="menu-footer-2-container"><ul id="menu-footer-2" class="menu"><li id="menu-item-99" class="menu-item menu-item-type-post_type current-menu-item page_item page-item-20 current_page_item menu-item-99"><a href="cogl-2.0-experimental-Shader-snippets.html#">Resources</a><ul class="sub-menu"><li><a href="https://help.gnome.org">Documentation</a></li><li><a href="https://wiki.gnome.org">Wiki</a></li><li><a href="https://mail.gnome.org/mailman/listinfo">Mailing Lists</a></li><li><a href="https://wiki.gnome.org/GnomeIrcChannels">IRC Channels</a></li><li><a href="https://gitlab.gnome.org/">Bug Tracker</a></li><li><a href="https://gitlab.gnome.org/">Development Code</a></li><li><a href="https://wiki.gnome.org/Jhbuild">Build Tool</a></li></ul></li></ul></div><div class="menu-footer-4-container"><ul id="menu-footer-4" class="menu"><li id="menu-item-104" class="menu-item menu-item-type-custom menu-item-104"><a href="http://www.gnome.org/news/">News</a><ul class="sub-menu"><li><a href="https://www.gnome.org/start/stable">Latest Release</a></li><li><a href="https://planet.gnome.org">Planet GNOME</a></li><li><a href="https://news.gnome.org">Development News</a></li><li><a href="https://twitter.com/gnome">Twitter</a></li></ul></li></ul></div></div><div class="links grid_3 right"><div><ul class="menu available_languages"><li><strong>This website is available in many languages</strong><ul class="sub-menu"><li><a href="../../languages.html" title="Switching Language">Switch Language</a></li></ul></li></ul><script type="text/javascript" src="../../js/language.js"></script></div></div><div id="footnotes" class="grid_9">
                Copyright © 2005‒2014 <strong class="gnome_logo">The GNOME Project</strong><br></br><small>Optimised for standards. Hosted by <a href="http://redhat.com">Red Hat</a>.</small></div><div class="clear"></div></div></div><script type="text/javascript">
$(document).ready(function() {
    // Get browser
    $.each($.browser, function(i) {
        $('body').addClass(i);
        return false;
    });

    // Get OS and add it as class to body tag, this then allows forcing some
    // customisation in the CSS rules.
    var match = navigator.userAgent.toLowerCase().match(/(win|mac|linux)/);
    if (match) {
        $('body').addClass(match[0]);
    }
});
</script><script type="text/javascript">
      var _paq = _paq || [];
      _paq.push(['disableCookies']);
      _paq.push(["trackPageView"]);
      _paq.push(["enableLinkTracking"]);

      (function() {
        var u=(("https:" == document.location.protocol) ? "https" : "http") + "://webstats.gnome.org/";
        _paq.push(["setTrackerUrl", u+"piwik.php"]);
        _paq.push(["setSiteId", "6"]);
        var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";
        g.defer=true; g.async=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
      })();
    </script></body></html>
