<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:html="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="text/html; charset=utf-8"></meta><link rel="stylesheet" type="text/css" media="all" href="https://static.gnome.org/css/grass-theme-style.css"></link><link rel="stylesheet" type="text/css" media="all" href="../../skin/lgo2010.css"></link><link rel="icon" type="image/png" href="../../skin/gnome-16.png"></link><link rel="SHORTCUT ICON" type="image/png" href="../../skin/gnome-16.png"></link><link rel="search" type="application/opensearchdescription+xml" href="../../gnome-library-search.xml" title="GNOME Library Search"></link><link rel="stylesheet" type="text/css" href="../../skin/jquery.autocomplete.css"></link><script type="text/javascript" src="../../js/jquery.js"></script><script type="text/javascript" src="../../js/jquery.autocomplete.js"></script><title>RygelDataSource: librygel-server Reference Manual</title><link href="index.html" rel="home" title="librygel-server Reference Manual"></link><link href="api-main-list.html" rel="up" title="librygel-server API Reference"></link><link href="RygelContentDirectory.html" rel="prev" title="RygelContentDirectory"></link><link href="RygelDLNAAvailableSeekRangeRequest.html" rel="next" title="RygelDLNAAvailableSeekRangeRequest"></link><link rel="stylesheet" type="text/css" media="all" href="../../skin/jquery.autocomplete.css"></link><link rel="stylesheet" type="text/css" media="all" href="../../skin/960_24_col.css"></link><script type="text/javascript" src="../../js/jquery.js"></script><script type="text/javascript" src="https://developer-old.gnome.org/js/jquery.jcarousel.min.js"></script><script type="text/javascript" src="../../js/jquery.autocomplete.js"></script></head><body><div id="accessibility_access"><ul><li><a href="RygelDataSource.html#container">Go to page content</a></li><li><a href="RygelDataSource.html#top_bar">Go to main menu</a></li><li><a href="RygelDataSource.html#s" onclick="$('#s').focus(); return false;">Go to the search field</a></li></ul></div><div id="global_domain_bar"><div class="maxwidth"><div class="tab"><a class="root" href="https://www.gnome.org/">GNOME.org</a></div></div></div><div id="header" class="container_12"><div id="logo" class="grid_3"><a title="Go to home page" href="../../index.html"><img alt="GNOME: The Free Software Desktop Project" src="../../skin/gnome-logo-devcenter.png"></img></a></div><div id="top_bar" class="grid_9"><div class="left"><div class="menu-globalnav-container"><ul id="menu-globalnav" class="menu"><li class="menu-item menu-item-type-post_type menu-item-6"><a href="../../about/index.html">About</a></li><li class="menu-item menu-item-type-post_type menu-item-23"><a href="https://help.gnome.org/users/">Users</a></li><li class="menu-item menu-item-type-post_type menu-item-40"><a href="https://help.gnome.org/admin/">Administrators</a></li><li class="current-menu-item"><a href="https://developer.gnome.org/">Developers</a></li></ul></div></div><div class="right"><form role="search" method="get" id="searchform" action="https://developer-old.gnome.org/symbols/"><div><label class="hidden" for="q">Search:
                        </label><input type="text" value="" name="q" id="s" placeholder="Search"></input></div></form><script type="text/javascript">
$('#s').autocomplete('/symbols/lookup/',
        { minChars:3, matchSubset:1, matchContains:1, cacheLength:10,
          selectOnly:1, rowsLimit:25 });
              </script></div></div></div><div class="clearfix"></div><div id="container" class="body"><div class="content"><table cellpadding="2" cellspacing="5" class="navigation" id="top" summary="Navigation header" width="100%"><tbody><tr valign="middle">
<td align="left" class="shortcuts" width="100%">
<a class="shortcut" href="RygelDataSource.html#">Top</a><span id="nav_description">  <span class="dim">|</span> 
                  <a class="shortcut" href="RygelDataSource.html#RygelDataSource.description">Description</a></span><span id="nav_hierarchy">  <span class="dim">|</span> 
                  <a class="shortcut" href="RygelDataSource.html#RygelDataSource.object-hierarchy">Object Hierarchy</a></span><span id="nav_prerequisites">  <span class="dim">|</span> 
                  <a class="shortcut" href="RygelDataSource.html#RygelDataSource.prerequisites">Prerequisites</a></span><span id="nav_signals">  <span class="dim">|</span> 
                  <a class="shortcut" href="RygelDataSource.html#RygelDataSource.signals">Signals</a></span>
</td>
<td><a accesskey="h" href="index.html"><img alt="Home" border="0" height="16" src="home.png" width="16"></img></a></td>
<td><a accesskey="u" href="api-main-list.html"><img alt="Up" border="0" height="16" src="up.png" width="16"></img></a></td>
<td><a accesskey="p" href="RygelContentDirectory.html"><img alt="Prev" border="0" height="16" src="left.png" width="16"></img></a></td>
<td><a accesskey="n" href="RygelDLNAAvailableSeekRangeRequest.html"><img alt="Next" border="0" height="16" src="right.png" width="16"></img></a></td>
</tr></tbody></table><div class="refentry">
<a name="RygelDataSource"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tbody><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="RygelDataSource.top_of_page"></a>RygelDataSource</span></h2>
<p>RygelDataSource — Interface for all data streams provided by a <a class="link" href="RygelMediaEngine.html" title="RygelMediaEngine"><span class="type">RygelMediaEngine</span></a>.</p>
</td>
<td align="right" class="gallery_image" valign="top"></td>
</tr></tbody></table></div>
<div class="refsect1">
<a name="RygelDataSource.functions"></a><h2>Functions</h2>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="functions_return" width="150px"></col>
<col class="functions_name"></col>
</colgroup>
<tbody>
<tr>
<td class="function_type">
<span class="returnvalue">GeeList</span> *
</td>
<td class="function_name">
<a class="link" href="RygelDataSource.html#rygel-data-source-preroll" title="rygel_data_source_preroll ()">rygel_data_source_preroll</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="RygelDataSource.html#rygel-data-source-start" title="rygel_data_source_start ()">rygel_data_source_start</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="RygelDataSource.html#rygel-data-source-freeze" title="rygel_data_source_freeze ()">rygel_data_source_freeze</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="RygelDataSource.html#rygel-data-source-thaw" title="rygel_data_source_thaw ()">rygel_data_source_thaw</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="RygelDataSource.html#rygel-data-source-stop" title="rygel_data_source_stop ()">rygel_data_source_stop</a> <span class="c_punctuation">()</span>
</td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1">
<a name="RygelDataSource.signals"></a><h2>Signals</h2>
<div class="informaltable"><table border="0" class="informaltable">
<colgroup>
<col class="signals_return" width="150px"></col>
<col class="signals_name" width="300px"></col>
<col class="signals_flags" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="signal_type"><span class="returnvalue">void</span></td>
<td class="signal_name"><a class="link" href="RygelDataSource.html#RygelDataSource-data-available" title="The “data-available” signal">data-available</a></td>
<td class="signal_flags"><a href="https://developer-old.gnome.org/librygel-server/gobject/gobject-Signals.html#G-SIGNAL-RUN-LAST:CAPS">Run Last</a></td>
</tr>
<tr>
<td class="signal_type"><span class="returnvalue">void</span></td>
<td class="signal_name"><a class="link" href="RygelDataSource.html#RygelDataSource-done" title="The “done” signal">done</a></td>
<td class="signal_flags"><a href="https://developer-old.gnome.org/librygel-server/gobject/gobject-Signals.html#G-SIGNAL-RUN-LAST:CAPS">Run Last</a></td>
</tr>
<tr>
<td class="signal_type"><span class="returnvalue">void</span></td>
<td class="signal_name"><a class="link" href="RygelDataSource.html#RygelDataSource-error" title="The “error” signal">error</a></td>
<td class="signal_flags"><a href="https://developer-old.gnome.org/librygel-server/gobject/gobject-Signals.html#G-SIGNAL-RUN-LAST:CAPS">Run Last</a></td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1">
<a name="RygelDataSource.other"></a><h2>Types and Values</h2>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="name" width="150px"></col>
<col class="description"></col>
</colgroup>
<tbody>
<tr>
<td class="datatype_keyword">enum</td>
<td class="function_name"><a class="link" href="RygelDataSource.html#RygelDataSourceError" title="enum RygelDataSourceError">RygelDataSourceError</a></td>
</tr>
<tr>
<td class="datatype_keyword"> </td>
<td class="function_name"><a class="link" href="RygelDataSource.html#RygelDataSource-struct" title="RygelDataSource">RygelDataSource</a></td>
</tr>
<tr>
<td class="datatype_keyword">struct</td>
<td class="function_name"><a class="link" href="RygelDataSource.html#RygelDataSourceIface" title="struct RygelDataSourceIface">RygelDataSourceIface</a></td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1">
<a name="RygelDataSource.object-hierarchy"></a><h2>Object Hierarchy</h2>
<pre class="screen">    <a href="https://developer-old.gnome.org/usr/share/gtk-doc/html/gobject/GTypeModule.html">GInterface</a>
    <span class="lineart">╰──</span> RygelDataSource
</pre>
</div>
<div class="refsect1">
<a name="RygelDataSource.prerequisites"></a><h2>Prerequisites</h2>
<p>
RygelDataSource requires
 <a href="https://developer-old.gnome.org/librygel-server/gobject/gobject-The-Base-Object-Type.html#GObject-struct">GObject</a>.</p>
</div>
<div class="refsect1">
<a name="RygelDataSource.description"></a><h2>Description</h2>
<p>When Rygel receives a HTTP request to stream a given file, it creates a RygelDataSource object for this new file and instructs the RygelDataSource to begin streaming. The RygelDataSource object will duly pass this request on to the underlying media framework, which will in turn pass streamed bytes back to the RygelDataSource object. The RygelDataSource passes these bytes to Rygel which adds them to the response it sends to the original HTTP request received from the client.</p>
<p>The data source is responsible for providing response header information describing the content being produced and a streamable byte-stream via its data_available signal. End-of-stream is signalled by the done signal, while errors are signalled by the error signal.</p>
<p>Implementations should fulfil at least these requirements:</p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem"><p>It should support at least the file:/<span class="bold"><strong></strong></span>/ URI scheme.</p></li>
<li class="listitem"><p>It should be able to stream any kind of binary data, regardless of the format.</p></li>
</ol></div>
<p>RygelDataSource instances are provided by <code class="function">rygel_media_engine_create_data_source()</code> which will return a derived <a class="link" href="RygelDataSource.html" title="RygelDataSource"><span class="type">RygelDataSource</span></a> that uses a specific IO backend and/or multimedia backend to stream the multimedia data at the URI.</p>
<p>The derived RygelDataSource may provide additional API for use by the derived media engine. For instance, <code class="function">rygel_media_engine_get_transcoders()</code> may return derived <span class="type">RygelTranscoder</span> instances, and these may use that additional API in their <code class="function">create_source()</code> implementations, for instance to access resources or data structures of the specific multimedia backend.</p>
</div>
<div class="refsect1">
<a name="RygelDataSource.functions_details"></a><h2>Functions</h2>
<div class="refsect2">
<a name="rygel-data-source-preroll"></a><h3>rygel_data_source_preroll ()</h3>
<pre class="programlisting"><span class="returnvalue">GeeList</span> *
rygel_data_source_preroll (<em class="parameter"><code><a class="link" href="RygelDataSource.html" title="RygelDataSource"><span class="type">RygelDataSource</span></a> *self</code></em>,
                           <em class="parameter"><code><a class="link" href="RygelHTTPSeekRequest.html" title="RygelHTTPSeekRequest"><span class="type">RygelHTTPSeekRequest</span></a> *seek</code></em>,
                           <em class="parameter"><code><a class="link" href="RygelPlaySpeedRequest.html" title="RygelPlaySpeedRequest"><span class="type">RygelPlaySpeedRequest</span></a> *playspeed</code></em>,
                           <em class="parameter"><code><a href="https://developer-old.gnome.org/librygel-server/glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);</pre>
<p>Preroll the data with the given seek and playspeed.</p>
<p><a href="https://developer-old.gnome.org/librygel-server/glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> will be returned in <em class="parameter"><code>error</code></em> </p>
<p>if anything goes wrong while prerolling the stream. Throws DataSourceError.SEEK_FAILED if a seek method is not supported or the range is not fulfillable. Throws PLAYSPEED_FAILED if the rate is not supported or fulfillable. </p>
<div class="refsect3">
<a name="rygel-data-source-preroll.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>self</p></td>
<td class="parameter_description"><p>the <a class="link" href="RygelDataSource.html" title="RygelDataSource"><span class="type">RygelDataSource</span></a> instance</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>seek</p></td>
<td class="parameter_description">
<p>  .  </p>
<p>optional seek/range specifier </p>
<p>. </p>
</td>
<td class="parameter_annotations"><span class="annotation">[<acronym title="Parameter for input. Default is transfer none."><span class="acronym">in</span></acronym>][<acronym title="NULL is OK, both for passing and for returning."><span class="acronym">allow-none</span></acronym>]</span></td>
</tr>
<tr>
<td class="parameter_name"><p>playspeed</p></td>
<td class="parameter_description">
<p>  .  </p>
<p>optional playback rate specifier. This will only be provided when a scaled rate is requested (the speed will not be 0.0 or 1.0) </p>
<p>. </p>
</td>
<td class="parameter_annotations"><span class="annotation">[<acronym title="Parameter for input. Default is transfer none."><span class="acronym">in</span></acronym>][<acronym title="NULL is OK, both for passing and for returning."><span class="acronym">allow-none</span></acronym>]</span></td>
</tr>
<tr>
<td class="parameter_name"><p>error</p></td>
<td class="parameter_description"><p>location to store the error occuring, or <a href="https://developer-old.gnome.org/librygel-server/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> to ignore</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="rygel-data-source-preroll.returns"></a><h4>Returns</h4>
<p>List of HTTPResponseElements appropriate for the content request and optional seek/playspeed (e.g. Content-Range, TimeSeekRange.dlna.org, etc) or null/empty list if none are appropriate. Note: the list will be processed in-order by the caller. </p>
</div>
</div>
<hr></hr>
<div class="refsect2">
<a name="rygel-data-source-start"></a><h3>rygel_data_source_start ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
rygel_data_source_start (<em class="parameter"><code><a class="link" href="RygelDataSource.html" title="RygelDataSource"><span class="type">RygelDataSource</span></a> *self</code></em>,
                         <em class="parameter"><code><a href="https://developer-old.gnome.org/librygel-server/glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);</pre>
<p>Start producing the data.</p>
<p><a href="https://developer-old.gnome.org/librygel-server/glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> will be returned in <em class="parameter"><code>error</code></em> </p>
<p>if anything goes wrong while starting the stream. </p>
<div class="refsect3">
<a name="rygel-data-source-start.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>self</p></td>
<td class="parameter_description"><p>the <a class="link" href="RygelDataSource.html" title="RygelDataSource"><span class="type">RygelDataSource</span></a> instance</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>error</p></td>
<td class="parameter_description"><p>location to store the error occuring, or <a href="https://developer-old.gnome.org/librygel-server/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> to ignore</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
<hr></hr>
<div class="refsect2">
<a name="rygel-data-source-freeze"></a><h3>rygel_data_source_freeze ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
rygel_data_source_freeze (<em class="parameter"><code><a class="link" href="RygelDataSource.html" title="RygelDataSource"><span class="type">RygelDataSource</span></a> *self</code></em>);</pre>
<p>Temporarily stop data generation.</p>
<p>May be called multiple times. If the source is already frozen, the following calles to freeze are ignored. After callging <code class="function">freeze()</code>, so <code class="function">data_available()</code> signal should be emitted.</p>
<div class="refsect3">
<a name="rygel-data-source-freeze.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>self</p></td>
<td class="parameter_description"><p>the <a class="link" href="RygelDataSource.html" title="RygelDataSource"><span class="type">RygelDataSource</span></a> instance</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
</div>
<hr></hr>
<div class="refsect2">
<a name="rygel-data-source-thaw"></a><h3>rygel_data_source_thaw ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
rygel_data_source_thaw (<em class="parameter"><code><a class="link" href="RygelDataSource.html" title="RygelDataSource"><span class="type">RygelDataSource</span></a> *self</code></em>);</pre>
<p>Resume data generation from a previous freeze call.</p>
<p>May be called multiple times, will be ignored if the source is not frozen.</p>
<div class="refsect3">
<a name="rygel-data-source-thaw.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>self</p></td>
<td class="parameter_description"><p>the <a class="link" href="RygelDataSource.html" title="RygelDataSource"><span class="type">RygelDataSource</span></a> instance</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
</div>
<hr></hr>
<div class="refsect2">
<a name="rygel-data-source-stop"></a><h3>rygel_data_source_stop ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
rygel_data_source_stop (<em class="parameter"><code><a class="link" href="RygelDataSource.html" title="RygelDataSource"><span class="type">RygelDataSource</span></a> *self</code></em>);</pre>
<p>Stop producing data. After calling <code class="function">stop()</code>, calling <code class="function">start()</code> should produce data from the beginning and not resume streaming.</p>
<div class="refsect3">
<a name="rygel-data-source-stop.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>self</p></td>
<td class="parameter_description"><p>the <a class="link" href="RygelDataSource.html" title="RygelDataSource"><span class="type">RygelDataSource</span></a> instance</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
</div>
</div>
<div class="refsect1">
<a name="RygelDataSource.other_details"></a><h2>Types and Values</h2>
<div class="refsect2">
<a name="RygelDataSourceError"></a><h3>enum RygelDataSourceError</h3>
<div class="refsect3">
<a name="RygelDataSourceError.members"></a><h4>Members</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="enum_members_name" width="300px"></col>
<col class="enum_members_description"></col>
<col class="enum_members_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="enum_member_name"><p><a name="RYGEL-DATA-SOURCE-ERROR-GENERAL:CAPS"></a>RYGEL_DATA_SOURCE_ERROR_GENERAL</p></td>
<td> </td>
<td> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="RYGEL-DATA-SOURCE-ERROR-SEEK-FAILED:CAPS"></a>RYGEL_DATA_SOURCE_ERROR_SEEK_FAILED</p></td>
<td> </td>
<td> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="RYGEL-DATA-SOURCE-ERROR-PLAYSPEED-FAILED:CAPS"></a>RYGEL_DATA_SOURCE_ERROR_PLAYSPEED_FAILED</p></td>
<td> </td>
<td> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
<hr></hr>
<div class="refsect2">
<a name="RygelDataSource-struct"></a><h3>RygelDataSource</h3>
<pre class="programlisting">typedef struct _RygelDataSource RygelDataSource;</pre>
<p>Interface for all data streams provided by a <a class="link" href="RygelMediaEngine.html" title="RygelMediaEngine"><span class="type">RygelMediaEngine</span></a>.</p>
<p>When Rygel receives a HTTP request to stream a given file, it creates a RygelDataSource object for this new file and instructs the RygelDataSource to begin streaming. The RygelDataSource object will duly pass this request on to the underlying media framework, which will in turn pass streamed bytes back to the RygelDataSource object. The RygelDataSource passes these bytes to Rygel which adds them to the response it sends to the original HTTP request received from the client.</p>
<p>The data source is responsible for providing response header information describing the content being produced and a streamable byte-stream via its data_available signal. End-of-stream is signalled by the done signal, while errors are signalled by the error signal.</p>
<p>Implementations should fulfil at least these requirements:</p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem"><p>It should support at least the file:/<span class="bold"><strong></strong></span>/ URI scheme.</p></li>
<li class="listitem"><p>It should be able to stream any kind of binary data, regardless of the format.</p></li>
</ol></div>
<p>RygelDataSource instances are provided by <code class="function">rygel_media_engine_create_data_source()</code> which will return a derived <a class="link" href="RygelDataSource.html" title="RygelDataSource"><span class="type">RygelDataSource</span></a> that uses a specific IO backend and/or multimedia backend to stream the multimedia data at the URI.</p>
<p>The derived RygelDataSource may provide additional API for use by the derived media engine. For instance, <code class="function">rygel_media_engine_get_transcoders()</code> may return derived <span class="type">RygelTranscoder</span> instances, and these may use that additional API in their <code class="function">create_source()</code> implementations, for instance to access resources or data structures of the specific multimedia backend.</p>
</div>
<hr></hr>
<div class="refsect2">
<a name="RygelDataSourceIface"></a><h3>struct RygelDataSourceIface</h3>
<pre class="programlisting">struct RygelDataSourceIface {
	GTypeInterface parent_iface;
	GeeList* (*preroll) (RygelDataSource* self, RygelHTTPSeekRequest* seek, RygelPlaySpeedRequest* playspeed, GError** error);
	void (*start) (RygelDataSource* self, GError** error);
	void (*freeze) (RygelDataSource* self);
	void (*thaw) (RygelDataSource* self);
	void (*stop) (RygelDataSource* self);
};
</pre>
<p>Interface for creating <a class="link" href="RygelDataSource.html" title="RygelDataSource"><span class="type">RygelDataSource</span></a> implementations.</p>
<div class="refsect3">
<a name="RygelDataSourceIface.members"></a><h4>Members</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="struct_members_name" width="300px"></col>
<col class="struct_members_description"></col>
<col class="struct_members_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="struct_member_name"><p><a href="https://developer-old.gnome.org/librygel-server/gobject/gobject-Type-Information.html#GTypeInterface"><span class="type">GTypeInterface</span></a> <em class="structfield"><code><a name="RygelDataSourceIface.parent-iface"></a>parent_iface</code></em>;</p></td>
<td class="struct_member_description"><p>the parent interface structure</p></td>
<td class="struct_member_annotations"> </td>
</tr>
<tr>
<td class="struct_member_name"><p><em class="structfield"><code><a name="RygelDataSourceIface.preroll"></a>preroll</code></em> ()</p></td>
<td class="struct_member_description"><p>virtual method called by <a class="link" href="RygelDataSource.html#rygel-data-source-preroll" title="rygel_data_source_preroll ()"><code class="function">rygel_data_source_preroll()</code></a></p></td>
<td class="struct_member_annotations"> </td>
</tr>
<tr>
<td class="struct_member_name"><p><em class="structfield"><code><a name="RygelDataSourceIface.start"></a>start</code></em> ()</p></td>
<td class="struct_member_description"><p>virtual method called by <a class="link" href="RygelDataSource.html#rygel-data-source-start" title="rygel_data_source_start ()"><code class="function">rygel_data_source_start()</code></a></p></td>
<td class="struct_member_annotations"> </td>
</tr>
<tr>
<td class="struct_member_name"><p><em class="structfield"><code><a name="RygelDataSourceIface.freeze"></a>freeze</code></em> ()</p></td>
<td class="struct_member_description"><p>virtual method called by <a class="link" href="RygelDataSource.html#rygel-data-source-freeze" title="rygel_data_source_freeze ()"><code class="function">rygel_data_source_freeze()</code></a></p></td>
<td class="struct_member_annotations"> </td>
</tr>
<tr>
<td class="struct_member_name"><p><em class="structfield"><code><a name="RygelDataSourceIface.thaw"></a>thaw</code></em> ()</p></td>
<td class="struct_member_description"><p>virtual method called by <a class="link" href="RygelDataSource.html#rygel-data-source-thaw" title="rygel_data_source_thaw ()"><code class="function">rygel_data_source_thaw()</code></a></p></td>
<td class="struct_member_annotations"> </td>
</tr>
<tr>
<td class="struct_member_name"><p><em class="structfield"><code><a name="RygelDataSourceIface.stop"></a>stop</code></em> ()</p></td>
<td class="struct_member_description"><p>virtual method called by <a class="link" href="RygelDataSource.html#rygel-data-source-stop" title="rygel_data_source_stop ()"><code class="function">rygel_data_source_stop()</code></a></p></td>
<td class="struct_member_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div>
<div class="refsect1">
<a name="RygelDataSource.signal-details"></a><h2>Signal Details</h2>
<div class="refsect2">
<a name="RygelDataSource-data-available"></a><h3>The <code class="literal">“data-available”</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
user_function (<a class="link" href="RygelDataSource.html" title="RygelDataSource"><span class="type">RygelDataSource</span></a> *data_source,
               <a href="https://developer-old.gnome.org/librygel-server/glib/glib-Basic-Types.html#gpointer"><span class="type">gpointer</span></a>         data_length1,
               <a href="https://developer-old.gnome.org/librygel-server/glib/glib-Basic-Types.html#gint"><span class="type">gint</span></a>             data,
               <a href="https://developer-old.gnome.org/librygel-server/glib/glib-Basic-Types.html#gpointer"><span class="type">gpointer</span></a>         user_data)</pre>
<p>Emitted when the source has produced some data.</p>
<p>This signal has to be emitted in the main thread.</p>
<div class="refsect3">
<a name="RygelDataSource-data-available.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>data_source</p></td>
<td class="parameter_description"><p>the <a class="link" href="RygelDataSource.html" title="RygelDataSource"><span class="type">RygelDataSource</span></a> instance that received the signal</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>data_length1</p></td>
<td class="parameter_description"><p>length of the <em class="parameter"><code>data</code></em>
array</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>data</p></td>
<td class="parameter_description"><p> </p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>user_data</p></td>
<td class="parameter_description"><p>user data set when the signal handler was connected.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<p>Flags: <a href="https://developer-old.gnome.org/librygel-server/gobject/gobject-Signals.html#G-SIGNAL-RUN-LAST:CAPS">Run Last</a></p>
</div>
<hr></hr>
<div class="refsect2">
<a name="RygelDataSource-done"></a><h3>The <code class="literal">“done”</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
user_function (<a class="link" href="RygelDataSource.html" title="RygelDataSource"><span class="type">RygelDataSource</span></a> *data_source,
               <a href="https://developer-old.gnome.org/librygel-server/glib/glib-Basic-Types.html#gpointer"><span class="type">gpointer</span></a>         user_data)</pre>
<p>Emitted when the source does not have data anymore.</p>
<p>This signal has to be emitted in the main thread.</p>
<div class="refsect3">
<a name="RygelDataSource-done.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>data_source</p></td>
<td class="parameter_description"><p>the <a class="link" href="RygelDataSource.html" title="RygelDataSource"><span class="type">RygelDataSource</span></a> instance that received the signal</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>user_data</p></td>
<td class="parameter_description"><p>user data set when the signal handler was connected.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<p>Flags: <a href="https://developer-old.gnome.org/librygel-server/gobject/gobject-Signals.html#G-SIGNAL-RUN-LAST:CAPS">Run Last</a></p>
</div>
<hr></hr>
<div class="refsect2">
<a name="RygelDataSource-error"></a><h3>The <code class="literal">“error”</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
user_function (<a class="link" href="RygelDataSource.html" title="RygelDataSource"><span class="type">RygelDataSource</span></a> *data_source,
               <a href="https://developer-old.gnome.org/librygel-server/glib/glib-Basic-Types.html#gpointer"><span class="type">gpointer</span></a>         error,
               <a href="https://developer-old.gnome.org/librygel-server/glib/glib-Basic-Types.html#gpointer"><span class="type">gpointer</span></a>         user_data)</pre>
<p>Emitted when the source encounters a problem during data generation.</p>
<p>This signal has to be emitted in the main thread.</p>
<div class="refsect3">
<a name="RygelDataSource-error.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>data_source</p></td>
<td class="parameter_description"><p>the <a class="link" href="RygelDataSource.html" title="RygelDataSource"><span class="type">RygelDataSource</span></a> instance that received the signal</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>error</p></td>
<td class="parameter_description"><p> </p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>user_data</p></td>
<td class="parameter_description"><p>user data set when the signal handler was connected.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<p>Flags: <a href="https://developer-old.gnome.org/librygel-server/gobject/gobject-Signals.html#G-SIGNAL-RUN-LAST:CAPS">Run Last</a></p>
</div>
</div>
</div><div class="footer">
<hr></hr>Generated by GTK-Doc V1.25</div></div><div id="footer_art" class="default"> </div></div><div class="clearfix"></div><div id="footer_grass">   </div><div id="footer"><div class="container_12"><div class="links grid_9"><div class="menu-footer-1-container"><ul id="menu-footer-1" class="menu"><li id="menu-item-88" class="menu-item menu-item-type-custom menu-item-home menu-item-88"><a href="https://www.gnome.org/">The GNOME Project</a><ul class="sub-menu"><li id="menu-item-89" class="menu-item menu-item-type-post_type menu-item-89"><a href="https://www.gnome.org/about/">About Us</a></li><li id="menu-item-90" class="menu-item menu-item-type-custom menu-item-90"><a href="https://www.gnome.org/get-involved/">Get Involved</a></li><li id="menu-item-91" class="menu-item menu-item-type-custom menu-item-91"><a href="https://www.gnome.org/teams/">Teams</a></li><li id="menu-item-92" class="menu-item menu-item-type-custom menu-item-92"><a href="https://foundation.gnome.org">The GNOME Foundation</a></li><li><a href="https://www.gnome.org/support-gnome/">Support GNOME</a></li><li><a href="https://www.gnome.org/contact/">Contact</a></li></ul></li></ul></div><div class="menu-footer-2-container"><ul id="menu-footer-2" class="menu"><li id="menu-item-99" class="menu-item menu-item-type-post_type current-menu-item page_item page-item-20 current_page_item menu-item-99"><a href="RygelDataSource.html#">Resources</a><ul class="sub-menu"><li><a href="https://help.gnome.org">Documentation</a></li><li><a href="https://wiki.gnome.org">Wiki</a></li><li><a href="https://mail.gnome.org/mailman/listinfo">Mailing Lists</a></li><li><a href="https://wiki.gnome.org/GnomeIrcChannels">IRC Channels</a></li><li><a href="https://gitlab.gnome.org/">Bug Tracker</a></li><li><a href="https://gitlab.gnome.org/">Development Code</a></li><li><a href="https://wiki.gnome.org/Jhbuild">Build Tool</a></li></ul></li></ul></div><div class="menu-footer-4-container"><ul id="menu-footer-4" class="menu"><li id="menu-item-104" class="menu-item menu-item-type-custom menu-item-104"><a href="http://www.gnome.org/news/">News</a><ul class="sub-menu"><li><a href="https://www.gnome.org/start/stable">Latest Release</a></li><li><a href="https://planet.gnome.org">Planet GNOME</a></li><li><a href="https://news.gnome.org">Development News</a></li><li><a href="https://twitter.com/gnome">Twitter</a></li></ul></li></ul></div></div><div class="links grid_3 right"><div><ul class="menu available_languages"><li><strong>This website is available in many languages</strong><ul class="sub-menu"><li><a href="../../languages.html" title="Switching Language">Switch Language</a></li></ul></li></ul><script type="text/javascript" src="../../js/language.js"></script></div></div><div id="footnotes" class="grid_9">
                Copyright © 2005‒2014 <strong class="gnome_logo">The GNOME Project</strong><br></br><small>Optimised for standards. Hosted by <a href="http://redhat.com">Red Hat</a>.</small></div><div class="clear"></div></div></div><script type="text/javascript">
$(document).ready(function() {
    // Get browser
    $.each($.browser, function(i) {
        $('body').addClass(i);
        return false;
    });

    // Get OS and add it as class to body tag, this then allows forcing some
    // customisation in the CSS rules.
    var match = navigator.userAgent.toLowerCase().match(/(win|mac|linux)/);
    if (match) {
        $('body').addClass(match[0]);
    }
});
</script><script type="text/javascript">
      var _paq = _paq || [];
      _paq.push(['disableCookies']);
      _paq.push(["trackPageView"]);
      _paq.push(["enableLinkTracking"]);

      (function() {
        var u=(("https:" == document.location.protocol) ? "https" : "http") + "://webstats.gnome.org/";
        _paq.push(["setTrackerUrl", u+"piwik.php"]);
        _paq.push(["setSiteId", "6"]);
        var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";
        g.defer=true; g.async=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
      })();
    </script></body></html>
