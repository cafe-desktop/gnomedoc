<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:html="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="text/html; charset=utf-8"></meta><link rel="stylesheet" href="../../skin/gtkdoc.css" type="text/css"></link><link rel="stylesheet" type="text/css" media="all" href="https://static.gnome.org/css/grass-theme-style.css"></link><link rel="stylesheet" type="text/css" media="all" href="../../skin/lgo2010.css"></link><link rel="icon" type="image/png" href="../../skin/gnome-16.png"></link><link rel="SHORTCUT ICON" type="image/png" href="../../skin/gnome-16.png"></link><link rel="search" type="application/opensearchdescription+xml" href="../../gnome-library-search.xml" title="GNOME Library Search"></link><link rel="stylesheet" type="text/css" href="../../skin/jquery.autocomplete.css"></link><script type="text/javascript" src="../../js/jquery.js"></script><script type="text/javascript" src="../../js/jquery.autocomplete.js"></script><title>Applet Registration, Installation and Build System: Panel Applet Reference Manual</title><link href="index.html" rel="home" title="Panel Applet Reference Manual"></link><link href="getting-started.html" rel="up" title="Part II. Getting Started with the Panel Applet library"></link><link href="getting-started.settings.html" rel="prev" title="Settings"></link><link href="getting-started.in-out-process.html" rel="next" title="Out-of-Process vs In-Process"></link><link rel="stylesheet" type="text/css" media="all" href="../../skin/jquery.autocomplete.css"></link><link rel="stylesheet" type="text/css" media="all" href="../../skin/960_24_col.css"></link><script type="text/javascript" src="../../js/jquery.js"></script><script type="text/javascript" src="https://developer-old.gnome.org/js/jquery.jcarousel.min.js"></script><script type="text/javascript" src="../../js/jquery.autocomplete.js"></script></head><body><div id="accessibility_access"><ul><li><a href="getting-started.install.html#container">Go to page content</a></li><li><a href="getting-started.install.html#top_bar">Go to main menu</a></li><li><a href="getting-started.install.html#s" onclick="$('#s').focus(); return false;">Go to the search field</a></li></ul></div><div id="global_domain_bar"><div class="maxwidth"><div class="tab"><a class="root" href="https://www.gnome.org/">GNOME.org</a></div></div></div><div id="header" class="container_12"><div id="logo" class="grid_3"><a title="Go to home page" href="../../index.html"><img alt="GNOME: The Free Software Desktop Project" src="../../skin/gnome-logo-devcenter.png"></img></a></div><div id="top_bar" class="grid_9"><div class="left"><div class="menu-globalnav-container"><ul id="menu-globalnav" class="menu"><li class="menu-item menu-item-type-post_type menu-item-6"><a href="../../about/index.html">About</a></li><li class="menu-item menu-item-type-post_type menu-item-23"><a href="https://help.gnome.org/users/">Users</a></li><li class="menu-item menu-item-type-post_type menu-item-40"><a href="https://help.gnome.org/admin/">Administrators</a></li><li class="current-menu-item"><a href="https://developer.gnome.org/">Developers</a></li></ul></div></div><div class="right"><form role="search" method="get" id="searchform" action="https://developer-old.gnome.org/symbols/"><div><label class="hidden" for="q">Search:
                        </label><input type="text" value="" name="q" id="s" placeholder="Search"></input></div></form><script type="text/javascript">
$('#s').autocomplete('/symbols/lookup/',
        { minChars:3, matchSubset:1, matchContains:1, cacheLength:10,
          selectOnly:1, rowsLimit:25 });
              </script></div></div></div><div class="clearfix"></div><div id="container" class="gtk-doc two_columns"><div class="content"><table cellpadding="2" cellspacing="5" class="navigation" id="top" summary="Navigation header" width="100%"><tbody><tr valign="middle">
<td align="left" class="shortcuts" width="100%"></td>
<td><a accesskey="h" href="index.html"><img alt="Home" border="0" height="16" src="home.png" width="16"></img></a></td>
<td><a accesskey="u" href="getting-started.html"><img alt="Up" border="0" height="16" src="up.png" width="16"></img></a></td>
<td><a accesskey="p" href="getting-started.settings.html"><img alt="Prev" border="0" height="16" src="left.png" width="16"></img></a></td>
<td><a accesskey="n" href="getting-started.in-out-process.html"><img alt="Next" border="0" height="16" src="right.png" width="16"></img></a></td>
</tr></tbody></table><div class="chapter">
<div class="titlepage"><div><div><h2 class="title">
<a name="getting-started.install"></a>Applet Registration, Installation and Build System</h2></div></div></div>
<div class="toc"><dl class="toc">
<dt><span class="sect1"><a href="getting-started.install.html#getting-started.install.panel-applet">Panel Applet File Syntax</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="getting-started.install.html#id-1.3.7.5.3">Panel Applet File Example</a></span></dt>
<dt><span class="sect2"><a href="getting-started.install.html#id-1.3.7.5.4">File Format and well known Fields</a></span></dt>
<dt><span class="sect2"><a href="getting-started.install.html#id-1.3.7.5.5">Installation</a></span></dt>
</dl></dd>
<dt><span class="sect1"><a href="getting-started.in-out-process.html">Out-of-Process vs In-Process</a></span></dt>
<dt><span class="sect1"><a href="getting-started.install.build-system.html">Build system</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="getting-started.install.build-system.html#id-1.3.7.7.2">Configure</a></span></dt>
<dt><span class="sect2"><a href="getting-started.install.build-system.html#id-1.3.7.7.3">Makefiles</a></span></dt>
</dl></dd>
</dl></div>
<p>
      Simply installing the applet binary will obviously not be enough. The applet also needs to be registered to the
      panel. In order to do this you need to provide a Panel Applet File. Panel Applet files are ini-style text
      files with an extension named <code class="constant">.panel-applet</code>.
    </p>
<div class="warning"><p>
          If you are creating an out-process applet, then you also need to provide a D-Bus service file
          to automatically start the binary when the panel wants to create an applet.
        </p></div>
<p>
           This chapter explains the syntax of <code class="constant">.panel-applet</code> files and gives the necessary
           information to setup the build system in order to install all the required parts of the applet on the system.
           For the build system part it is assumed that GNU Autotools (e.g. autoconf and automake) are used.
       </p>
<div class="sect1">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="getting-started.install.panel-applet"></a>Panel Applet File Syntax</h2></div></div></div>
<p>
      The <code class="filename">.panel-applet</code> file is a key file about the applet binary, describing the
         <a class="link" href="getting-started.concepts.html#getting-started.concepts.applet-factory" title="Applet Factory">applet factory</a> of the binary and the
         <a class="link" href="getting-started.concepts.html#getting-started.concepts.applet-types" title="Applet Types">applet types</a> this factory can create.
     </p>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="id-1.3.7.5.3"></a>Panel Applet File Example</h3></div></div></div>
<div class="informalexample">
  <table border="0" cellpadding="0" cellspacing="0" class="listing_frame">
    <tbody>
      <tr>
        <td align="right" class="listing_lines"><pre>1
2
3
4
5
6
7
8
9</pre></td>
        <td class="listing_code"><pre class="programlisting"><span class="p">[</span><span class="n">Applet</span> <span class="n">Factory</span><span class="p">]</span>
<span class="n">Id</span><span class="o">=</span><span class="n">HelloWorldFactory</span>
<span class="n">Name</span><span class="o">=</span><span class="n">Hello</span> <span class="n">World</span> <span class="n">Applet</span> <span class="n">Factory</span>
<span class="n">Description</span><span class="o">=</span><span class="n">Factory</span> <span class="k">for</span> <span class="n">the</span> <span class="n">our</span> <span class="n">example</span> <span class="n">applets</span>

<span class="p">[</span><span class="n">HelloWorldApplet</span><span class="p">]</span>
<span class="n">Name</span><span class="o">=</span><span class="n">Hello</span> <span class="n">World</span>
<span class="n">Description</span><span class="o">=</span><span class="n">Factory</span> <span class="k">for</span> <span class="n">the</span> <span class="n">Hello</span> <span class="n">World</span> <span class="n">example</span> <span class="n">applet</span>
<span class="n">Icon</span><span class="o">=</span><span class="n">hello</span><span class="o">-</span><span class="n">world</span><span class="o">-</span><span class="n">icon</span></pre></td>
      </tr>
    </tbody>
  </table>
</div>

</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="id-1.3.7.5.4"></a>File Format and well known Fields</h3></div></div></div>
<p>
       The file must contain a <code class="constant">Applet Factory</code> group with the following keys:
      </p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem"><p>
         <code class="constant">Id</code> (string): the identifier of the applet factory. This must be the same name that will be used as the first parameter to <code class="function">PANEL_APPLET_OUT_PROCESS_FACTORY()</code> or <a class="link" href="libpanel-applet-Panel-Applet-Factory.html#PANEL-APPLET-IN-PROCESS-FACTORY:CAPS" title="PANEL_APPLET_IN_PROCESS_FACTORY()"><code class="function">PANEL_APPLET_IN_PROCESS_FACTORY()</code></a>.
        </p></li>
<li class="listitem"><p>
         <code class="constant">InProcess</code> (boolean, optional): whether the applet should be <a class="link" href="getting-started.in-out-process.html" title="Out-of-Process vs In-Process">in-process or out-of-process</a>. By default, the applet is out-of-process.
        </p></li>
<li class="listitem"><p>
         <code class="constant">Location</code> (string): the path to the applet binary. Only mandatory if <code class="constant">InProcess</code> is <code class="constant">true</code>.
        </p></li>
<li class="listitem"><p>
         <code class="constant">Name</code> (localized string, optional): the name of the applet factory. For example: <code class="constant">Hello World Factory</code>.
        </p></li>
<li class="listitem"><p>
         <code class="constant">Description</code> (localized string, optional): the description of the applet factory. For example: <code class="constant">Factory for the Hello World applet example</code>.
        </p></li>
</ul></div>
<p>
       For each applet type, it must also contain a group named with the applet type identifier. Such a group must have the following keys:
      </p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem"><p>
         <code class="constant">Name</code> (localized string): the name of the applet type. For example: <code class="constant">Hello World</code>.
        </p></li>
<li class="listitem"><p>
         <code class="constant">Description</code> (localized string, optional): the description of the applet type. For example: <code class="constant">Hello World applet example</code>.
        </p></li>
<li class="listitem"><p>
         <code class="constant">Icon</code> (string, optional): the icon name of the applet type. For example: <code class="constant">hello-world-icon</code>. It can also be the path to an icon, but this not recommended.
        </p></li>
</ul></div>
</div>
<div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="id-1.3.7.5.5"></a>Installation</h3></div></div></div>
<p>
       The <code class="filename">.panel-applet</code> file must be installed in a specific directory to be discoverable by the panel. The exact path of this directory can be queried with <code class="constant">pkg-config</code>:

          </p>
<div class="informalexample">
  <table border="0" cellpadding="0" cellspacing="0" class="listing_frame">
    <tbody>
      <tr>
        <td align="right" class="listing_lines"><pre>1</pre></td>
        <td class="listing_code"><pre class="programlisting"><span class="n">pkg</span><span class="o">-</span><span class="n">config</span> <span class="o">--</span><span class="n">variable</span><span class="o">=</span><span class="n">libpanel_applet_dir</span> <span class="n">libpanel</span><span class="o">-</span><span class="n">applet</span></pre></td>
      </tr>
    </tbody>
  </table>
</div>

<p>

          The path depends on how GNOME Panel was compiled and installed so it could be different depending on which
          Linux distribution is used. Therefore never hard-code the path in your build system but use he above
          command instead.

          Please see the <a class="link" href="getting-started.install.build-system.html" title="Build system">Build System</a> section for more
          information on how install a Panel Applet file with autotools.
      </p>
</div>
</div>
</div><div class="footer">
<hr></hr>Generated by GTK-Doc V1.32.1</div></div><div id="footer_art" class="default"> </div></div><div class="clearfix"></div><div id="footer_grass">   </div><div id="footer"><div class="container_12"><div class="links grid_9"><div class="menu-footer-1-container"><ul id="menu-footer-1" class="menu"><li id="menu-item-88" class="menu-item menu-item-type-custom menu-item-home menu-item-88"><a href="https://www.gnome.org/">The GNOME Project</a><ul class="sub-menu"><li id="menu-item-89" class="menu-item menu-item-type-post_type menu-item-89"><a href="https://www.gnome.org/about/">About Us</a></li><li id="menu-item-90" class="menu-item menu-item-type-custom menu-item-90"><a href="https://www.gnome.org/get-involved/">Get Involved</a></li><li id="menu-item-91" class="menu-item menu-item-type-custom menu-item-91"><a href="https://www.gnome.org/teams/">Teams</a></li><li id="menu-item-92" class="menu-item menu-item-type-custom menu-item-92"><a href="https://foundation.gnome.org">The GNOME Foundation</a></li><li><a href="https://www.gnome.org/support-gnome/">Support GNOME</a></li><li><a href="https://www.gnome.org/contact/">Contact</a></li></ul></li></ul></div><div class="menu-footer-2-container"><ul id="menu-footer-2" class="menu"><li id="menu-item-99" class="menu-item menu-item-type-post_type current-menu-item page_item page-item-20 current_page_item menu-item-99"><a href="getting-started.install.html#">Resources</a><ul class="sub-menu"><li><a href="https://help.gnome.org">Documentation</a></li><li><a href="https://wiki.gnome.org">Wiki</a></li><li><a href="https://mail.gnome.org/mailman/listinfo">Mailing Lists</a></li><li><a href="https://wiki.gnome.org/GnomeIrcChannels">IRC Channels</a></li><li><a href="https://gitlab.gnome.org/">Bug Tracker</a></li><li><a href="https://gitlab.gnome.org/">Development Code</a></li><li><a href="https://wiki.gnome.org/Jhbuild">Build Tool</a></li></ul></li></ul></div><div class="menu-footer-4-container"><ul id="menu-footer-4" class="menu"><li id="menu-item-104" class="menu-item menu-item-type-custom menu-item-104"><a href="http://www.gnome.org/news/">News</a><ul class="sub-menu"><li><a href="https://www.gnome.org/start/stable">Latest Release</a></li><li><a href="https://planet.gnome.org">Planet GNOME</a></li><li><a href="https://news.gnome.org">Development News</a></li><li><a href="https://twitter.com/gnome">Twitter</a></li></ul></li></ul></div></div><div class="links grid_3 right"><div><ul class="menu available_languages"><li><strong>This website is available in many languages</strong><ul class="sub-menu"><li><a href="../../languages.html" title="Switching Language">Switch Language</a></li></ul></li></ul><script type="text/javascript" src="../../js/language.js"></script></div></div><div id="footnotes" class="grid_9">
                Copyright © 2005‒2014 <strong class="gnome_logo">The GNOME Project</strong><br></br><small>Optimised for standards. Hosted by <a href="http://redhat.com">Red Hat</a>.</small></div><div class="clear"></div></div></div><script type="text/javascript">
$(document).ready(function() {
    // Get browser
    $.each($.browser, function(i) {
        $('body').addClass(i);
        return false;
    });

    // Get OS and add it as class to body tag, this then allows forcing some
    // customisation in the CSS rules.
    var match = navigator.userAgent.toLowerCase().match(/(win|mac|linux)/);
    if (match) {
        $('body').addClass(match[0]);
    }
});
</script><script type="text/javascript">
      var _paq = _paq || [];
      _paq.push(['disableCookies']);
      _paq.push(["trackPageView"]);
      _paq.push(["enableLinkTracking"]);

      (function() {
        var u=(("https:" == document.location.protocol) ? "https" : "http") + "://webstats.gnome.org/";
        _paq.push(["setTrackerUrl", u+"piwik.php"]);
        _paq.push(["setSiteId", "6"]);
        var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";
        g.defer=true; g.async=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
      })();
    </script></body></html>
