<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:html="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="text/html; charset=utf-8"></meta><link rel="stylesheet" type="text/css" media="all" href="https://static.gnome.org/css/grass-theme-style.css"></link><link rel="stylesheet" type="text/css" media="all" href="../../skin/lgo2010.css"></link><link rel="icon" type="image/png" href="../../skin/gnome-16.png"></link><link rel="SHORTCUT ICON" type="image/png" href="../../skin/gnome-16.png"></link><link rel="search" type="application/opensearchdescription+xml" href="../../gnome-library-search.xml" title="GNOME Library Search"></link><link rel="stylesheet" type="text/css" href="../../skin/jquery.autocomplete.css"></link><script type="text/javascript" src="../../js/jquery.js"></script><script type="text/javascript" src="../../js/jquery.autocomplete.js"></script><title>RygelMediaEngine: librygel-server Reference Manual</title><link href="index.html" rel="home" title="librygel-server Reference Manual"></link><link href="api-main-list.html" rel="up" title="librygel-server API Reference"></link><link href="RygelMediaContainer.html" rel="prev" title="RygelMediaContainer"></link><link href="RygelMediaFileItem.html" rel="next" title="RygelMediaFileItem"></link><link rel="stylesheet" type="text/css" media="all" href="../../skin/jquery.autocomplete.css"></link><link rel="stylesheet" type="text/css" media="all" href="../../skin/960_24_col.css"></link><script type="text/javascript" src="../../js/jquery.js"></script><script type="text/javascript" src="https://developer-old.gnome.org/js/jquery.jcarousel.min.js"></script><script type="text/javascript" src="../../js/jquery.autocomplete.js"></script></head><body><div id="accessibility_access"><ul><li><a href="RygelMediaEngine.html#container">Go to page content</a></li><li><a href="RygelMediaEngine.html#top_bar">Go to main menu</a></li><li><a href="RygelMediaEngine.html#s" onclick="$('#s').focus(); return false;">Go to the search field</a></li></ul></div><div id="global_domain_bar"><div class="maxwidth"><div class="tab"><a class="root" href="https://www.gnome.org/">GNOME.org</a></div></div></div><div id="header" class="container_12"><div id="logo" class="grid_3"><a title="Go to home page" href="../../index.html"><img alt="GNOME: The Free Software Desktop Project" src="../../skin/gnome-logo-devcenter.png"></img></a></div><div id="top_bar" class="grid_9"><div class="left"><div class="menu-globalnav-container"><ul id="menu-globalnav" class="menu"><li class="menu-item menu-item-type-post_type menu-item-6"><a href="../../about/index.html">About</a></li><li class="menu-item menu-item-type-post_type menu-item-23"><a href="https://help.gnome.org/users/">Users</a></li><li class="menu-item menu-item-type-post_type menu-item-40"><a href="https://help.gnome.org/admin/">Administrators</a></li><li class="current-menu-item"><a href="https://developer.gnome.org/">Developers</a></li></ul></div></div><div class="right"><form role="search" method="get" id="searchform" action="https://developer-old.gnome.org/symbols/"><div><label class="hidden" for="q">Search:
                        </label><input type="text" value="" name="q" id="s" placeholder="Search"></input></div></form><script type="text/javascript">
$('#s').autocomplete('/symbols/lookup/',
        { minChars:3, matchSubset:1, matchContains:1, cacheLength:10,
          selectOnly:1, rowsLimit:25 });
              </script></div></div></div><div class="clearfix"></div><div id="container" class="body"><div class="content"><table cellpadding="2" cellspacing="5" class="navigation" id="top" summary="Navigation header" width="100%"><tbody><tr valign="middle">
<td align="left" class="shortcuts" width="100%">
<a class="shortcut" href="RygelMediaEngine.html#">Top</a><span id="nav_description">  <span class="dim">|</span> 
                  <a class="shortcut" href="RygelMediaEngine.html#RygelMediaEngine.description">Description</a></span><span id="nav_hierarchy">  <span class="dim">|</span> 
                  <a class="shortcut" href="RygelMediaEngine.html#RygelMediaEngine.object-hierarchy">Object Hierarchy</a></span><span id="nav_signals">  <span class="dim">|</span> 
                  <a class="shortcut" href="RygelMediaEngine.html#RygelMediaEngine.signals">Signals</a></span>
</td>
<td><a accesskey="h" href="index.html"><img alt="Home" border="0" height="16" src="home.png" width="16"></img></a></td>
<td><a accesskey="u" href="api-main-list.html"><img alt="Up" border="0" height="16" src="up.png" width="16"></img></a></td>
<td><a accesskey="p" href="RygelMediaContainer.html"><img alt="Prev" border="0" height="16" src="left.png" width="16"></img></a></td>
<td><a accesskey="n" href="RygelMediaFileItem.html"><img alt="Next" border="0" height="16" src="right.png" width="16"></img></a></td>
</tr></tbody></table><div class="refentry">
<a name="RygelMediaEngine"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tbody><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="RygelMediaEngine.top_of_page"></a>RygelMediaEngine</span></h2>
<p>RygelMediaEngine — This is the base class for media engines that contain knowledge about the streaming and transformational capabilites of the media library in use.</p>
</td>
<td align="right" class="gallery_image" valign="top"></td>
</tr></tbody></table></div>
<div class="refsect1">
<a name="RygelMediaEngine.functions"></a><h2>Functions</h2>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="functions_return" width="150px"></col>
<col class="functions_name"></col>
</colgroup>
<tbody>
<tr>
<td class="function_type">
<a href="https://developer-old.gnome.org/librygel-server/glib/glib-Doubly-Linked-Lists.html#GList"><span class="returnvalue">GList</span></a> *
</td>
<td class="function_name">
<a class="link" href="RygelMediaEngine.html#rygel-media-engine-get-dlna-profiles" title="rygel_media_engine_get_dlna_profiles ()">rygel_media_engine_get_dlna_profiles</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="RygelMediaEngine.html#rygel-media-engine-get-resources-for-item" title="rygel_media_engine_get_resources_for_item ()">rygel_media_engine_get_resources_for_item</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">GeeList</span> *
</td>
<td class="function_name">
<a class="link" href="RygelMediaEngine.html#rygel-media-engine-get-resources-for-item-finish" title="rygel_media_engine_get_resources_for_item_finish ()">rygel_media_engine_get_resources_for_item_finish</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a class="link" href="RygelDataSource.html" title="RygelDataSource"><span class="returnvalue">RygelDataSource</span></a> *
</td>
<td class="function_name">
<a class="link" href="RygelMediaEngine.html#rygel-media-engine-create-data-source-for-resource" title="rygel_media_engine_create_data_source_for_resource ()">rygel_media_engine_create_data_source_for_resource</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a class="link" href="RygelDataSource.html" title="RygelDataSource"><span class="returnvalue">RygelDataSource</span></a> *
</td>
<td class="function_name">
<a class="link" href="RygelMediaEngine.html#rygel-media-engine-create-data-source-for-uri" title="rygel_media_engine_create_data_source_for_uri ()">rygel_media_engine_create_data_source_for_uri</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="https://developer-old.gnome.org/librygel-server/glib/glib-Doubly-Linked-Lists.html#GList"><span class="returnvalue">GList</span></a> *
</td>
<td class="function_name">
<a class="link" href="RygelMediaEngine.html#rygel-media-engine-get-internal-protocol-schemes" title="rygel_media_engine_get_internal_protocol_schemes ()">rygel_media_engine_get_internal_protocol_schemes</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="RygelMediaEngine.html#rygel-media-engine-init" title="rygel_media_engine_init ()">rygel_media_engine_init</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a class="link" href="RygelMediaEngine.html" title="RygelMediaEngine"><span class="returnvalue">RygelMediaEngine</span></a> *
</td>
<td class="function_name">
<a class="link" href="RygelMediaEngine.html#rygel-media-engine-get-default" title="rygel_media_engine_get_default ()">rygel_media_engine_get_default</a> <span class="c_punctuation">()</span>
</td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1">
<a name="RygelMediaEngine.signals"></a><h2>Signals</h2>
<div class="informaltable"><table border="0" class="informaltable">
<colgroup>
<col class="signals_return" width="150px"></col>
<col class="signals_name" width="300px"></col>
<col class="signals_flags" width="200px"></col>
</colgroup>
<tbody><tr>
<td class="signal_type"><span class="returnvalue">void</span></td>
<td class="signal_name"><a class="link" href="RygelMediaEngine.html#RygelMediaEngine-resource-changed" title="The “resource-changed” signal">resource-changed</a></td>
<td class="signal_flags"><a href="https://developer-old.gnome.org/librygel-server/gobject/gobject-Signals.html#G-SIGNAL-RUN-LAST:CAPS">Run Last</a></td>
</tr></tbody>
</table></div>
</div>
<div class="refsect1">
<a name="RygelMediaEngine.other"></a><h2>Types and Values</h2>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="name" width="150px"></col>
<col class="description"></col>
</colgroup>
<tbody>
<tr>
<td class="define_keyword">#define</td>
<td class="function_name"><a class="link" href="RygelMediaEngine.html#RYGEL-TYPE-MEDIA-ENGINE:CAPS" title="RYGEL_TYPE_MEDIA_ENGINE">RYGEL_TYPE_MEDIA_ENGINE</a></td>
</tr>
<tr>
<td class="datatype_keyword">struct</td>
<td class="function_name"><a class="link" href="RygelMediaEngine.html#RygelMediaEngine-struct" title="struct RygelMediaEngine">RygelMediaEngine</a></td>
</tr>
<tr>
<td class="datatype_keyword">struct</td>
<td class="function_name"><a class="link" href="RygelMediaEngine.html#RygelMediaEngineClass" title="struct RygelMediaEngineClass">RygelMediaEngineClass</a></td>
</tr>
<tr>
<td class="datatype_keyword">enum</td>
<td class="function_name"><a class="link" href="RygelMediaEngine.html#RygelMediaEngineError" title="enum RygelMediaEngineError">RygelMediaEngineError</a></td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1">
<a name="RygelMediaEngine.object-hierarchy"></a><h2>Object Hierarchy</h2>
<pre class="screen">    <a href="https://developer-old.gnome.org/librygel-server/gobject/gobject-The-Base-Object-Type.html#GObject-struct">GObject</a>
    <span class="lineart">╰──</span> RygelMediaEngine
</pre>
</div>
<div class="refsect1">
<a name="RygelMediaEngine.description"></a><h2>Description</h2>
<p>Media engines express what representations of a MediaObject they can produce by returning MediaResource objects which will, in turn, be used to express to endpoints representations can be streamed from the MediaServer. These representations may include transformations, time-scaled representations, and/or encrypted representations.</p>
<p>See, for instance, Rygel's built-in "gstreamer" and "simple" media engines, or the external rygel-gst-0-10-media-engine module.</p>
<p>The actual media engine used by Rygel at runtime is specified by the media-engine configuration key. For instance, in rygel.conf: media-engine=librygel-media-engine-gst.so</p>
<p>Media engines should also derive their own <a class="link" href="RygelDataSource.html" title="RygelDataSource"><span class="type">RygelDataSource</span></a>, returning an instance of it from <code class="function">create_data_source()</code>.</p>
<p>See the &lt;link linkend="implementing-media-engines"&gt;Implementing Media Engines&lt;/link&gt; section.</p>
</div>
<div class="refsect1">
<a name="RygelMediaEngine.functions_details"></a><h2>Functions</h2>
<div class="refsect2">
<a name="rygel-media-engine-get-dlna-profiles"></a><h3>rygel_media_engine_get_dlna_profiles ()</h3>
<pre class="programlisting"><a href="https://developer-old.gnome.org/librygel-server/glib/glib-Doubly-Linked-Lists.html#GList"><span class="returnvalue">GList</span></a> *
rygel_media_engine_get_dlna_profiles (<em class="parameter"><code><a class="link" href="RygelMediaEngine.html" title="RygelMediaEngine"><span class="type">RygelMediaEngine</span></a> *self</code></em>);</pre>
<p>Get a list of the DLNA profiles that the media engine can stream.</p>
<p>This information is needed to implement DLNA's ConnectionManager.GetProtocolInfo call and to determine whether Rygel can accept an uploaded file.</p>
<div class="refsect3">
<a name="rygel-media-engine-get-dlna-profiles.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>self</p></td>
<td class="parameter_description"><p>the <a class="link" href="RygelMediaEngine.html" title="RygelMediaEngine"><span class="type">RygelMediaEngine</span></a> instance</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3">
<a name="rygel-media-engine-get-dlna-profiles.returns"></a><h4>Returns</h4>
<p>A list of <span class="type">RygelDLNAProfile</span>&lt;!-- --&gt;s </p>.
<p><span class="annotation">[<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>]</span></p>
</div>
</div>
<hr></hr>
<div class="refsect2">
<a name="rygel-media-engine-get-resources-for-item"></a><h3>rygel_media_engine_get_resources_for_item ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
rygel_media_engine_get_resources_for_item
                               (<em class="parameter"><code><a class="link" href="RygelMediaEngine.html" title="RygelMediaEngine"><span class="type">RygelMediaEngine</span></a> *self</code></em>,
                                <em class="parameter"><code><a class="link" href="RygelMediaObject.html" title="RygelMediaObject"><span class="type">RygelMediaObject</span></a> *item</code></em>,
                                <em class="parameter"><code><a href="https://developer-old.gnome.org/librygel-server/gio/GAsyncResult.html#GAsyncReadyCallback"><span class="type">GAsyncReadyCallback</span></a> _callback_</code></em>,
                                <em class="parameter"><code><a href="https://developer-old.gnome.org/librygel-server/glib/glib-Basic-Types.html#gpointer"><span class="type">gpointer</span></a> _user_data_</code></em>);</pre>
<p>Retrieve engine-provided resources for the given MediaObject</p>
<p>The MediaResources returned may include formats/profiles that do not match the source content byte-for-byte (e.g. transcodes, encrypted formats, etc). The MediaEngine must return a MediaResource for the raw MediaObject content if it can support streaming the content directly.</p>
<p>The order of MediaResources in the returned List should be from most-preferred to least-preferred and each must have a unique alphanumeric "name" field.</p>
<div class="note"><p>The engine should set all delivery-related flags assuming all delivery forms are supported (e.g. the protocol fields and delivery flags of the ProtocolInfo). And the resource uri should be set to the empty string for http-delivered resources. The effective delivery options and uri will be established by the HTTP server. </p></div>
<p><span class="emphasis"><em>See also</em></span>: <a class="link" href="RygelMediaEngine.html#rygel-media-engine-get-resources-for-item-finish" title="rygel_media_engine_get_resources_for_item_finish ()"><code class="function">rygel_media_engine_get_resources_for_item_finish()</code></a></p>
<div class="refsect3">
<a name="rygel-media-engine-get-resources-for-item.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>self</p></td>
<td class="parameter_description"><p>the <a class="link" href="RygelMediaEngine.html" title="RygelMediaEngine"><span class="type">RygelMediaEngine</span></a> instance</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>item</p></td>
<td class="parameter_description"><p> </p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>_callback_</p></td>
<td class="parameter_description"><p> callback to call when the request is satisfied. </p></td>
<td class="parameter_annotations"><span class="annotation">[<acronym title="The callback is valid until first called."><span class="acronym">scope async</span></acronym>]</span></td>
</tr>
<tr>
<td class="parameter_name"><p>_user_data_</p></td>
<td class="parameter_description"><p> the data to pass to <em class="parameter"><code>_callback_</code></em>
function. </p></td>
<td class="parameter_annotations"><span class="annotation">[<acronym title="This parameter is a 'user_data', for callbacks; many bindings can pass NULL here."><span class="acronym">closure</span></acronym>]</span></td>
</tr>
</tbody>
</table></div>
</div>
</div>
<hr></hr>
<div class="refsect2">
<a name="rygel-media-engine-get-resources-for-item-finish"></a><h3>rygel_media_engine_get_resources_for_item_finish ()</h3>
<pre class="programlisting"><span class="returnvalue">GeeList</span> *
rygel_media_engine_get_resources_for_item_finish
                               (<em class="parameter"><code><a class="link" href="RygelMediaEngine.html" title="RygelMediaEngine"><span class="type">RygelMediaEngine</span></a> *self</code></em>,
                                <em class="parameter"><code><a href="https://developer-old.gnome.org/librygel-server/gio/GAsyncResult.html#GAsyncResult-struct"><span class="type">GAsyncResult</span></a> *_res_</code></em>);</pre>
<p>Retrieve engine-provided resources for the given MediaObject</p>
<p>The MediaResources returned may include formats/profiles that do not match the source content byte-for-byte (e.g. transcodes, encrypted formats, etc). The MediaEngine must return a MediaResource for the raw MediaObject content if it can support streaming the content directly.</p>
<p>The order of MediaResources in the returned List should be from most-preferred to least-preferred and each must have a unique alphanumeric "name" field.</p>
<div class="note"><p>The engine should set all delivery-related flags assuming all delivery forms are supported (e.g. the protocol fields and delivery flags of the ProtocolInfo). And the resource uri should be set to the empty string for http-delivered resources. The effective delivery options and uri will be established by the HTTP server. </p></div>
<p><span class="emphasis"><em>See also</em></span>: <a class="link" href="RygelMediaEngine.html#rygel-media-engine-get-resources-for-item" title="rygel_media_engine_get_resources_for_item ()"><code class="function">rygel_media_engine_get_resources_for_item()</code></a></p>
<div class="refsect3">
<a name="rygel-media-engine-get-resources-for-item-finish.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>self</p></td>
<td class="parameter_description"><p>the <a class="link" href="RygelMediaEngine.html" title="RygelMediaEngine"><span class="type">RygelMediaEngine</span></a> instance</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>_res_</p></td>
<td class="parameter_description"><p>a <a href="https://developer-old.gnome.org/librygel-server/gio/GAsyncResult.html#GAsyncResult-struct"><span class="type">GAsyncResult</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="rygel-media-engine-get-resources-for-item-finish.returns"></a><h4>Returns</h4>
<p>A list of <span class="type">MediaResources</span>&lt;!-- --&gt;s or null if no representations are provided by the engine for the item. </p>
</div>
</div>
<hr></hr>
<div class="refsect2">
<a name="rygel-media-engine-create-data-source-for-resource"></a><h3>rygel_media_engine_create_data_source_for_resource ()</h3>
<pre class="programlisting"><a class="link" href="RygelDataSource.html" title="RygelDataSource"><span class="returnvalue">RygelDataSource</span></a> *
rygel_media_engine_create_data_source_for_resource
                               (<em class="parameter"><code><a class="link" href="RygelMediaEngine.html" title="RygelMediaEngine"><span class="type">RygelMediaEngine</span></a> *self</code></em>,
                                <em class="parameter"><code><a class="link" href="RygelMediaObject.html" title="RygelMediaObject"><span class="type">RygelMediaObject</span></a> *item</code></em>,
                                <em class="parameter"><code><a class="link" href="RygelMediaResource.html" title="RygelMediaResource"><span class="type">RygelMediaResource</span></a> *resource</code></em>,
                                <em class="parameter"><code><a href="https://developer-old.gnome.org/librygel-server/glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);</pre>
<p>Get a <span class="type">DataSource</span> for given <span class="type">MediaResource</span> representation of the <span class="type">MediaObject</span>.</p>
<div class="refsect3">
<a name="rygel-media-engine-create-data-source-for-resource.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>self</p></td>
<td class="parameter_description"><p>the <a class="link" href="RygelMediaEngine.html" title="RygelMediaEngine"><span class="type">RygelMediaEngine</span></a> instance</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>item</p></td>
<td class="parameter_description">
<p>  .  </p>
<p>The <span class="type">MediaObject</span> to create the <span class="type">DataSource</span> for </p>
<p>. </p>
</td>
<td class="parameter_annotations"><span class="annotation">[<acronym title="Parameter for input. Default is transfer none."><span class="acronym">in</span></acronym>]</span></td>
</tr>
<tr>
<td class="parameter_name"><p>resource</p></td>
<td class="parameter_description">
<p>  .  </p>
<p>The specific resource to create the <span class="type">DataSource</span> for </p>
<p>. </p>
</td>
<td class="parameter_annotations"><span class="annotation">[<acronym title="Parameter for input. Default is transfer none."><span class="acronym">in</span></acronym>]</span></td>
</tr>
<tr>
<td class="parameter_name"><p>error</p></td>
<td class="parameter_description"><p>location to store the error occuring, or <a href="https://developer-old.gnome.org/librygel-server/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> to ignore</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="rygel-media-engine-create-data-source-for-resource.returns"></a><h4>Returns</h4>
<p>A <span class="type">DataSource</span> representing the given item resource </p>
</div>
</div>
<hr></hr>
<div class="refsect2">
<a name="rygel-media-engine-create-data-source-for-uri"></a><h3>rygel_media_engine_create_data_source_for_uri ()</h3>
<pre class="programlisting"><a class="link" href="RygelDataSource.html" title="RygelDataSource"><span class="returnvalue">RygelDataSource</span></a> *
rygel_media_engine_create_data_source_for_uri
                               (<em class="parameter"><code><a class="link" href="RygelMediaEngine.html" title="RygelMediaEngine"><span class="type">RygelMediaEngine</span></a> *self</code></em>,
                                <em class="parameter"><code>const <a href="https://developer-old.gnome.org/librygel-server/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *uri</code></em>,
                                <em class="parameter"><code><a href="https://developer-old.gnome.org/librygel-server/glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);</pre>
<p>Get a <span class="type">DataSource</span> for the URI.</p>
<div class="refsect3">
<a name="rygel-media-engine-create-data-source-for-uri.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>self</p></td>
<td class="parameter_description"><p>the <a class="link" href="RygelMediaEngine.html" title="RygelMediaEngine"><span class="type">RygelMediaEngine</span></a> instance</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>uri</p></td>
<td class="parameter_description">
<p>  .  </p>
<p>to create the <span class="type">DataSource</span> for. </p>
<p>. </p>
</td>
<td class="parameter_annotations"><span class="annotation">[<acronym title="Parameter for input. Default is transfer none."><span class="acronym">in</span></acronym>]</span></td>
</tr>
<tr>
<td class="parameter_name"><p>error</p></td>
<td class="parameter_description"><p>location to store the error occuring, or <a href="https://developer-old.gnome.org/librygel-server/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> to ignore</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="rygel-media-engine-create-data-source-for-uri.returns"></a><h4>Returns</h4>
<p>A <span class="type">DataSource</span> representing the uri </p>
</div>
</div>
<hr></hr>
<div class="refsect2">
<a name="rygel-media-engine-get-internal-protocol-schemes"></a><h3>rygel_media_engine_get_internal_protocol_schemes ()</h3>
<pre class="programlisting"><a href="https://developer-old.gnome.org/librygel-server/glib/glib-Doubly-Linked-Lists.html#GList"><span class="returnvalue">GList</span></a> *
rygel_media_engine_get_internal_protocol_schemes
                               (<em class="parameter"><code><a class="link" href="RygelMediaEngine.html" title="RygelMediaEngine"><span class="type">RygelMediaEngine</span></a> *self</code></em>);</pre>
<p>Get a list of URI schemes that are internal to the engine.</p>
<div class="refsect3">
<a name="rygel-media-engine-get-internal-protocol-schemes.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>self</p></td>
<td class="parameter_description"><p>the <a class="link" href="RygelMediaEngine.html" title="RygelMediaEngine"><span class="type">RygelMediaEngine</span></a> instance</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3">
<a name="rygel-media-engine-get-internal-protocol-schemes.returns"></a><h4>Returns</h4>
<p>A list of strings considered protocol schemees </p>
</div>
</div>
<hr></hr>
<div class="refsect2">
<a name="rygel-media-engine-init"></a><h3>rygel_media_engine_init ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
rygel_media_engine_init (<em class="parameter"><code><a href="https://developer-old.gnome.org/librygel-server/glib/glib-Error-Reporting.html#GError"><span class="type">GError</span></a> **error</code></em>);</pre>
<div class="refsect3">
<a name="rygel-media-engine-init.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>error</p></td>
<td class="parameter_description"><p>location to store the error occuring, or <a href="https://developer-old.gnome.org/librygel-server/glib/glib-Standard-Macros.html#NULL:CAPS"><code class="literal">NULL</code></a> to ignore</p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
</div>
<hr></hr>
<div class="refsect2">
<a name="rygel-media-engine-get-default"></a><h3>rygel_media_engine_get_default ()</h3>
<pre class="programlisting"><a class="link" href="RygelMediaEngine.html" title="RygelMediaEngine"><span class="returnvalue">RygelMediaEngine</span></a> *
rygel_media_engine_get_default (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
<p>Get the singleton instance of the currently used media engine.</p>
<div class="refsect3">
<a name="rygel-media-engine-get-default.returns"></a><h4>Returns</h4>
<p>An instance of a concrete <a class="link" href="RygelMediaEngine.html" title="RygelMediaEngine"><span class="type">RygelMediaEngine</span></a> implementation. </p>
</div>
</div>
</div>
<div class="refsect1">
<a name="RygelMediaEngine.other_details"></a><h2>Types and Values</h2>
<div class="refsect2">
<a name="RYGEL-TYPE-MEDIA-ENGINE:CAPS"></a><h3>RYGEL_TYPE_MEDIA_ENGINE</h3>
<pre class="programlisting">#define RYGEL_TYPE_MEDIA_ENGINE (rygel_media_engine_get_type ())
</pre>
<p>The type for <a class="link" href="RygelMediaEngine.html" title="RygelMediaEngine"><span class="type">RygelMediaEngine</span></a>.</p>
</div>
<hr></hr>
<div class="refsect2">
<a name="RygelMediaEngine-struct"></a><h3>struct RygelMediaEngine</h3>
<pre class="programlisting">struct RygelMediaEngine;</pre>
<p>This is the base class for media engines that contain knowledge about the streaming and transformational capabilites of the media library in use.</p>
<p>Media engines express what representations of a MediaObject they can produce by returning MediaResource objects which will, in turn, be used to express to endpoints representations can be streamed from the MediaServer. These representations may include transformations, time-scaled representations, and/or encrypted representations.</p>
<p>See, for instance, Rygel's built-in "gstreamer" and "simple" media engines, or the external rygel-gst-0-10-media-engine module.</p>
<p>The actual media engine used by Rygel at runtime is specified by the media-engine configuration key. For instance, in rygel.conf: media-engine=librygel-media-engine-gst.so</p>
<p>Media engines should also derive their own <a class="link" href="RygelDataSource.html" title="RygelDataSource"><span class="type">RygelDataSource</span></a>, returning an instance of it from <code class="function">create_data_source()</code>.</p>
<p>See the &lt;link linkend="implementing-media-engines"&gt;Implementing Media Engines&lt;/link&gt; section.</p>
</div>
<hr></hr>
<div class="refsect2">
<a name="RygelMediaEngineClass"></a><h3>struct RygelMediaEngineClass</h3>
<pre class="programlisting">struct RygelMediaEngineClass {
	GObjectClass parent_class;
	GList* (*get_dlna_profiles) (RygelMediaEngine* self);
	void (*get_resources_for_item) (RygelMediaEngine* self, RygelMediaObject* item, GAsyncReadyCallback _callback_, gpointer _user_data_);
	GeeList* (*get_resources_for_item_finish) (RygelMediaEngine* self, GAsyncResult* _res_);
	RygelDataSource* (*create_data_source_for_resource) (RygelMediaEngine* self, RygelMediaObject* item, RygelMediaResource* resource, GError** error);
	RygelDataSource* (*create_data_source_for_uri) (RygelMediaEngine* self, const gchar* uri, GError** error);
	GList* (*get_internal_protocol_schemes) (RygelMediaEngine* self);
};
</pre>
<p>The class structure for <a class="link" href="RygelMediaEngine.html#RYGEL-TYPE-MEDIA-ENGINE:CAPS" title="RYGEL_TYPE_MEDIA_ENGINE"><code class="literal">RYGEL_TYPE_MEDIA_ENGINE</code></a>. All the fields in this structure are private and should never be accessed directly.</p>
<div class="refsect3">
<a name="RygelMediaEngineClass.members"></a><h4>Members</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="struct_members_name" width="300px"></col>
<col class="struct_members_description"></col>
<col class="struct_members_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="struct_member_name"><p><em class="structfield"><code><a name="RygelMediaEngineClass.get-dlna-profiles"></a>get_dlna_profiles</code></em> ()</p></td>
<td class="struct_member_description"><p>virtual method called by <a class="link" href="RygelMediaEngine.html#rygel-media-engine-get-dlna-profiles" title="rygel_media_engine_get_dlna_profiles ()"><code class="function">rygel_media_engine_get_dlna_profiles()</code></a></p></td>
<td class="struct_member_annotations"> </td>
</tr>
<tr>
<td class="struct_member_name"><p><em class="structfield"><code><a name="RygelMediaEngineClass.get-resources-for-item"></a>get_resources_for_item</code></em> ()</p></td>
<td class="struct_member_description"><p>virtual method called by <a class="link" href="RygelMediaEngine.html#rygel-media-engine-get-resources-for-item" title="rygel_media_engine_get_resources_for_item ()"><code class="function">rygel_media_engine_get_resources_for_item()</code></a></p></td>
<td class="struct_member_annotations"> </td>
</tr>
<tr>
<td class="struct_member_name"><p><em class="structfield"><code><a name="RygelMediaEngineClass.get-resources-for-item-finish"></a>get_resources_for_item_finish</code></em> ()</p></td>
<td class="struct_member_description"><p>asynchronous finish function for <em class="structfield"><code>get_resources_for_item</code></em>, called by <a class="link" href="RygelMediaEngine.html#rygel-media-engine-get-resources-for-item" title="rygel_media_engine_get_resources_for_item ()"><code class="function">rygel_media_engine_get_resources_for_item()</code></a></p></td>
<td class="struct_member_annotations"> </td>
</tr>
<tr>
<td class="struct_member_name"><p><em class="structfield"><code><a name="RygelMediaEngineClass.create-data-source-for-resource"></a>create_data_source_for_resource</code></em> ()</p></td>
<td class="struct_member_description"><p>virtual method called by <a class="link" href="RygelMediaEngine.html#rygel-media-engine-create-data-source-for-resource" title="rygel_media_engine_create_data_source_for_resource ()"><code class="function">rygel_media_engine_create_data_source_for_resource()</code></a></p></td>
<td class="struct_member_annotations"> </td>
</tr>
<tr>
<td class="struct_member_name"><p><em class="structfield"><code><a name="RygelMediaEngineClass.create-data-source-for-uri"></a>create_data_source_for_uri</code></em> ()</p></td>
<td class="struct_member_description"><p>virtual method called by <a class="link" href="RygelMediaEngine.html#rygel-media-engine-create-data-source-for-uri" title="rygel_media_engine_create_data_source_for_uri ()"><code class="function">rygel_media_engine_create_data_source_for_uri()</code></a></p></td>
<td class="struct_member_annotations"> </td>
</tr>
<tr>
<td class="struct_member_name"><p><em class="structfield"><code><a name="RygelMediaEngineClass.get-internal-protocol-schemes"></a>get_internal_protocol_schemes</code></em> ()</p></td>
<td class="struct_member_description"><p>virtual method called by <a class="link" href="RygelMediaEngine.html#rygel-media-engine-get-internal-protocol-schemes" title="rygel_media_engine_get_internal_protocol_schemes ()"><code class="function">rygel_media_engine_get_internal_protocol_schemes()</code></a></p></td>
<td class="struct_member_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
<hr></hr>
<div class="refsect2">
<a name="RygelMediaEngineError"></a><h3>enum RygelMediaEngineError</h3>
<div class="refsect3">
<a name="RygelMediaEngineError.members"></a><h4>Members</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="enum_members_name" width="300px"></col>
<col class="enum_members_description"></col>
<col class="enum_members_annotations" width="200px"></col>
</colgroup>
<tbody><tr>
<td class="enum_member_name"><p><a name="RYGEL-MEDIA-ENGINE-ERROR-NOT-FOUND:CAPS"></a>RYGEL_MEDIA_ENGINE_ERROR_NOT_FOUND</p></td>
<td> </td>
<td> </td>
</tr></tbody>
</table></div>
</div>
</div>
</div>
<div class="refsect1">
<a name="RygelMediaEngine.signal-details"></a><h2>Signal Details</h2>
<div class="refsect2">
<a name="RygelMediaEngine-resource-changed"></a><h3>The <code class="literal">“resource-changed”</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
user_function (<a class="link" href="RygelMediaEngine.html" title="RygelMediaEngine"><span class="type">RygelMediaEngine</span></a> *media_engine,
               <a href="https://developer-old.gnome.org/librygel-server/glib/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a>            *media_object_uri,
               <a href="https://developer-old.gnome.org/librygel-server/glib/glib-Basic-Types.html#gpointer"><span class="type">gpointer</span></a>          user_data)</pre>
<p>Signaled when one or more <span class="type">MediaResources</span>&lt;!-- --&gt;s associated with a MediaObject changes. <span class="type">get_resources_for_item</span> should be called in response to this signal to retrieve the updated list of MediaResources for the associated MediaObject.</p>
<div class="refsect3">
<a name="RygelMediaEngine-resource-changed.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>media_engine</p></td>
<td class="parameter_description"><p>the <a class="link" href="RygelMediaEngine.html" title="RygelMediaEngine"><span class="type">RygelMediaEngine</span></a> instance that received the signal</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>media_object_uri</p></td>
<td class="parameter_description">
<p> .  </p>
<p>is the uri associated with a MediaObject.= </p>
<p></p>
</td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>user_data</p></td>
<td class="parameter_description"><p>user data set when the signal handler was connected.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<p>Flags: <a href="https://developer-old.gnome.org/librygel-server/gobject/gobject-Signals.html#G-SIGNAL-RUN-LAST:CAPS">Run Last</a></p>
</div>
</div>
</div><div class="footer">
<hr></hr>Generated by GTK-Doc V1.25</div></div><div id="footer_art" class="default"> </div></div><div class="clearfix"></div><div id="footer_grass">   </div><div id="footer"><div class="container_12"><div class="links grid_9"><div class="menu-footer-1-container"><ul id="menu-footer-1" class="menu"><li id="menu-item-88" class="menu-item menu-item-type-custom menu-item-home menu-item-88"><a href="https://www.gnome.org/">The GNOME Project</a><ul class="sub-menu"><li id="menu-item-89" class="menu-item menu-item-type-post_type menu-item-89"><a href="https://www.gnome.org/about/">About Us</a></li><li id="menu-item-90" class="menu-item menu-item-type-custom menu-item-90"><a href="https://www.gnome.org/get-involved/">Get Involved</a></li><li id="menu-item-91" class="menu-item menu-item-type-custom menu-item-91"><a href="https://www.gnome.org/teams/">Teams</a></li><li id="menu-item-92" class="menu-item menu-item-type-custom menu-item-92"><a href="https://foundation.gnome.org">The GNOME Foundation</a></li><li><a href="https://www.gnome.org/support-gnome/">Support GNOME</a></li><li><a href="https://www.gnome.org/contact/">Contact</a></li></ul></li></ul></div><div class="menu-footer-2-container"><ul id="menu-footer-2" class="menu"><li id="menu-item-99" class="menu-item menu-item-type-post_type current-menu-item page_item page-item-20 current_page_item menu-item-99"><a href="RygelMediaEngine.html#">Resources</a><ul class="sub-menu"><li><a href="https://help.gnome.org">Documentation</a></li><li><a href="https://wiki.gnome.org">Wiki</a></li><li><a href="https://mail.gnome.org/mailman/listinfo">Mailing Lists</a></li><li><a href="https://wiki.gnome.org/GnomeIrcChannels">IRC Channels</a></li><li><a href="https://gitlab.gnome.org/">Bug Tracker</a></li><li><a href="https://gitlab.gnome.org/">Development Code</a></li><li><a href="https://wiki.gnome.org/Jhbuild">Build Tool</a></li></ul></li></ul></div><div class="menu-footer-4-container"><ul id="menu-footer-4" class="menu"><li id="menu-item-104" class="menu-item menu-item-type-custom menu-item-104"><a href="http://www.gnome.org/news/">News</a><ul class="sub-menu"><li><a href="https://www.gnome.org/start/stable">Latest Release</a></li><li><a href="https://planet.gnome.org">Planet GNOME</a></li><li><a href="https://news.gnome.org">Development News</a></li><li><a href="https://twitter.com/gnome">Twitter</a></li></ul></li></ul></div></div><div class="links grid_3 right"><div><ul class="menu available_languages"><li><strong>This website is available in many languages</strong><ul class="sub-menu"><li><a href="../../languages.html" title="Switching Language">Switch Language</a></li></ul></li></ul><script type="text/javascript" src="../../js/language.js"></script></div></div><div id="footnotes" class="grid_9">
                Copyright © 2005‒2014 <strong class="gnome_logo">The GNOME Project</strong><br></br><small>Optimised for standards. Hosted by <a href="http://redhat.com">Red Hat</a>.</small></div><div class="clear"></div></div></div><script type="text/javascript">
$(document).ready(function() {
    // Get browser
    $.each($.browser, function(i) {
        $('body').addClass(i);
        return false;
    });

    // Get OS and add it as class to body tag, this then allows forcing some
    // customisation in the CSS rules.
    var match = navigator.userAgent.toLowerCase().match(/(win|mac|linux)/);
    if (match) {
        $('body').addClass(match[0]);
    }
});
</script><script type="text/javascript">
      var _paq = _paq || [];
      _paq.push(['disableCookies']);
      _paq.push(["trackPageView"]);
      _paq.push(["enableLinkTracking"]);

      (function() {
        var u=(("https:" == document.location.protocol) ? "https" : "http") + "://webstats.gnome.org/";
        _paq.push(["setTrackerUrl", u+"piwik.php"]);
        _paq.push(["setSiteId", "6"]);
        var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";
        g.defer=true; g.async=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
      })();
    </script></body></html>
