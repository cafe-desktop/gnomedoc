<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:html="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="text/html; charset=utf-8"></meta><link rel="stylesheet" href="../../skin/gtkdoc.css" type="text/css"></link><link rel="stylesheet" type="text/css" media="all" href="https://static.gnome.org/css/grass-theme-style.css"></link><link rel="stylesheet" type="text/css" media="all" href="../../skin/lgo2010.css"></link><link rel="icon" type="image/png" href="../../skin/gnome-16.png"></link><link rel="SHORTCUT ICON" type="image/png" href="../../skin/gnome-16.png"></link><link rel="search" type="application/opensearchdescription+xml" href="../../gnome-library-search.xml" title="GNOME Library Search"></link><link rel="stylesheet" type="text/css" href="../../skin/jquery.autocomplete.css"></link><script type="text/javascript" src="../../js/jquery.js"></script><script type="text/javascript" src="../../js/jquery.autocomplete.js"></script><title>ModelAbstractSortedList</title><link href="index.html" rel="home" title="Data Model API (libmodel)"></link><link href="ch04.html" rel="up" title="Implementation Helpers"></link><link href="model-ModelSimpleList.html" rel="prev" title="ModelSimpleList"></link><link href="pt01.html" rel="part" title="Part I. API Reference"></link><link href="ch01.html" rel="chapter" title="Base Abstract Types"></link><link href="ch02.html" rel="chapter" title="Simple Value Types"></link><link href="ch03.html" rel="chapter" title="Container Value Types"></link><link href="ch04.html" rel="chapter" title="Implementation Helpers"></link><link rel="stylesheet" type="text/css" media="all" href="../../skin/jquery.autocomplete.css"></link><link rel="stylesheet" type="text/css" media="all" href="../../skin/960_24_col.css"></link><script type="text/javascript" src="../../js/jquery.js"></script><script type="text/javascript" src="https://developer-old.gnome.org/js/jquery.jcarousel.min.js"></script><script type="text/javascript" src="../../js/jquery.autocomplete.js"></script></head><body><div id="accessibility_access"><ul><li><a href="model-ModelAbstractSortedList.html#container">Go to page content</a></li><li><a href="model-ModelAbstractSortedList.html#top_bar">Go to main menu</a></li><li><a href="model-ModelAbstractSortedList.html#s" onclick="$('#s').focus(); return false;">Go to the search field</a></li></ul></div><div id="global_domain_bar"><div class="maxwidth"><div class="tab"><a class="root" href="https://www.gnome.org/">GNOME.org</a></div></div></div><div id="header" class="container_12"><div id="logo" class="grid_3"><a title="Go to home page" href="../../index.html"><img alt="GNOME: The Free Software Desktop Project" src="../../skin/gnome-logo-devcenter.png"></img></a></div><div id="top_bar" class="grid_9"><div class="left"><div class="menu-globalnav-container"><ul id="menu-globalnav" class="menu"><li class="menu-item menu-item-type-post_type menu-item-6"><a href="../../about/index.html">About</a></li><li class="menu-item menu-item-type-post_type menu-item-23"><a href="https://help.gnome.org/users/">Users</a></li><li class="menu-item menu-item-type-post_type menu-item-40"><a href="https://help.gnome.org/admin/">Administrators</a></li><li class="current-menu-item"><a href="https://developer.gnome.org/">Developers</a></li></ul></div></div><div class="right"><form role="search" method="get" id="searchform" action="https://developer-old.gnome.org/symbols/"><div><label class="hidden" for="q">Search:
                        </label><input type="text" value="" name="q" id="s" placeholder="Search"></input></div></form><script type="text/javascript">
$('#s').autocomplete('/symbols/lookup/',
        { minChars:3, matchSubset:1, matchContains:1, cacheLength:10,
          selectOnly:1, rowsLimit:25 });
              </script></div></div></div><div class="clearfix"></div><div id="container" class="gtk-doc"><div class="content"><table cellpadding="2" cellspacing="2" class="navigation" id="top" summary="Navigation header" width="100%">
<tbody><tr valign="middle">
<td><a accesskey="p" href="model-ModelSimpleList.html"><img alt="Prev" border="0" height="24" src="left.png" width="24"></img></a></td>
<td><a accesskey="u" href="ch04.html"><img alt="Up" border="0" height="24" src="up.png" width="24"></img></a></td>
<td><a accesskey="h" href="index.html"><img alt="Home" border="0" height="24" src="home.png" width="24"></img></a></td>
<th align="center" width="100%">Data Model API (libmodel)</th>
<td> </td>
</tr>
<tr><td class="shortcuts" colspan="5">
<a class="shortcut" href="model-ModelAbstractSortedList.html#model-ModelAbstractSortedList.synopsis">Top</a>
                 | 
                <a class="shortcut" href="model-ModelAbstractSortedList.html#model-ModelAbstractSortedList.description">Description</a>
</td></tr>
</tbody></table><div class="refentry" title="ModelAbstractSortedList">
<a name="model-ModelAbstractSortedList"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tbody><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="model-ModelAbstractSortedList.top_of_page"></a>ModelAbstractSortedList</span></h2>
<p>ModelAbstractSortedList — a basis for creating name-based <a class="link" href="model-ModelList.html#ModelList" title="ModelList"><span class="type">ModelList</span></a>
                    implementations</p>
</td>
<td align="right" valign="top"></td>
</tr></tbody></table></div>
<div class="refsynopsisdiv" title="Synopsis">
<a name="model-ModelAbstractSortedList.synopsis"></a><h2>Synopsis</h2>
<pre class="synopsis">                    <a class="link" href="model-ModelAbstractSortedList.html#ModelAbstractSortedList" title="ModelAbstractSortedList">ModelAbstractSortedList</a>;
                    <a class="link" href="model-ModelAbstractSortedList.html#ModelAbstractSortedListClass" title="ModelAbstractSortedListClass">ModelAbstractSortedListClass</a>;
void                <a class="link" href="model-ModelAbstractSortedList.html#model-abstract-sorted-list-merge" title="model_abstract_sorted_list_merge ()">model_abstract_sorted_list_merge</a>    (<a class="link" href="model-ModelAbstractSortedList.html#ModelAbstractSortedList" title="ModelAbstractSortedList">ModelAbstractSortedList</a> *sorted,
                                                         const <a href="../../glib/unstable/glib-Basic-Types.html#gchar">gchar</a> *mode,
                                                         const <a href="../../glib/unstable/glib-Basic-Types.html#gconstpointer">gconstpointer</a> *keys,
                                                         <a href="../../glib/unstable/glib-Basic-Types.html#gulong">gulong</a> n_keys);
</pre>
</div>
<div class="refsect1" title="Description">
<a name="model-ModelAbstractSortedList.description"></a><h2>Description</h2>
<p>
<a class="link" href="model-ModelAbstractSortedList.html#ModelAbstractSortedList" title="ModelAbstractSortedList"><span class="type">ModelAbstractSortedList</span></a> provides a basis for creating <a class="link" href="model-ModelList.html#ModelList" title="ModelList"><span class="type">ModelList</span></a>
implementations where it is easier to view the data set as a
dictionary than a list.  It is an abstract class -- it must be
subclassed to be used.
</p>
<p>
The list is kept in sorted form for efficiency.
</p>
<p>
The canonical example here is a list of files in a directory.  The
interface to the kernel is defined in terms of names -- not positions
in a list.  Operations to update the model are easier performed on
the basis of those names.  This class keeps track of all of the
details for you.
</p>
<p>
There is only one method on this class:
<a class="link" href="model-ModelAbstractSortedList.html#model-abstract-sorted-list-merge" title="model_abstract_sorted_list_merge ()"><code class="function">model_abstract_sorted_list_merge()</code></a>, but it is essential for
subclasses to implement a number of virtual functions as described in
<a class="link" href="model-ModelAbstractSortedList.html#ModelAbstractSortedListClass" title="ModelAbstractSortedListClass"><span class="type">ModelAbstractSortedListClass</span></a>.
</p>
<p>
The <a class="link" href="model-ModelList.html#ModelList" title="ModelList"><span class="type">ModelList</span></a> virtual functions for <a class="link" href="model-ModelList.html#model-list-n-children" title="model_list_n_children ()"><code class="function">model_list_n_children()</code></a> and
<a class="link" href="model-ModelList.html#model-list-get-child" title="model_list_get_child ()"><code class="function">model_list_get_child()</code></a> are implemented by this class.</p>
</div>
<div class="refsect1" title="Details">
<a name="model-ModelAbstractSortedList.details"></a><h2>Details</h2>
<div class="refsect2" title="ModelAbstractSortedList">
<a name="ModelAbstractSortedList"></a><h3>ModelAbstractSortedList</h3>
<pre class="programlisting">typedef struct {
  ModelList parent_instance;
} ModelAbstractSortedList;
</pre>
<p>
This is an opaque structure; it may not be accessed directly.</p>
</div>
<hr></hr>
<div class="refsect2" title="ModelAbstractSortedListClass">
<a name="ModelAbstractSortedListClass"></a><h3>ModelAbstractSortedListClass</h3>
<pre class="programlisting">typedef struct {
  ModelListClass parent_class;

  gint (*compare)     (ModelAbstractSortedList *list,
                       gconstpointer            a,
                       gconstpointer            b);

  void (*warning)     (ModelAbstractSortedList *list,
                       gulong                   index,
                       gconstpointer            key,
                       gchar                    mode,
                       gulong                   current_index,
                       ModelObject             *value);

  void (*create_item) (ModelAbstractSortedList  *list,
                       gulong                    index,
                       gconstpointer             key,
                       gpointer                 *new_key,
                       ModelObject             **new_object);

  void (*free_key)    (ModelAbstractSortedList *list,
                       gpointer                 key);
} ModelAbstractSortedListClass;
</pre>
<p>
The class structure for <a class="link" href="model-ModelAbstractSortedList.html#ModelAbstractSortedList" title="ModelAbstractSortedList"><span class="type">ModelAbstractSortedList</span></a>.  All virtual functions
must be implemented by each subclass.</p>
<div class="variablelist"><table border="0">
<colgroup><col align="left" valign="top"></col>
</colgroup><tbody>
<tr>
<td><p><span class="term"><a class="link" href="model-ModelList.html#ModelListClass" title="ModelListClass">ModelListClass</a> <em class="structfield"><code>parent_class</code></em>;</span></p></td>
<td></td>
</tr>
<tr>
<td><p><span class="term"><em class="structfield"><code>compare</code></em> ()</span></p></td>
<td> Compares two keys.  This function defines the sort order of
          the list.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="structfield"><code>warning</code></em> ()</span></p></td>
<td> This function is called when there is unexpected state
          during a call to <a class="link" href="model-ModelAbstractSortedList.html#model-abstract-sorted-list-merge" title="model_abstract_sorted_list_merge ()"><code class="function">model_abstract_sorted_list_merge()</code></a>.
          <em class="parameter"><code>index</code></em> is the index of the item in the list that was passed
          in to the function.  <em class="parameter"><code>key</code></em> is the key at that index.  <em class="parameter"><code>mode</code></em>
          is the mode specified for that key.  For mode 'I',
          <em class="parameter"><code>current_index</code></em> specifies the current index of the
          already-existing item in the list and <em class="parameter"><code>value</code></em> is the value
          of that item.  For the other two modes, <em class="parameter"><code>current_index</code></em> and
          <em class="parameter"><code>value</code></em> will be 0 and <a href="../../glib/unstable/glib-Standard-Macros.html#NULL--CAPS"><code class="literal">NULL</code></a>, respectively.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="structfield"><code>create_item</code></em> ()</span></p></td>
<td> This function is called to create an item for a given
              key before inserting it into the list during a call to
              <a class="link" href="model-ModelAbstractSortedList.html#model-abstract-sorted-list-merge" title="model_abstract_sorted_list_merge ()"><code class="function">model_abstract_sorted_list_merge()</code></a>.  The function is
              also responsible for allocating the permanent copy of
              the key that will be used by the list.  <em class="parameter"><code>index</code></em> is the
              index of the item in the list that was passed in to the
              function.  <em class="parameter"><code>key</code></em> is the key at that index.  This
              function is responsible for setting the value of
              <em class="parameter"><code>new_key</code></em> and <em class="parameter"><code>new_object</code></em> to the values that will be
              inserted.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="structfield"><code>free_key</code></em> ()</span></p></td>
<td> This function frees a key that was allocated by the
           <em class="parameter"><code>create_item</code></em> function.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr></hr>
<div class="refsect2" title="model_abstract_sorted_list_merge ()">
<a name="model-abstract-sorted-list-merge"></a><h3>model_abstract_sorted_list_merge ()</h3>
<pre class="programlisting">void                model_abstract_sorted_list_merge    (<a class="link" href="model-ModelAbstractSortedList.html#ModelAbstractSortedList" title="ModelAbstractSortedList">ModelAbstractSortedList</a> *sorted,
                                                         const <a href="../../glib/unstable/glib-Basic-Types.html#gchar">gchar</a> *mode,
                                                         const <a href="../../glib/unstable/glib-Basic-Types.html#gconstpointer">gconstpointer</a> *keys,
                                                         <a href="../../glib/unstable/glib-Basic-Types.html#gulong">gulong</a> n_keys);</pre>
<p>
Modifies the list by performing insertions, replacements and
deletions.
</p>
<p>
<em class="parameter"><code>keys</code></em> (of length <em class="parameter"><code>n_keys</code></em>) is an array of pointers to the keys to
insert, replace or delete.  It must be sorted.  <em class="parameter"><code>keys</code></em> is not modified
in any way, and the values in <em class="parameter"><code>keys</code></em> are not used in any way except
for being passed in to the 'compare' and 'create_item' functions
specified in the <a class="link" href="model-ModelAbstractSortedList.html#ModelAbstractSortedListClass" title="ModelAbstractSortedListClass"><span class="type">ModelAbstractSortedListClass</span></a>.
</p>
<p>
<em class="parameter"><code>mode</code></em> is a string.  It must either be a single character in length or
the same length as <em class="parameter"><code>keys</code></em>.  If it is the length of <em class="parameter"><code>keys</code></em> then each
character in <em class="parameter"><code>mode</code></em> corresponds, respectively, with each item in
<em class="parameter"><code>keys</code></em>.  If <em class="parameter"><code>mode</code></em> is a single character, then that character is used
for all of the keys.
</p>
<p>
Each character of <em class="parameter"><code>mode</code></em> may be only 'i', 'I', 'r', 'R', 'd', or 'D'.
The lowercase letters correspond to the operations "insert",
"replace" and "delete".  The uppercase letters correspond to the same
operations, but with warnings issued in case of an unexpected state.
A warning is issued in the case of inserting an item when that item
already exists or replacing or deleting an item when that item does
not exist.  The warnings are issued by calling the warning virtual
function defined in the <a class="link" href="model-ModelAbstractSortedList.html#ModelAbstractSortedListClass" title="ModelAbstractSortedListClass"><span class="type">ModelAbstractSortedListClass</span></a>.</p>
<div class="variablelist"><table border="0">
<colgroup><col align="left" valign="top"></col>
</colgroup><tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>sorted</code></em> :</span></p></td>
<td> a <a class="link" href="model-ModelAbstractSortedList.html#ModelAbstractSortedList" title="ModelAbstractSortedList"><span class="type">ModelAbstractSortedList</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>mode</code></em> :</span></p></td>
<td> the mode string
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>keys</code></em> :</span></p></td>
<td> an array of keys to add or remove
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>n_keys</code></em> :</span></p></td>
<td> the length of <em class="parameter"><code>keys</code></em>
</td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div><div class="footer">
<hr></hr>
          Generated by GTK-Doc V1.11</div></div><div id="footer_art" class="default"> </div></div><div class="clearfix"></div><div id="footer_grass">   </div><div id="footer"><div class="container_12"><div class="links grid_9"><div class="menu-footer-1-container"><ul id="menu-footer-1" class="menu"><li id="menu-item-88" class="menu-item menu-item-type-custom menu-item-home menu-item-88"><a href="https://www.gnome.org/">The GNOME Project</a><ul class="sub-menu"><li id="menu-item-89" class="menu-item menu-item-type-post_type menu-item-89"><a href="https://www.gnome.org/about/">About Us</a></li><li id="menu-item-90" class="menu-item menu-item-type-custom menu-item-90"><a href="https://www.gnome.org/get-involved/">Get Involved</a></li><li id="menu-item-91" class="menu-item menu-item-type-custom menu-item-91"><a href="https://www.gnome.org/teams/">Teams</a></li><li id="menu-item-92" class="menu-item menu-item-type-custom menu-item-92"><a href="https://foundation.gnome.org">The GNOME Foundation</a></li><li><a href="https://www.gnome.org/support-gnome/">Support GNOME</a></li><li><a href="https://www.gnome.org/contact/">Contact</a></li></ul></li></ul></div><div class="menu-footer-2-container"><ul id="menu-footer-2" class="menu"><li id="menu-item-99" class="menu-item menu-item-type-post_type current-menu-item page_item page-item-20 current_page_item menu-item-99"><a href="model-ModelAbstractSortedList.html#">Resources</a><ul class="sub-menu"><li><a href="https://help.gnome.org">Documentation</a></li><li><a href="https://wiki.gnome.org">Wiki</a></li><li><a href="https://mail.gnome.org/mailman/listinfo">Mailing Lists</a></li><li><a href="https://wiki.gnome.org/GnomeIrcChannels">IRC Channels</a></li><li><a href="https://gitlab.gnome.org/">Bug Tracker</a></li><li><a href="https://gitlab.gnome.org/">Development Code</a></li><li><a href="https://wiki.gnome.org/Jhbuild">Build Tool</a></li></ul></li></ul></div><div class="menu-footer-4-container"><ul id="menu-footer-4" class="menu"><li id="menu-item-104" class="menu-item menu-item-type-custom menu-item-104"><a href="http://www.gnome.org/news/">News</a><ul class="sub-menu"><li><a href="https://www.gnome.org/start/stable">Latest Release</a></li><li><a href="https://planet.gnome.org">Planet GNOME</a></li><li><a href="https://news.gnome.org">Development News</a></li><li><a href="https://twitter.com/gnome">Twitter</a></li></ul></li></ul></div></div><div class="links grid_3 right"><div><ul class="menu available_languages"><li><strong>This website is available in many languages</strong><ul class="sub-menu"><li><a href="../../languages.html" title="Switching Language">Switch Language</a></li></ul></li></ul><script type="text/javascript" src="../../js/language.js"></script></div></div><div id="footnotes" class="grid_9">
                Copyright © 2005‒2014 <strong class="gnome_logo">The GNOME Project</strong><br></br><small>Optimised for standards. Hosted by <a href="http://redhat.com">Red Hat</a>.</small></div><div class="clear"></div></div></div><script type="text/javascript">
$(document).ready(function() {
    // Get browser
    $.each($.browser, function(i) {
        $('body').addClass(i);
        return false;
    });

    // Get OS and add it as class to body tag, this then allows forcing some
    // customisation in the CSS rules.
    var match = navigator.userAgent.toLowerCase().match(/(win|mac|linux)/);
    if (match) {
        $('body').addClass(match[0]);
    }
});
</script><script type="text/javascript">
      var _paq = _paq || [];
      _paq.push(['disableCookies']);
      _paq.push(["trackPageView"]);
      _paq.push(["enableLinkTracking"]);

      (function() {
        var u=(("https:" == document.location.protocol) ? "https" : "http") + "://webstats.gnome.org/";
        _paq.push(["setTrackerUrl", u+"piwik.php"]);
        _paq.push(["setSiteId", "6"]);
        var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";
        g.defer=true; g.async=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
      })();
    </script></body></html>
