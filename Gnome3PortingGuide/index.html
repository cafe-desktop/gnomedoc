<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:html="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="text/html; charset=utf-8"></meta><link rel="stylesheet" type="text/css" media="all" href="https://static.gnome.org/css/grass-theme-style.css"></link><link rel="stylesheet" type="text/css" media="all" href="../skin/lgo2010.css"></link><link rel="icon" type="image/png" href="../skin/gnome-16.png"></link><link rel="SHORTCUT ICON" type="image/png" href="../skin/gnome-16.png"></link><link rel="search" type="application/opensearchdescription+xml" href="../gnome-library-search.xml" title="GNOME Library Search"></link><link rel="stylesheet" href="../skin/moinmoin.css" type="text/css"></link><title>DevGnomeOrg/Gnome3PortingGuide - GNOME Wiki!</title><link href="https://wiki.gnome.org/action/rss_rc/DevGnomeOrg/Gnome3PortingGuide?diffs=1&amp;show_att=1&amp;action=rss_rc&amp;unique=0&amp;page=DevGnomeOrg%2FGnome3PortingGuide&amp;ddiffs=1" rel="alternate" title="GNOME Wiki!: DevGnomeOrg/Gnome3PortingGuide" type="application/rss+xml"></link><link href="https://wiki.gnome.org/Home" rel="Start"></link><link href="https://wiki.gnome.org/action/raw/DevGnomeOrg/Gnome3PortingGuide?action=raw" rel="Alternate" title="Wiki Markup"></link><link href="https://wiki.gnome.org/action/print/DevGnomeOrg/Gnome3PortingGuide?action=print" media="print" rel="Alternate" title="Print View"></link><link href="https://wiki.gnome.org/DevGnomeOrg" rel="Up"></link><link href="https://wiki.gnome.org/FindPage" rel="Search"></link><link href="https://wiki.gnome.org/TitleIndex" rel="Index"></link><link href="https://wiki.gnome.org/WordIndex" rel="Glossary"></link><link href="https://wiki.gnome.org/HelpOnFormatting" rel="Help"></link><link rel="stylesheet" type="text/css" media="all" href="../skin/jquery.autocomplete.css"></link><link rel="stylesheet" type="text/css" media="all" href="../skin/960_24_col.css"></link><script type="text/javascript" src="../js/jquery.js"></script><script type="text/javascript" src="https://developer-old.gnome.org/js/jquery.jcarousel.min.js"></script><script type="text/javascript" src="../js/jquery.autocomplete.js"></script></head><body><div id="accessibility_access"><ul><li><a href="index.html#container">Go to page content</a></li><li><a href="index.html#top_bar">Go to main menu</a></li><li><a href="index.html#s" onclick="$('#s').focus(); return false;">Go to the search field</a></li></ul></div><div id="global_domain_bar"><div class="maxwidth"><div class="tab"><a class="root" href="https://www.gnome.org/">GNOME.org</a></div></div></div><div id="header" class="container_12"><div id="logo" class="grid_3"><a title="Go to home page" href="../index.html"><img alt="GNOME: The Free Software Desktop Project" src="../skin/gnome-logo-devcenter.png"></img></a></div><div id="top_bar" class="grid_9"><div class="left"><div class="menu-globalnav-container"><ul id="menu-globalnav" class="menu"><li class="menu-item menu-item-type-post_type menu-item-6"><a href="../about/index.html">About</a></li><li class="menu-item menu-item-type-post_type menu-item-23"><a href="https://help.gnome.org/users/">Users</a></li><li class="menu-item menu-item-type-post_type menu-item-40"><a href="https://help.gnome.org/admin/">Administrators</a></li><li class="current-menu-item"><a href="https://developer.gnome.org/">Developers</a></li></ul></div></div><div class="right"><form role="search" method="get" id="searchform" action="https://developer-old.gnome.org/search"><div><label class="hidden" for="q">Search:
                        </label><input type="text" value="" name="q" id="s" placeholder="Search"></input></div></form></div></div></div><div class="clearfix"></div><div id="container" class="content-id"><div class="content"><div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><p class="line867">
</p><h1 id="Port_your_application_from_GNOME_2_to_GNOME_3">Port your application from GNOME 2 to GNOME 3</h1>
<span class="anchor" id="line-4"></span><p class="line867"></p><div class="table-of-contents"><p class="table-of-contents-heading">Contents</p><ol><li>
<a href="index.html#Port_your_application_from_GNOME_2_to_GNOME_3">Port your application from GNOME 2 to GNOME 3</a><ol><li>
<a href="index.html#Essential">Essential</a></li><li>
<a href="index.html#Additional_steps">Additional steps</a></li></ol></li></ol></div> <span class="anchor" id="line-5"></span><span class="anchor" id="line-6"></span><p class="line874">GNOME's developer technologies have been dramatically improved for version 3.0, making them faster, easier to use, and delivering enhanced user experiences. If you are responsible for an application which makes use of GNOME's developer technologies, it is recommended that you port to GNOME 3 in order to take advantage of these improvements. <span class="anchor" id="line-7"></span><span class="anchor" id="line-8"></span></p><p class="line874">The following guide is a checklist of the steps required to port a piece of GNOME 2 software to version 3. <span class="anchor" id="line-9"></span><span class="anchor" id="line-10"></span></p><p class="line867">
</p><h2 id="Essential">Essential</h2>
<span class="anchor" id="line-11"></span><span class="anchor" id="line-12"></span><p class="line874">The following procedures are essential parts of the porting process: <span class="anchor" id="line-13"></span><span class="anchor" id="line-14"></span></p><ul><li>Do not use deprecated libraries: <span class="anchor" id="line-15"></span><ul><li><p class="line862">libglade: use <a class="https" href="https://developer.gnome.org/gtk3/stable/GtkBuilder.html">GtkBuilder</a> instead. <span class="anchor" id="line-16"></span></p><ul><li><p class="line891"><a class="https" href="https://developer.gnome.org/gtk2/stable/gtk-migrating-GtkBuilder.html">Migration guide</a> <span class="anchor" id="line-17"></span></p></li><li><p class="line891"><a href="https://wiki.gnome.org/Initiatives/GnomeGoals/RemoveLibGladeUseGtkBuilder">GNOME Goal</a> <span class="anchor" id="line-18"></span></p></li></ul></li><li>libgnome, libgnomeui: use GTK+ features directly instead. <span class="anchor" id="line-19"></span><ul><li><p class="line891"><a href="https://wiki.gnome.org/Attic/LibgnomeMustDie">List of replacements</a> <span class="anchor" id="line-20"></span></p></li></ul></li><li>libsexy: use GTK+ features directly instead. <span class="anchor" id="line-21"></span><ul><li><p class="line862">Migration guide for <a class="https" href="https://developer.gnome.org/gtk2/stable/gtk-migrating-entry-icons.html">SexyIconEntry</a> and <a class="https" href="https://developer.gnome.org/gtk2/stable/gtk-migrating-label-links.html">SexyUrlLabel</a> <span class="anchor" id="line-22"></span></p></li><li><p class="line891"><a href="https://wiki.gnome.org/Initiatives/GnomeGoals/DropLibsexy">GNOME Goal</a> <span class="anchor" id="line-23"></span></p></li></ul></li><li>gnome-vfs: use GIO instead. <span class="anchor" id="line-24"></span><ul><li><p class="line891"><a class="https" href="https://developer.gnome.org/gio/stable/migrating.html">migration guide</a> <span class="anchor" id="line-25"></span></p></li><li><p class="line891"><a href="https://wiki.gnome.org/Initiatives/GnomeGoals/GioPort">GNOME Goal</a> <span class="anchor" id="line-26"></span></p></li></ul></li><li><p class="line862">Bonobo: use GTK+ features and <a class="https" href="https://developer.gnome.org/gio/stable/gdbus-convenience.html">GDBus</a> (see below). <span class="anchor" id="line-27"></span><span class="anchor" id="line-28"></span></p></li></ul></li><li class="gap">Make your GTK+ 2 application GTK+ 3 compliant: <span class="anchor" id="line-29"></span><ul><li><p class="line862">Only use <em>toplevel</em> Glib / GTK+ headers: <span class="anchor" id="line-30"></span></p><ul><li><p class="line891"><a href="https://wiki.gnome.org/Initiatives/GnomeGoals/CleanupGTKIncludes">GNOME Goal</a> <span class="anchor" id="line-31"></span></p></li></ul></li><li>Do not use deprecated GLib / GTK+ symbols: <span class="anchor" id="line-32"></span><ul><li><p class="line891"><a class="https" href="https://developer.gnome.org/gtk3/stable/migrating.html">Guides to migrate to the new APIs</a> <span class="anchor" id="line-33"></span></p></li><li><p class="line891"><a href="https://wiki.gnome.org/Initiatives/GnomeGoals/RemoveDeprecatedSymbols/Glib">GNOME Goal for GLib</a> <span class="anchor" id="line-34"></span></p></li><li><p class="line891"><a href="https://wiki.gnome.org/Initiatives/GnomeGoals/RemoveDeprecatedSymbols/GTK%2B">GNOME Goal for GTK+</a> <span class="anchor" id="line-35"></span></p></li></ul></li><li>Compile your app with -DGSEAL_ENABLE: <span class="anchor" id="line-36"></span><ul><li><p class="line891"><a href="https://wiki.gnome.org/Initiatives/GnomeGoals/UseGseal">GNOME Goal</a> <span class="anchor" id="line-37"></span></p></li></ul></li><li>Use Cairo instead deprecated GDK api: <span class="anchor" id="line-38"></span><ul><li><p class="line891"><a href="https://wiki.gnome.org/Initiatives/GnomeGoals/GDKtoCairo">GNOME Goal</a> <span class="anchor" id="line-39"></span></p></li></ul></li></ul></li><li><p class="line862">Port your GTK+ 2 application to GTK+ 3: <a class="https" href="https://developer.gnome.org/gtk3/stable/gtk-migrating-2-to-3.html">migration guide</a> <span class="anchor" id="line-40"></span></p></li><li><p class="line862">Fix your .desktop file: <a href="https://wiki.gnome.org/Initiatives/GnomeGoals/CorrectDesktopFiles">GNOME Goal</a> <span class="anchor" id="line-41"></span></p></li><li><p class="line862">Use <a href="https://wiki.gnome.org/Design/OS/SymbolicIcons">-symbolic icons</a> in the cases specified in the <a class="https" href="https://developer.gnome.org/hig/stable/icons-and-artwork.html.en">GNOME HIG</a>. More information: <span class="anchor" id="line-42"></span></p><ul><li><p class="line891"><a class="http" href="http://www.hadess.net/2010/04/symbolic-icons-support-in-gtk.html">Symbolic icon migration guide</a> <span class="anchor" id="line-43"></span></p></li><li><p class="line891"><a class="interwiki" href="http://bugzilla.gnome.org/show_bug.cgi?id=613717" title="GnomeBug">An example patch</a> <span class="anchor" id="line-44"></span></p></li></ul></li><li>Include a high-resolution application icon. Sizes covered should include 16x16, 22x22 (24x24), 32x32, 48x48 and 256x256. <span class="anchor" id="line-45"></span><ul><li><p class="line862">See the <a href="https://wiki.gnome.org/DraftSpecs/ThemableAppSpecificIcons">installation instructions</a> and <a class="http" href="http://tango.freedesktop.org/Tango_Icon_Theme_Guidelines">style guide</a>. <span class="anchor" id="line-46"></span></p></li><li><p class="line891"><a href="https://wiki.gnome.org/Initiatives/GnomeGoals/HighResolutionAppIcons">GNOME Goal</a> <span class="anchor" id="line-47"></span></p></li></ul></li><li><p class="line862">If your application reads proxy configuration from GConf (such as the keys under /system/proxy), you will need to update your code to look at the new DConf proxy keys.  See <a href="https://wiki.gnome.org/DevGnomeOrg/Gnome3PortingGuide/ProxyConfiguration">DevGnomeOrg/Gnome3PortingGuide/ProxyConfiguration</a>. <span class="anchor" id="line-48"></span><span class="anchor" id="line-49"></span></p></li></ul><p class="line867">
</p><h2 id="Additional_steps">Additional steps</h2>
<span class="anchor" id="line-50"></span><span class="anchor" id="line-51"></span><p class="line874">While these are not essential, the following steps are advised. They will prevent you from having to do further porting work in the future, and will enable you to take advantage of the full range of the improvements in GNOME 3. <span class="anchor" id="line-52"></span><span class="anchor" id="line-53"></span></p><ul><li><p class="line862">Port your application to <a class="https" href="https://developer.gnome.org/gtk3/stable/GtkApplication.html">GtkApplication</a>, particularly if you are using <a href="https://wiki.gnome.org/Attic/LibUnique">libunique</a>. <span class="anchor" id="line-54"></span></p></li><li><p class="line862">Use <a class="https" href="https://developer.gnome.org/gio/stable/GSettings.html">GSettings</a> instead of GConf. <span class="anchor" id="line-55"></span></p><ul><li><p class="line891"><a class="https" href="https://developer.gnome.org/gio/stable/migrating.html">Migration guide</a> <span class="anchor" id="line-56"></span></p></li><li><p class="line891"><a href="https://wiki.gnome.org/Initiatives/GnomeGoals/GSettingsMigration">GNOME Goal</a> <span class="anchor" id="line-57"></span></p></li></ul></li><li><p class="line862">Use <a class="https" href="https://developer.gnome.org/gio/stable/gdbus-convenience.html">GDBus</a> instead of dbus-glib. <span class="anchor" id="line-58"></span></p><ul><li><p class="line891"><a class="https" href="https://developer.gnome.org/gio/stable/migrating.html">Migration guide</a> <span class="anchor" id="line-59"></span></p></li></ul></li><li><p class="line862">Port your documentation to the new <a class="http" href="http://projectmallard.org/">Mallard format</a>. <span class="anchor" id="line-60"></span></p></li><li><p class="line862">Add <a href="https://wiki.gnome.org/Projects/GObjectIntrospection">GObject Introspection</a> support to your library. <span class="anchor" id="line-61"></span></p><ul><li><p class="line891"><a href="https://wiki.gnome.org/Initiatives/GnomeGoals/AddGObjectIntrospectionSupport">GNOME Goal</a> <span class="anchor" id="line-62"></span></p></li></ul></li><li><p class="line862">Use the correct icon names: <a href="https://wiki.gnome.org/Initiatives/GnomeGoals/CorrectIconNames">GNOME Goal</a>. <span class="anchor" id="line-63"></span></p></li><li><p class="line862">If you use Python, move to the new introspection-based <a href="https://wiki.gnome.org/Projects/PyGObject">PyGObject</a> bindings. <span class="anchor" id="line-64"></span></p><ul><li><p class="line891"><a href="https://wiki.gnome.org/Initiatives/GnomeGoals/PythonIntrospectionPorting">GNOME Goal</a> <span class="anchor" id="line-65"></span></p></li></ul></li><li><p class="line862">Use the <a class="http" href="http://standards.freedesktop.org/basedir-spec/latest/ar01s03.html">XDG Base Directory Specification</a>. <span class="anchor" id="line-66"></span></p><ul><li><p class="line891"><a href="https://wiki.gnome.org/Initiatives/GnomeGoals/XDGConfigFolders">GNOME Goal</a> <span class="anchor" id="line-67"></span></p></li></ul></li><li><p class="line862">If your module installs a panel applet, write a <a href="https://wiki.gnome.org/Projects/GnomeShell">gnome-shell</a> extension instead. <span class="anchor" id="line-68"></span><span class="anchor" id="line-69"></span></p></li></ul><p class="line862">All the content of this page is under <a class="http" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0 License</a>  <img alt="http://i.creativecommons.org/l/by/3.0/88x31.png" class="external_image" src="http://i.creativecommons.org/l/by/3.0/88x31.png" title="http://i.creativecommons.org/l/by/3.0/88x31.png"></img> <span class="anchor" id="line-70"></span><span class="anchor" id="bottom"></span></p></div></div><div id="footer_art" class="default"> </div></div><div class="clearfix"></div><div id="footer_grass">   </div><div id="footer"><div class="container_12"><div class="links grid_9"><div class="menu-footer-1-container"><ul id="menu-footer-1" class="menu"><li id="menu-item-88" class="menu-item menu-item-type-custom menu-item-home menu-item-88"><a href="https://www.gnome.org/">The GNOME Project</a><ul class="sub-menu"><li id="menu-item-89" class="menu-item menu-item-type-post_type menu-item-89"><a href="https://www.gnome.org/about/">About Us</a></li><li id="menu-item-90" class="menu-item menu-item-type-custom menu-item-90"><a href="https://www.gnome.org/get-involved/">Get Involved</a></li><li id="menu-item-91" class="menu-item menu-item-type-custom menu-item-91"><a href="https://www.gnome.org/teams/">Teams</a></li><li id="menu-item-92" class="menu-item menu-item-type-custom menu-item-92"><a href="https://foundation.gnome.org">The GNOME Foundation</a></li><li><a href="https://www.gnome.org/support-gnome/">Support GNOME</a></li><li><a href="https://www.gnome.org/contact/">Contact</a></li></ul></li></ul></div><div class="menu-footer-2-container"><ul id="menu-footer-2" class="menu"><li id="menu-item-99" class="menu-item menu-item-type-post_type current-menu-item page_item page-item-20 current_page_item menu-item-99"><a href="index.html#">Resources</a><ul class="sub-menu"><li><a href="https://help.gnome.org">Documentation</a></li><li><a href="https://wiki.gnome.org">Wiki</a></li><li><a href="https://mail.gnome.org/mailman/listinfo">Mailing Lists</a></li><li><a href="https://wiki.gnome.org/GnomeIrcChannels">IRC Channels</a></li><li><a href="https://gitlab.gnome.org/">Bug Tracker</a></li><li><a href="https://gitlab.gnome.org/">Development Code</a></li><li><a href="https://wiki.gnome.org/Jhbuild">Build Tool</a></li></ul></li></ul></div><div class="menu-footer-4-container"><ul id="menu-footer-4" class="menu"><li id="menu-item-104" class="menu-item menu-item-type-custom menu-item-104"><a href="http://www.gnome.org/news/">News</a><ul class="sub-menu"><li><a href="https://www.gnome.org/start/stable">Latest Release</a></li><li><a href="https://planet.gnome.org">Planet GNOME</a></li><li><a href="https://news.gnome.org">Development News</a></li><li><a href="https://twitter.com/gnome">Twitter</a></li></ul></li></ul></div></div><div class="links grid_3 right"><div><ul class="menu available_languages"><li><strong>This website is available in many languages</strong><ul class="sub-menu"><li><a href="../languages.html" title="Switching Language">Switch Language</a></li></ul></li></ul><script type="text/javascript" src="../js/language.js"></script></div></div><div id="footnotes" class="grid_9">
                Copyright © 2005‒2014 <strong class="gnome_logo">The GNOME Project</strong><br></br><small>Optimised for standards. Hosted by <a href="http://redhat.com">Red Hat</a>.</small></div><div class="clear"></div></div></div><script type="text/javascript">
$(document).ready(function() {
    // Get browser
    $.each($.browser, function(i) {
        $('body').addClass(i);
        return false;
    });

    // Get OS and add it as class to body tag, this then allows forcing some
    // customisation in the CSS rules.
    var match = navigator.userAgent.toLowerCase().match(/(win|mac|linux)/);
    if (match) {
        $('body').addClass(match[0]);
    }
});
</script><script type="text/javascript">
      var _paq = _paq || [];
      _paq.push(['disableCookies']);
      _paq.push(["trackPageView"]);
      _paq.push(["enableLinkTracking"]);

      (function() {
        var u=(("https:" == document.location.protocol) ? "https" : "http") + "://webstats.gnome.org/";
        _paq.push(["setTrackerUrl", u+"piwik.php"]);
        _paq.push(["setSiteId", "6"]);
        var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";
        g.defer=true; g.async=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
      })();
    </script></body></html>
