<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:html="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="text/html; charset=utf-8"></meta><link rel="stylesheet" href="../../skin/gtkdoc.css" type="text/css"></link><link rel="stylesheet" type="text/css" media="all" href="https://static.gnome.org/css/grass-theme-style.css"></link><link rel="stylesheet" type="text/css" media="all" href="../../skin/lgo2010.css"></link><link rel="icon" type="image/png" href="../../skin/gnome-16.png"></link><link rel="SHORTCUT ICON" type="image/png" href="../../skin/gnome-16.png"></link><link rel="search" type="application/opensearchdescription+xml" href="../../gnome-library-search.xml" title="GNOME Library Search"></link><link rel="stylesheet" type="text/css" href="../../skin/jquery.autocomplete.css"></link><script type="text/javascript" src="../../js/jquery.js"></script><script type="text/javascript" src="../../js/jquery.autocomplete.js"></script><title>GtkDragSource: GTK 4 Reference Manual</title><link href="index.html" rel="home" title="GTK 4 Reference Manual"></link><link href="ch37.html" rel="up" title="Data exchange, clipboards and Drag-and-Drop"></link><link href="ch37.html" rel="prev" title="Data exchange, clipboards and Drag-and-Drop"></link><link href="GtkDragIcon.html" rel="next" title="GtkDragIcon"></link><link rel="stylesheet" type="text/css" media="all" href="../../skin/jquery.autocomplete.css"></link><link rel="stylesheet" type="text/css" media="all" href="../../skin/960_24_col.css"></link><script type="text/javascript" src="../../js/jquery.js"></script><script type="text/javascript" src="https://developer-old.gnome.org/js/jquery.jcarousel.min.js"></script><script type="text/javascript" src="../../js/jquery.autocomplete.js"></script></head><body><div id="accessibility_access"><ul><li><a href="GtkDragSource.html#container">Go to page content</a></li><li><a href="GtkDragSource.html#top_bar">Go to main menu</a></li><li><a href="GtkDragSource.html#s" onclick="$('#s').focus(); return false;">Go to the search field</a></li></ul></div><div id="global_domain_bar"><div class="maxwidth"><div class="tab"><a class="root" href="https://www.gnome.org/">GNOME.org</a></div></div></div><div id="header" class="container_12"><div id="logo" class="grid_3"><a title="Go to home page" href="../../index.html"><img alt="GNOME: The Free Software Desktop Project" src="../../skin/gnome-logo-devcenter.png"></img></a></div><div id="top_bar" class="grid_9"><div class="left"><div class="menu-globalnav-container"><ul id="menu-globalnav" class="menu"><li class="menu-item menu-item-type-post_type menu-item-6"><a href="../../about/index.html">About</a></li><li class="menu-item menu-item-type-post_type menu-item-23"><a href="https://help.gnome.org/users/">Users</a></li><li class="menu-item menu-item-type-post_type menu-item-40"><a href="https://help.gnome.org/admin/">Administrators</a></li><li class="current-menu-item"><a href="https://developer.gnome.org/">Developers</a></li></ul></div></div><div class="right"><form role="search" method="get" id="searchform" action="https://developer-old.gnome.org/symbols/"><div><label class="hidden" for="q">Search:
                        </label><input type="text" value="" name="q" id="s" placeholder="Search"></input></div></form><script type="text/javascript">
$('#s').autocomplete('/symbols/lookup/',
        { minChars:3, matchSubset:1, matchContains:1, cacheLength:10,
          selectOnly:1, rowsLimit:25 });
              </script></div></div></div><div class="clearfix"></div><div id="container" class="gtk-doc"><div class="content"><table cellpadding="2" cellspacing="5" class="navigation" id="top" summary="Navigation header" width="100%"><tbody><tr valign="middle">
<td align="left" class="shortcuts" width="100%">
<a class="shortcut" href="GtkDragSource.html#">Top</a><span id="nav_description">  <span class="dim">|</span> 
                  <a class="shortcut" href="GtkDragSource.html#GtkDragSource.description">Description</a></span><span id="nav_hierarchy">  <span class="dim">|</span> 
                  <a class="shortcut" href="GtkDragSource.html#GtkDragSource.object-hierarchy">Object Hierarchy</a></span><span id="nav_properties">  <span class="dim">|</span> 
                  <a class="shortcut" href="GtkDragSource.html#GtkDragSource.properties">Properties</a></span><span id="nav_signals">  <span class="dim">|</span> 
                  <a class="shortcut" href="GtkDragSource.html#GtkDragSource.signals">Signals</a></span>
</td>
<td><a accesskey="h" href="index.html"><img alt="Home" border="0" height="16" src="home.png" width="16"></img></a></td>
<td><a accesskey="u" href="ch37.html"><img alt="Up" border="0" height="16" src="up.png" width="16"></img></a></td>
<td><a accesskey="p" href="ch37.html"><img alt="Prev" border="0" height="16" src="left.png" width="16"></img></a></td>
<td><a accesskey="n" href="GtkDragIcon.html"><img alt="Next" border="0" height="16" src="right.png" width="16"></img></a></td>
</tr></tbody></table><div class="refentry">
<a name="GtkDragSource"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tbody><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="GtkDragSource.top_of_page"></a>GtkDragSource</span></h2>
<p>GtkDragSource — Event controller to initiate DND operations</p>
</td>
<td align="right" class="gallery_image" valign="top"></td>
</tr></tbody></table></div>
<div class="refsect1">
<a name="GtkDragSource.functions"></a><h2>Functions</h2>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="functions_proto_type" width="150px"></col>
<col class="functions_proto_name"></col>
</colgroup>
<tbody>
<tr>
<td class="function_type">
<a href="GtkDragSource.html#GtkDragSource-struct"><span class="returnvalue">GtkDragSource</span></a> *
</td>
<td class="function_name">
<a href="GtkDragSource.html#gtk-drag-source-new">gtk_drag_source_new</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a href="GtkDragSource.html#gtk-drag-source-set-content">gtk_drag_source_set_content</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="https://developer-old.gnome.org/gtk4/html/GdkContentProvider.html#GdkContentProvider-struct"><span class="returnvalue">GdkContentProvider</span></a> *
</td>
<td class="function_name">
<a href="GtkDragSource.html#gtk-drag-source-get-content">gtk_drag_source_get_content</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a href="GtkDragSource.html#gtk-drag-source-set-actions">gtk_drag_source_set_actions</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="https://developer-old.gnome.org/gtk4/html/gdk4-Drag-and-Drop.html#GdkDragAction"><span class="returnvalue">GdkDragAction</span></a>
</td>
<td class="function_name">
<a href="GtkDragSource.html#gtk-drag-source-get-actions">gtk_drag_source_get_actions</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a href="GtkDragSource.html#gtk-drag-source-set-icon">gtk_drag_source_set_icon</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a href="GtkDragSource.html#gtk-drag-source-drag-cancel">gtk_drag_source_drag_cancel</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="https://developer-old.gnome.org/gtk4/html/gdk4-Drag-and-Drop.html#GdkDrag-struct"><span class="returnvalue">GdkDrag</span></a> *
</td>
<td class="function_name">
<a href="GtkDragSource.html#gtk-drag-source-get-drag">gtk_drag_source_get_drag</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">gboolean</span>
</td>
<td class="function_name">
<a href="GtkDragSource.html#gtk-drag-check-threshold">gtk_drag_check_threshold</a> <span class="c_punctuation">()</span>
</td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1">
<a name="GtkDragSource.properties"></a><h2>Properties</h2>
<div class="informaltable"><table border="0" class="informaltable">
<colgroup>
<col class="properties_type" width="150px"></col>
<col class="properties_name" width="300px"></col>
<col class="properties_flags" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="property_type"><a href="https://developer-old.gnome.org/gtk4/html/gdk4-Drag-and-Drop.html#GdkDragAction"><span class="type">GdkDragAction</span></a></td>
<td class="property_name"><a href="GtkDragSource.html#GtkDragSource--actions">actions</a></td>
<td class="property_flags">Read / Write</td>
</tr>
<tr>
<td class="property_type">
<a href="https://developer-old.gnome.org/gtk4/html/GdkContentProvider.html#GdkContentProvider-struct"><span class="type">GdkContentProvider</span></a> *</td>
<td class="property_name"><a href="GtkDragSource.html#GtkDragSource--content">content</a></td>
<td class="property_flags">Read / Write</td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1">
<a name="GtkDragSource.signals"></a><h2>Signals</h2>
<div class="informaltable"><table border="0" class="informaltable">
<colgroup>
<col class="signal_proto_type" width="150px"></col>
<col class="signal_proto_name" width="300px"></col>
<col class="signal_proto_flags" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="signal_type"><span class="returnvalue">void</span></td>
<td class="signal_name"><a href="GtkDragSource.html#GtkDragSource-drag-begin">drag-begin</a></td>
<td class="signal_flags">Run Last</td>
</tr>
<tr>
<td class="signal_type"><span class="returnvalue">gboolean</span></td>
<td class="signal_name"><a href="GtkDragSource.html#GtkDragSource-drag-cancel">drag-cancel</a></td>
<td class="signal_flags">Run Last</td>
</tr>
<tr>
<td class="signal_type"><span class="returnvalue">void</span></td>
<td class="signal_name"><a href="GtkDragSource.html#GtkDragSource-drag-end">drag-end</a></td>
<td class="signal_flags">Run Last</td>
</tr>
<tr>
<td class="signal_type">
<a href="https://developer-old.gnome.org/gtk4/html/GdkContentProvider.html#GdkContentProvider-struct"><span class="returnvalue">GdkContentProvider</span></a>*</td>
<td class="signal_name"><a href="GtkDragSource.html#GtkDragSource-prepare">prepare</a></td>
<td class="signal_flags">Run Last</td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1">
<a name="GtkDragSource.other"></a><h2>Types and Values</h2>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="other_proto_type" width="150px"></col>
<col class="other_proto_name"></col>
</colgroup>
<tbody><tr>
<td class="datatype_keyword"> </td>
<td class="function_name"><a href="GtkDragSource.html#GtkDragSource-struct">GtkDragSource</a></td>
</tr></tbody>
</table></div>
</div>
<div class="refsect1">
<a name="GtkDragSource.object-hierarchy"></a><h2>Object Hierarchy</h2>
<pre class="screen">    GObject
    <span class="lineart">╰──</span> <a href="GtkEventController.html#GtkEventController-struct">GtkEventController</a>
        <span class="lineart">╰──</span> <a href="GtkGesture.html#GtkGesture-struct">GtkGesture</a>
            <span class="lineart">╰──</span> <a href="GtkGestureSingle.html#GtkGestureSingle-struct">GtkGestureSingle</a>
                <span class="lineart">╰──</span> GtkDragSource
</pre>
</div>
<div class="refsect1">
<a name="GtkDragSource.includes"></a><h2>Includes</h2>
<pre class="synopsis">#include &lt;gtk/gtk.h&gt;
</pre>
</div>
<div class="refsect1">
<a name="GtkDragSource.description"></a><h2>Description</h2>
<p>GtkDragSource is an auxiliary object that is used to initiate
Drag-And-Drop operations. It can be set up with the necessary
ingredients for a DND operation ahead of time. This includes
the source for the data that is being transferred, in the form
of a <a href="https://developer-old.gnome.org/gtk4/html/GdkContentProvider.html#GdkContentProvider-struct"><span class="type">GdkContentProvider</span></a>, the desired action, and the icon to
use during the drag operation. After setting it up, the drag
source must be added to a widget as an event controller, using
<a href="GtkWidget.html#gtk-widget-add-controller"><code class="function">gtk_widget_add_controller()</code></a>.</p>
<div class="informalexample">
  <table border="0" cellpadding="0" cellspacing="0" class="listing_frame">
    <tbody>
      <tr>
        <td align="right" class="listing_lines"><pre>1
2
3
4
5
6
7
8
9
10</pre></td>
        <td class="listing_code"><pre class="programlisting"><span class="k">static</span> <span class="kt">void</span>
<span class="nf">my_widget_init</span> <span class="p">(</span><span class="n">MyWidget</span> <span class="o">*</span><span class="n">self</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">GtkDragSource</span> <span class="o">*</span><span class="n">drag_source</span> <span class="o">=</span> <span class="n">gtk_drag_source_new</span> <span class="p">();</span>

  <span class="n">g_signal_connect</span> <span class="p">(</span><span class="n">drag_source</span><span class="p">,</span> <span class="s">"prepare"</span><span class="p">,</span> <span class="n">G_CALLBACK</span> <span class="p">(</span><span class="n">on_drag_prepare</span><span class="p">),</span> <span class="n">self</span><span class="p">);</span>
  <span class="n">g_signal_connect</span> <span class="p">(</span><span class="n">drag_source</span><span class="p">,</span> <span class="s">"drag-begin"</span><span class="p">,</span> <span class="n">G_CALLBACK</span> <span class="p">(</span><span class="n">on_drag_begin</span><span class="p">),</span> <span class="n">self</span><span class="p">);</span>

  <span class="n">gtk_widget_add_controller</span> <span class="p">(</span><span class="n">GTK_WIDGET</span> <span class="p">(</span><span class="n">self</span><span class="p">),</span> <span class="n">GTK_EVENT_CONTROLLER</span> <span class="p">(</span><span class="n">drag_source</span><span class="p">));</span>
<span class="p">}</span></pre></td>
      </tr>
    </tbody>
  </table>
</div>

<p></p>
<p>Setting up the content provider and icon ahead of time only
makes sense when the data does not change. More commonly, you
will want to set them up just in time. To do so, <a href="GtkDragSource.html#GtkDragSource-struct"><span class="type">GtkDragSource</span></a>
has <a href="GtkDragSource.html#GtkDragSource-prepare"><span class="type">“prepare”</span></a> and <a href="GtkDragSource.html#GtkDragSource-drag-begin"><span class="type">“drag-begin”</span></a> signals.</p>
<p>The ::prepare signal is emitted before a drag is started, and
can be used to set the content provider and actions that the
drag should be started with.</p>
<div class="informalexample">
  <table border="0" cellpadding="0" cellspacing="0" class="listing_frame">
    <tbody>
      <tr>
        <td align="right" class="listing_lines"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17</pre></td>
        <td class="listing_code"><pre class="programlisting"><span class="k">static</span> <span class="n">GdkContentProvider</span> <span class="o">*</span>
<span class="nf">on_drag_prepare</span> <span class="p">(</span><span class="n">GtkDragSource</span> <span class="o">*</span><span class="n">source</span><span class="p">,</span>
                 <span class="kt">double</span>         <span class="n">x</span><span class="p">,</span>
                 <span class="kt">double</span>         <span class="n">y</span><span class="p">,</span>
                 <span class="n">MyWidget</span>      <span class="o">*</span><span class="n">self</span><span class="p">)</span>
<span class="p">{</span>
  <span class="c1">// This widget supports two types of content: GFile objects</span>
  <span class="c1">// and GdkPixbuf objects; GTK will handle the serialization</span>
  <span class="c1">// of these types automatically</span>
  <span class="n">GFile</span> <span class="o">*</span><span class="n">file</span> <span class="o">=</span> <span class="n">my_widget_get_file</span> <span class="p">(</span><span class="n">self</span><span class="p">);</span>
  <span class="n">GdkPixbuf</span> <span class="o">*</span><span class="n">pixbuf</span> <span class="o">=</span> <span class="n">my_widget_get_pixbuf</span> <span class="p">(</span><span class="n">self</span><span class="p">);</span>

  <span class="k">return</span> <span class="n">gdk_content_provider_new_union</span> <span class="p">((</span><span class="n">GdkContentProvider</span> <span class="o">*</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="p">{</span>
      <span class="n">gdk_content_provider_new_typed</span> <span class="p">(</span><span class="n">G_TYPE_FILE</span><span class="p">,</span> <span class="n">file</span><span class="p">),</span>
      <span class="n">gdk_content_provider_new_typed</span> <span class="p">(</span><span class="n">GDK_TYPE_PIXBUF</span><span class="p">,</span> <span class="n">pixbuf</span><span class="p">),</span>
    <span class="p">},</span> <span class="mi">2</span><span class="p">);</span>
<span class="p">}</span></pre></td>
      </tr>
    </tbody>
  </table>
</div>

<p></p>
<p>The ::drag-begin signal is emitted after the <a href="https://developer-old.gnome.org/gtk4/html/gdk4-Drag-and-Drop.html#GdkDrag-struct"><span class="type">GdkDrag</span></a> object has
been created, and can be used to set up the drag icon.</p>
<div class="informalexample">
  <table border="0" cellpadding="0" cellspacing="0" class="listing_frame">
    <tbody>
      <tr>
        <td align="right" class="listing_lines"><pre>1
2
3
4
5
6
7
8
9
10</pre></td>
        <td class="listing_code"><pre class="programlisting"><span class="k">static</span> <span class="kt">void</span>
<span class="nf">on_drag_begin</span> <span class="p">(</span><span class="n">GtkDragSource</span> <span class="o">*</span><span class="n">source</span><span class="p">,</span>
               <span class="n">GtkDrag</span>       <span class="o">*</span><span class="n">drag</span><span class="p">,</span>
               <span class="n">MyWidget</span>      <span class="o">*</span><span class="n">self</span><span class="p">)</span>
<span class="p">{</span>
  <span class="c1">// Set the widget as the drag icon</span>
  <span class="n">GdkPaintable</span> <span class="o">*</span><span class="n">paintable</span> <span class="o">=</span> <span class="n">gtk_widget_paintable_new</span> <span class="p">(</span><span class="n">GTK_WIDGET</span> <span class="p">(</span><span class="n">self</span><span class="p">));</span>
  <span class="n">gtk_drag_source_set_icon</span> <span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">paintable</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
  <span class="n">g_object_unref</span> <span class="p">(</span><span class="n">paintable</span><span class="p">);</span>
<span class="p">}</span></pre></td>
      </tr>
    </tbody>
  </table>
</div>

<p></p>
<p>During the DND operation, GtkDragSource emits signals that
can be used to obtain updates about the status of the operation,
but it is not normally necessary to connect to any signals,
except for one case: when the supported actions include
<a href="https://developer-old.gnome.org/gtk4/html/gdk4-Drag-and-Drop.html#GDK-ACTION-MOVE:CAPS"><code class="literal">GDK_ACTION_MOVE</code></a>, you need to listen for the
<a href="GtkDragSource.html#GtkDragSource-drag-end"><span class="type">“drag-end”</span></a> signal and delete the
data after it has been transferred.</p>
</div>
<div class="refsect1">
<a name="GtkDragSource.functions_details"></a><h2>Functions</h2>
<div class="refsect2">
<a name="gtk-drag-source-new"></a><h3>gtk_drag_source_new ()</h3>
<pre class="programlisting"><a href="GtkDragSource.html#GtkDragSource-struct"><span class="returnvalue">GtkDragSource</span></a> *
gtk_drag_source_new (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
<p>Creates a new <a href="GtkDragSource.html#GtkDragSource-struct"><span class="type">GtkDragSource</span></a> object.</p>
<div class="refsect3">
<a name="gtk-drag-source-new.returns"></a><h4>Returns</h4>
<p> the new <a href="GtkDragSource.html#GtkDragSource-struct"><span class="type">GtkDragSource</span></a></p>
</div>
</div>
<hr></hr>
<div class="refsect2">
<a name="gtk-drag-source-set-content"></a><h3>gtk_drag_source_set_content ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
gtk_drag_source_set_content (<em class="parameter"><code><a href="GtkDragSource.html#GtkDragSource-struct"><span class="type">GtkDragSource</span></a> *source</code></em>,
                             <em class="parameter"><code><a href="https://developer-old.gnome.org/gtk4/html/GdkContentProvider.html#GdkContentProvider-struct"><span class="type">GdkContentProvider</span></a> *content</code></em>);</pre>
<p>Sets a content provider on a <a href="GtkDragSource.html#GtkDragSource-struct"><span class="type">GtkDragSource</span></a>.</p>
<p>When the data is requested in the cause of a
DND operation, it will be obtained from the
content provider.</p>
<p>This function can be called before a drag is started,
or in a handler for the <a href="GtkDragSource.html#GtkDragSource-prepare"><span class="type">“prepare”</span></a> signal.</p>
<p>You may consider setting the content provider back to
<code class="literal">NULL</code> in a <a href="GtkDragSource.html#GtkDragSource-drag-end"><span class="type">“drag-end”</span></a> signal handler.</p>
<div class="refsect3">
<a name="gtk-drag-source-set-content.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>source</p></td>
<td class="parameter_description"><p>a <a href="GtkDragSource.html#GtkDragSource-struct"><span class="type">GtkDragSource</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>content</p></td>
<td class="parameter_description"><p>a <a href="https://developer-old.gnome.org/gtk4/html/GdkContentProvider.html#GdkContentProvider-struct"><span class="type">GdkContentProvider</span></a>, or <code class="literal">NULL</code>. </p></td>
<td class="parameter_annotations"><span class="annotation">[<acronym title="NULL may be passed as the value in, out, in-out; or as a return value."><span class="acronym">nullable</span></acronym>]</span></td>
</tr>
</tbody>
</table></div>
</div>
</div>
<hr></hr>
<div class="refsect2">
<a name="gtk-drag-source-get-content"></a><h3>gtk_drag_source_get_content ()</h3>
<pre class="programlisting"><a href="https://developer-old.gnome.org/gtk4/html/GdkContentProvider.html#GdkContentProvider-struct"><span class="returnvalue">GdkContentProvider</span></a> *
gtk_drag_source_get_content (<em class="parameter"><code><a href="GtkDragSource.html#GtkDragSource-struct"><span class="type">GtkDragSource</span></a> *source</code></em>);</pre>
<p>Gets the current content provider of a <a href="GtkDragSource.html#GtkDragSource-struct"><span class="type">GtkDragSource</span></a>.</p>
<div class="refsect3">
<a name="gtk-drag-source-get-content.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>source</p></td>
<td class="parameter_description"><p>a <a href="GtkDragSource.html#GtkDragSource-struct"><span class="type">GtkDragSource</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3">
<a name="gtk-drag-source-get-content.returns"></a><h4>Returns</h4>
<p>the <a href="https://developer-old.gnome.org/gtk4/html/GdkContentProvider.html#GdkContentProvider-struct"><span class="type">GdkContentProvider</span></a> of <em class="parameter"><code>source</code></em>
. </p>
<p><span class="annotation">[<acronym title="NULL may be passed as the value in, out, in-out; or as a return value."><span class="acronym">nullable</span></acronym>][<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>]</span></p>
</div>
</div>
<hr></hr>
<div class="refsect2">
<a name="gtk-drag-source-set-actions"></a><h3>gtk_drag_source_set_actions ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
gtk_drag_source_set_actions (<em class="parameter"><code><a href="GtkDragSource.html#GtkDragSource-struct"><span class="type">GtkDragSource</span></a> *source</code></em>,
                             <em class="parameter"><code><a href="https://developer-old.gnome.org/gtk4/html/gdk4-Drag-and-Drop.html#GdkDragAction"><span class="type">GdkDragAction</span></a> actions</code></em>);</pre>
<p>Sets the actions on the <a href="GtkDragSource.html#GtkDragSource-struct"><span class="type">GtkDragSource</span></a>.</p>
<p>During a DND operation, the actions are offered
to potential drop targets. If <em class="parameter"><code>actions</code></em>
 include
<a href="https://developer-old.gnome.org/gtk4/html/gdk4-Drag-and-Drop.html#GDK-ACTION-MOVE:CAPS"><code class="literal">GDK_ACTION_MOVE</code></a>, you need to listen to the
<a href="GtkDragSource.html#GtkDragSource-drag-end"><span class="type">“drag-end”</span></a> signal and handle
<em class="parameter"><code>delete_data</code></em>
 being <code class="literal">TRUE</code>.</p>
<p>This function can be called before a drag is started,
or in a handler for the <a href="GtkDragSource.html#GtkDragSource-prepare"><span class="type">“prepare”</span></a> signal.</p>
<div class="refsect3">
<a name="gtk-drag-source-set-actions.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>source</p></td>
<td class="parameter_description"><p>a <a href="GtkDragSource.html#GtkDragSource-struct"><span class="type">GtkDragSource</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>actions</p></td>
<td class="parameter_description"><p>the actions to offer</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
<hr></hr>
<div class="refsect2">
<a name="gtk-drag-source-get-actions"></a><h3>gtk_drag_source_get_actions ()</h3>
<pre class="programlisting"><a href="https://developer-old.gnome.org/gtk4/html/gdk4-Drag-and-Drop.html#GdkDragAction"><span class="returnvalue">GdkDragAction</span></a>
gtk_drag_source_get_actions (<em class="parameter"><code><a href="GtkDragSource.html#GtkDragSource-struct"><span class="type">GtkDragSource</span></a> *source</code></em>);</pre>
<p>Gets the actions that are currently set on the <a href="GtkDragSource.html#GtkDragSource-struct"><span class="type">GtkDragSource</span></a>.</p>
<div class="refsect3">
<a name="gtk-drag-source-get-actions.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>source</p></td>
<td class="parameter_description"><p>a <a href="GtkDragSource.html#GtkDragSource-struct"><span class="type">GtkDragSource</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3">
<a name="gtk-drag-source-get-actions.returns"></a><h4>Returns</h4>
<p> the actions set on <em class="parameter"><code>source</code></em>
</p>
</div>
</div>
<hr></hr>
<div class="refsect2">
<a name="gtk-drag-source-set-icon"></a><h3>gtk_drag_source_set_icon ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
gtk_drag_source_set_icon (<em class="parameter"><code><a href="GtkDragSource.html#GtkDragSource-struct"><span class="type">GtkDragSource</span></a> *source</code></em>,
                          <em class="parameter"><code><a href="https://developer-old.gnome.org/gtk4/html/GdkPaintable.html#GdkPaintable-struct"><span class="type">GdkPaintable</span></a> *paintable</code></em>,
                          <em class="parameter"><code><span class="type">int</span> hot_x</code></em>,
                          <em class="parameter"><code><span class="type">int</span> hot_y</code></em>);</pre>
<p>Sets a paintable to use as icon during DND operations.</p>
<p>The hotspot coordinates determine the point on the icon
that gets aligned with the hotspot of the cursor.</p>
<p>If <em class="parameter"><code>paintable</code></em>
 is <code class="literal">NULL</code>, a default icon is used.</p>
<p>This function can be called before a drag is started, or in
a <a href="GtkDragSource.html#GtkDragSource-prepare"><span class="type">“prepare”</span></a> or <a href="GtkDragSource.html#GtkDragSource-drag-begin"><span class="type">“drag-begin”</span></a> signal handler.</p>
<div class="refsect3">
<a name="gtk-drag-source-set-icon.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>source</p></td>
<td class="parameter_description"><p>a <a href="GtkDragSource.html#GtkDragSource-struct"><span class="type">GtkDragSource</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>paintable</p></td>
<td class="parameter_description"><p>the <a href="https://developer-old.gnome.org/gtk4/html/GdkPaintable.html#GdkPaintable-struct"><span class="type">GdkPaintable</span></a> to use as icon, or <code class="literal">NULL</code>. </p></td>
<td class="parameter_annotations"><span class="annotation">[<acronym title="NULL may be passed as the value in, out, in-out; or as a return value."><span class="acronym">nullable</span></acronym>]</span></td>
</tr>
<tr>
<td class="parameter_name"><p>hot_x</p></td>
<td class="parameter_description"><p>the hotspot X coordinate on the icon</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>hot_y</p></td>
<td class="parameter_description"><p>the hotspot Y coordinate on the icon</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
<hr></hr>
<div class="refsect2">
<a name="gtk-drag-source-drag-cancel"></a><h3>gtk_drag_source_drag_cancel ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
gtk_drag_source_drag_cancel (<em class="parameter"><code><a href="GtkDragSource.html#GtkDragSource-struct"><span class="type">GtkDragSource</span></a> *source</code></em>);</pre>
<p>Cancels a currently ongoing drag operation.</p>
<div class="refsect3">
<a name="gtk-drag-source-drag-cancel.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>source</p></td>
<td class="parameter_description"><p>a <a href="GtkDragSource.html#GtkDragSource-struct"><span class="type">GtkDragSource</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
</div>
<hr></hr>
<div class="refsect2">
<a name="gtk-drag-source-get-drag"></a><h3>gtk_drag_source_get_drag ()</h3>
<pre class="programlisting"><a href="https://developer-old.gnome.org/gtk4/html/gdk4-Drag-and-Drop.html#GdkDrag-struct"><span class="returnvalue">GdkDrag</span></a> *
gtk_drag_source_get_drag (<em class="parameter"><code><a href="GtkDragSource.html#GtkDragSource-struct"><span class="type">GtkDragSource</span></a> *source</code></em>);</pre>
<p>Returns the underlying <a href="https://developer-old.gnome.org/gtk4/html/gdk4-Drag-and-Drop.html#GdkDrag-struct"><span class="type">GdkDrag</span></a> object for an ongoing drag.</p>
<div class="refsect3">
<a name="gtk-drag-source-get-drag.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody><tr>
<td class="parameter_name"><p>source</p></td>
<td class="parameter_description"><p>a <a href="GtkDragSource.html#GtkDragSource-struct"><span class="type">GtkDragSource</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr></tbody>
</table></div>
</div>
<div class="refsect3">
<a name="gtk-drag-source-get-drag.returns"></a><h4>Returns</h4>
<p>the <a href="https://developer-old.gnome.org/gtk4/html/gdk4-Drag-and-Drop.html#GdkDrag-struct"><span class="type">GdkDrag</span></a> of the current drag operation, or <code class="literal">NULL</code>. </p>
<p><span class="annotation">[<acronym title="NULL may be passed as the value in, out, in-out; or as a return value."><span class="acronym">nullable</span></acronym>][<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>]</span></p>
</div>
</div>
<hr></hr>
<div class="refsect2">
<a name="gtk-drag-check-threshold"></a><h3>gtk_drag_check_threshold ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>
gtk_drag_check_threshold (<em class="parameter"><code><a href="GtkWidget.html#GtkWidget-struct"><span class="type">GtkWidget</span></a> *widget</code></em>,
                          <em class="parameter"><code><span class="type">int</span> start_x</code></em>,
                          <em class="parameter"><code><span class="type">int</span> start_y</code></em>,
                          <em class="parameter"><code><span class="type">int</span> current_x</code></em>,
                          <em class="parameter"><code><span class="type">int</span> current_y</code></em>);</pre>
<p>Checks to see if a mouse drag starting at (<em class="parameter"><code>start_x</code></em>
, <em class="parameter"><code>start_y</code></em>
) and ending
at (<em class="parameter"><code>current_x</code></em>
, <em class="parameter"><code>current_y</code></em>
) has passed the GTK drag threshold, and thus
should trigger the beginning of a drag-and-drop operation.</p>
<p><span class="annotation">[<acronym title="This is a method"><span class="acronym">method</span></acronym>]</span></p>
<div class="refsect3">
<a name="gtk-drag-check-threshold.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>widget</p></td>
<td class="parameter_description"><p>a <a href="GtkWidget.html#GtkWidget-struct"><span class="type">GtkWidget</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>start_x</p></td>
<td class="parameter_description"><p>X coordinate of start of drag</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>start_y</p></td>
<td class="parameter_description"><p>Y coordinate of start of drag</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>current_x</p></td>
<td class="parameter_description"><p>current X coordinate</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>current_y</p></td>
<td class="parameter_description"><p>current Y coordinate</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="gtk-drag-check-threshold.returns"></a><h4>Returns</h4>
<p> <code class="literal">TRUE</code> if the drag threshold has been passed.</p>
</div>
</div>
</div>
<div class="refsect1">
<a name="GtkDragSource.other_details"></a><h2>Types and Values</h2>
<div class="refsect2">
<a name="GtkDragSource-struct"></a><h3>GtkDragSource</h3>
<pre class="programlisting">typedef struct _GtkDragSource GtkDragSource;</pre>
</div>
</div>
<div class="refsect1">
<a name="GtkDragSource.property-details"></a><h2>Property Details</h2>
<div class="refsect2">
<a name="GtkDragSource--actions"></a><h3>The <code class="literal">“actions”</code> property</h3>
<pre class="programlisting">  “actions”                  <a href="https://developer-old.gnome.org/gtk4/html/gdk4-Drag-and-Drop.html#GdkDragAction"><span class="type">GdkDragAction</span></a></pre>
<p>The actions that are supported by drag operations from the source.</p>
<p>Note that you must handle the <a href="GtkDragSource.html#GtkDragSource-drag-end"><span class="type">“drag-end”</span></a> signal
if the actions include <a href="https://developer-old.gnome.org/gtk4/html/gdk4-Drag-and-Drop.html#GDK-ACTION-MOVE:CAPS"><code class="literal">GDK_ACTION_MOVE</code></a>.</p>
<p>Owner: GtkDragSource</p>
<p>Flags: Read / Write</p>
<p>Default value: GDK_ACTION_COPY</p>
</div>
<hr></hr>
<div class="refsect2">
<a name="GtkDragSource--content"></a><h3>The <code class="literal">“content”</code> property</h3>
<pre class="programlisting">  “content”                  <a href="https://developer-old.gnome.org/gtk4/html/GdkContentProvider.html#GdkContentProvider-struct"><span class="type">GdkContentProvider</span></a> *</pre>
<p>The data that is offered by drag operations from this source,
in the form of a <a href="https://developer-old.gnome.org/gtk4/html/GdkContentProvider.html#GdkContentProvider-struct"><span class="type">GdkContentProvider</span></a>.</p>
<p>Owner: GtkDragSource</p>
<p>Flags: Read / Write</p>
</div>
</div>
<div class="refsect1">
<a name="GtkDragSource.signal-details"></a><h2>Signal Details</h2>
<div class="refsect2">
<a name="GtkDragSource-drag-begin"></a><h3>The <code class="literal">“drag-begin”</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
user_function (<a href="GtkDragSource.html#GtkDragSource-struct"><span class="type">GtkDragSource</span></a> *source,
               <a href="https://developer-old.gnome.org/gtk4/html/gdk4-Drag-and-Drop.html#GdkDrag-struct"><span class="type">GdkDrag</span></a>       *drag,
               <span class="type">gpointer</span>       user_data)</pre>
<p>The ::drag-begin signal is emitted on the drag source when a drag
is started. It can be used to e.g. set a custom drag icon with
<a href="GtkDragSource.html#gtk-drag-source-set-icon"><code class="function">gtk_drag_source_set_icon()</code></a>.</p>
<div class="refsect3">
<a name="GtkDragSource-drag-begin.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>source</p></td>
<td class="parameter_description"><p>the <a href="GtkDragSource.html#GtkDragSource-struct"><span class="type">GtkDragSource</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>drag</p></td>
<td class="parameter_description"><p>the <a href="https://developer-old.gnome.org/gtk4/html/gdk4-Drag-and-Drop.html#GdkDrag-struct"><span class="type">GdkDrag</span></a> object</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>user_data</p></td>
<td class="parameter_description"><p>user data set when the signal handler was connected.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<p>Flags: Run Last</p>
</div>
<hr></hr>
<div class="refsect2">
<a name="GtkDragSource-drag-cancel"></a><h3>The <code class="literal">“drag-cancel”</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>
user_function (<a href="GtkDragSource.html#GtkDragSource-struct"><span class="type">GtkDragSource</span></a>      *source,
               <a href="https://developer-old.gnome.org/gtk4/html/gdk4-Drag-and-Drop.html#GdkDrag-struct"><span class="type">GdkDrag</span></a>            *drag,
               <a href="https://developer-old.gnome.org/gtk4/html/gdk4-Drag-and-Drop.html#GdkDragCancelReason"><span class="type">GdkDragCancelReason</span></a> reason,
               <span class="type">gpointer</span>            user_data)</pre>
<p>The ::drag-cancel signal is emitted on the drag source when a drag has
failed. The signal handler may handle a failed drag operation based on
the type of error. It should return <code class="literal">TRUE</code> if the failure has been handled
and the default "drag operation failed" animation should not be shown.</p>
<div class="refsect3">
<a name="GtkDragSource-drag-cancel.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>source</p></td>
<td class="parameter_description"><p>the <a href="GtkDragSource.html#GtkDragSource-struct"><span class="type">GtkDragSource</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>drag</p></td>
<td class="parameter_description"><p>the <a href="https://developer-old.gnome.org/gtk4/html/gdk4-Drag-and-Drop.html#GdkDrag-struct"><span class="type">GdkDrag</span></a> object</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>reason</p></td>
<td class="parameter_description"><p>information on why the drag failed</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>user_data</p></td>
<td class="parameter_description"><p>user data set when the signal handler was connected.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="GtkDragSource-drag-cancel.returns"></a><h4>Returns</h4>
<p> <code class="literal">TRUE</code> if the failed drag operation has been already handled</p>
</div>
<p>Flags: Run Last</p>
</div>
<hr></hr>
<div class="refsect2">
<a name="GtkDragSource-drag-end"></a><h3>The <code class="literal">“drag-end”</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
user_function (<a href="GtkDragSource.html#GtkDragSource-struct"><span class="type">GtkDragSource</span></a> *source,
               <a href="https://developer-old.gnome.org/gtk4/html/gdk4-Drag-and-Drop.html#GdkDrag-struct"><span class="type">GdkDrag</span></a>       *drag,
               <span class="type">gboolean</span>       delete_data,
               <span class="type">gpointer</span>       user_data)</pre>
<p>The ::drag-end signal is emitted on the drag source when a drag is
finished. A typical reason to connect to this signal is to undo
things done in <a href="GtkDragSource.html#GtkDragSource-prepare"><span class="type">“prepare”</span></a> or <a href="GtkDragSource.html#GtkDragSource-drag-begin"><span class="type">“drag-begin”</span></a>.</p>
<div class="refsect3">
<a name="GtkDragSource-drag-end.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>source</p></td>
<td class="parameter_description"><p>the <a href="GtkDragSource.html#GtkDragSource-struct"><span class="type">GtkDragSource</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>drag</p></td>
<td class="parameter_description"><p>the <a href="https://developer-old.gnome.org/gtk4/html/gdk4-Drag-and-Drop.html#GdkDrag-struct"><span class="type">GdkDrag</span></a> object</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>delete_data</p></td>
<td class="parameter_description"><p><code class="literal">TRUE</code> if the drag was performing <a href="https://developer-old.gnome.org/gtk4/html/gdk4-Drag-and-Drop.html#GDK-ACTION-MOVE:CAPS"><code class="literal">GDK_ACTION_MOVE</code></a>,
and the data should be deleted</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>user_data</p></td>
<td class="parameter_description"><p>user data set when the signal handler was connected.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<p>Flags: Run Last</p>
</div>
<hr></hr>
<div class="refsect2">
<a name="GtkDragSource-prepare"></a><h3>The <code class="literal">“prepare”</code> signal</h3>
<pre class="programlisting"><a href="https://developer-old.gnome.org/gtk4/html/GdkContentProvider.html#GdkContentProvider-struct"><span class="returnvalue">GdkContentProvider</span></a>*
user_function (<a href="GtkDragSource.html#GtkDragSource-struct"><span class="type">GtkDragSource</span></a> *source,
               <span class="type">double</span>         x,
               <span class="type">double</span>         y,
               <span class="type">gpointer</span>       user_data)</pre>
<p>The ::prepare signal is emitted when a drag is about to be initiated.
It returns the * <a href="https://developer-old.gnome.org/gtk4/html/GdkContentProvider.html#GdkContentProvider-struct"><span class="type">GdkContentProvider</span></a> to use for the drag that is about
to start. The default handler for this signal returns the value of
the <a href="GtkDragSource.html#GtkDragSource--content"><span class="type">“content”</span></a> property, so if you set up that property
ahead of time, you don't need to connect to this signal.</p>
<div class="refsect3">
<a name="GtkDragSource-prepare.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>source</p></td>
<td class="parameter_description"><p>the <a href="GtkDragSource.html#GtkDragSource-struct"><span class="type">GtkDragSource</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>x</p></td>
<td class="parameter_description"><p>the X coordinate of the drag starting point</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>y</p></td>
<td class="parameter_description"><p>the Y coordinate fo the drag starting point</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>user_data</p></td>
<td class="parameter_description"><p>user data set when the signal handler was connected.</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="GtkDragSource-prepare.returns"></a><h4>Returns</h4>
<p>a <a href="https://developer-old.gnome.org/gtk4/html/GdkContentProvider.html#GdkContentProvider-struct"><span class="type">GdkContentProvider</span></a>, or <code class="literal">NULL</code>. </p>
<p><span class="annotation">[<acronym title="Free data after the code is done."><span class="acronym">transfer full</span></acronym>][<acronym title="NULL may be passed as the value in, out, in-out; or as a return value."><span class="acronym">nullable</span></acronym>]</span></p>
</div>
<p>Flags: Run Last</p>
</div>
</div>
</div><div class="footer">
<hr></hr>Generated by GTK-Doc V1.33.0</div></div><div id="footer_art" class="default"> </div></div><div class="clearfix"></div><div id="footer_grass">   </div><div id="footer"><div class="container_12"><div class="links grid_9"><div class="menu-footer-1-container"><ul id="menu-footer-1" class="menu"><li id="menu-item-88" class="menu-item menu-item-type-custom menu-item-home menu-item-88"><a href="https://www.gnome.org/">The GNOME Project</a><ul class="sub-menu"><li id="menu-item-89" class="menu-item menu-item-type-post_type menu-item-89"><a href="https://www.gnome.org/about/">About Us</a></li><li id="menu-item-90" class="menu-item menu-item-type-custom menu-item-90"><a href="https://www.gnome.org/get-involved/">Get Involved</a></li><li id="menu-item-91" class="menu-item menu-item-type-custom menu-item-91"><a href="https://www.gnome.org/teams/">Teams</a></li><li id="menu-item-92" class="menu-item menu-item-type-custom menu-item-92"><a href="https://foundation.gnome.org">The GNOME Foundation</a></li><li><a href="https://www.gnome.org/support-gnome/">Support GNOME</a></li><li><a href="https://www.gnome.org/contact/">Contact</a></li></ul></li></ul></div><div class="menu-footer-2-container"><ul id="menu-footer-2" class="menu"><li id="menu-item-99" class="menu-item menu-item-type-post_type current-menu-item page_item page-item-20 current_page_item menu-item-99"><a href="GtkDragSource.html#">Resources</a><ul class="sub-menu"><li><a href="https://help.gnome.org">Documentation</a></li><li><a href="https://wiki.gnome.org">Wiki</a></li><li><a href="https://mail.gnome.org/mailman/listinfo">Mailing Lists</a></li><li><a href="https://wiki.gnome.org/GnomeIrcChannels">IRC Channels</a></li><li><a href="https://gitlab.gnome.org/">Bug Tracker</a></li><li><a href="https://gitlab.gnome.org/">Development Code</a></li><li><a href="https://wiki.gnome.org/Jhbuild">Build Tool</a></li></ul></li></ul></div><div class="menu-footer-4-container"><ul id="menu-footer-4" class="menu"><li id="menu-item-104" class="menu-item menu-item-type-custom menu-item-104"><a href="http://www.gnome.org/news/">News</a><ul class="sub-menu"><li><a href="https://www.gnome.org/start/stable">Latest Release</a></li><li><a href="https://planet.gnome.org">Planet GNOME</a></li><li><a href="https://news.gnome.org">Development News</a></li><li><a href="https://twitter.com/gnome">Twitter</a></li></ul></li></ul></div></div><div class="links grid_3 right"><div><ul class="menu available_languages"><li><strong>This website is available in many languages</strong><ul class="sub-menu"><li><a href="../../languages.html" title="Switching Language">Switch Language</a></li></ul></li></ul><script type="text/javascript" src="../../js/language.js"></script></div></div><div id="footnotes" class="grid_9">
                Copyright © 2005‒2014 <strong class="gnome_logo">The GNOME Project</strong><br></br><small>Optimised for standards. Hosted by <a href="http://redhat.com">Red Hat</a>.</small></div><div class="clear"></div></div></div><script type="text/javascript">
$(document).ready(function() {
    // Get browser
    $.each($.browser, function(i) {
        $('body').addClass(i);
        return false;
    });

    // Get OS and add it as class to body tag, this then allows forcing some
    // customisation in the CSS rules.
    var match = navigator.userAgent.toLowerCase().match(/(win|mac|linux)/);
    if (match) {
        $('body').addClass(match[0]);
    }
});
</script><script type="text/javascript">
      var _paq = _paq || [];
      _paq.push(['disableCookies']);
      _paq.push(["trackPageView"]);
      _paq.push(["enableLinkTracking"]);

      (function() {
        var u=(("https:" == document.location.protocol) ? "https" : "http") + "://webstats.gnome.org/";
        _paq.push(["setTrackerUrl", u+"piwik.php"]);
        _paq.push(["setSiteId", "6"]);
        var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";
        g.defer=true; g.async=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
      })();
    </script></body></html>
