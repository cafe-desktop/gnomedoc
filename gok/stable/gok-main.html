<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:html="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="text/html; charset=utf-8"></meta><link rel="stylesheet" href="../../skin/gtkdoc.css" type="text/css"></link><link rel="stylesheet" type="text/css" media="all" href="https://static.gnome.org/css/grass-theme-style.css"></link><link rel="stylesheet" type="text/css" media="all" href="../../skin/lgo2010.css"></link><link rel="icon" type="image/png" href="../../skin/gnome-16.png"></link><link rel="SHORTCUT ICON" type="image/png" href="../../skin/gnome-16.png"></link><link rel="search" type="application/opensearchdescription+xml" href="../../gnome-library-search.xml" title="GNOME Library Search"></link><link rel="stylesheet" type="text/css" href="../../skin/jquery.autocomplete.css"></link><script type="text/javascript" src="../../js/jquery.js"></script><script type="text/javascript" src="../../js/jquery.autocomplete.js"></script><title>main</title><link href="index.html" rel="home" title="GOK - Gnome Onscreen Keyboard"></link><link href="ch01.html" rel="up" title="GOK Internal API"></link><link href="gok-interface.html" rel="prev" title="interface"></link><link href="gok-support.html" rel="next" title="support"></link><link rel="stylesheet" type="text/css" media="all" href="../../skin/jquery.autocomplete.css"></link><link rel="stylesheet" type="text/css" media="all" href="../../skin/960_24_col.css"></link><script type="text/javascript" src="../../js/jquery.js"></script><script type="text/javascript" src="https://developer-old.gnome.org/js/jquery.jcarousel.min.js"></script><script type="text/javascript" src="../../js/jquery.autocomplete.js"></script></head><body><div id="accessibility_access"><ul><li><a href="gok-main.html#container">Go to page content</a></li><li><a href="gok-main.html#top_bar">Go to main menu</a></li><li><a href="gok-main.html#s" onclick="$('#s').focus(); return false;">Go to the search field</a></li></ul></div><div id="global_domain_bar"><div class="maxwidth"><div class="tab"><a class="root" href="https://www.gnome.org/">GNOME.org</a></div></div></div><div id="header" class="container_12"><div id="logo" class="grid_3"><a title="Go to home page" href="../../index.html"><img alt="GNOME: The Free Software Desktop Project" src="../../skin/gnome-logo-devcenter.png"></img></a></div><div id="top_bar" class="grid_9"><div class="left"><div class="menu-globalnav-container"><ul id="menu-globalnav" class="menu"><li class="menu-item menu-item-type-post_type menu-item-6"><a href="../../about/index.html">About</a></li><li class="menu-item menu-item-type-post_type menu-item-23"><a href="https://help.gnome.org/users/">Users</a></li><li class="menu-item menu-item-type-post_type menu-item-40"><a href="https://help.gnome.org/admin/">Administrators</a></li><li class="current-menu-item"><a href="https://developer.gnome.org/">Developers</a></li></ul></div></div><div class="right"><form role="search" method="get" id="searchform" action="https://developer-old.gnome.org/symbols/"><div><label class="hidden" for="q">Search:
                        </label><input type="text" value="" name="q" id="s" placeholder="Search"></input></div></form><script type="text/javascript">
$('#s').autocomplete('/symbols/lookup/',
        { minChars:3, matchSubset:1, matchContains:1, cacheLength:10,
          selectOnly:1, rowsLimit:25 });
              </script></div></div></div><div class="clearfix"></div><div id="container" class="gtk-doc"><div class="content"><table cellpadding="2" cellspacing="2" class="navigation" id="top" summary="Navigation header" width="100%">
<tbody><tr valign="middle">
<td><a accesskey="p" href="gok-interface.html"><img alt="Prev" border="0" height="24" src="left.png" width="24"></img></a></td>
<td><a accesskey="u" href="ch01.html"><img alt="Up" border="0" height="24" src="up.png" width="24"></img></a></td>
<td><a accesskey="h" href="index.html"><img alt="Home" border="0" height="24" src="home.png" width="24"></img></a></td>
<th align="center" width="100%">GOK - Gnome Onscreen Keyboard</th>
<td><a accesskey="n" href="gok-support.html"><img alt="Next" border="0" height="24" src="right.png" width="24"></img></a></td>
</tr>
<tr><td class="shortcuts" colspan="5">
<a class="shortcut" href="gok-main.html#gok-main.synopsis">Top</a>
                   | 
                  <a class="shortcut" href="gok-main.html#gok-main.description">Description</a>
</td></tr>
</tbody></table><div class="refentry">
<a name="gok-main"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tbody><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="gok-main.top_of_page"></a>main</span></h2>
<p>main</p>
</td>
<td align="right" valign="top"></td>
</tr></tbody></table></div>
<div class="refsynopsisdiv">
<a name="gok-main.synopsis"></a><h2>Synopsis</h2>
<pre class="synopsis"><span class="returnvalue">GtkWidget</span> *         <a class="link" href="gok-main.html#gok-main-create-window" title="gok_main_create_window ()">gok_main_create_window</a>              (<em class="parameter"><code><span class="type">struct gok_window_realize_data</span> *window_realize_data</code></em>);
<span class="returnvalue">gboolean</span>            <a class="link" href="gok-main.html#gok-main-display-scan" title="gok_main_display_scan ()">gok_main_display_scan</a>               (<em class="parameter"><code><span class="type">GokKeyboard</span> *pKeyboard</code></em>,
                                                         <em class="parameter"><code><span class="type">gchar</span> *nameKeyboard</code></em>,
                                                         <em class="parameter"><code><a class="link" href="gok-gok-keyboard.html#KeyboardTypes" title="enum KeyboardTypes"><span class="type">KeyboardTypes</span></a> typeKeyboard</code></em>,
                                                         <em class="parameter"><code><a class="link" href="gok-gok-keyboard.html#KeyboardLayouts" title="enum KeyboardLayouts"><span class="type">KeyboardLayouts</span></a> layout</code></em>,
                                                         <em class="parameter"><code><span class="type">KeyboardShape</span> shape</code></em>);
<span class="returnvalue">gboolean</span>            <a class="link" href="gok-main.html#gok-main-display-scan-previous" title="gok_main_display_scan_previous ()">gok_main_display_scan_previous</a>      (<em class="parameter"><code><span class="type">void</span></code></em>);
<span class="returnvalue">gboolean</span>            <a class="link" href="gok-main.html#gok-main-display-scan-previous-premade" title="gok_main_display_scan_previous_premade ()">gok_main_display_scan_previous_premade</a>
                                                        (<em class="parameter"><code><span class="type">void</span></code></em>);
<span class="returnvalue">gboolean</span>            <a class="link" href="gok-main.html#gok-main-display-scan-reset" title="gok_main_display_scan_reset ()">gok_main_display_scan_reset</a>         (<em class="parameter"><code><span class="type">void</span></code></em>);
<span class="returnvalue">gboolean</span>            <a class="link" href="gok-main.html#gok-main-ds" title="gok_main_ds ()">gok_main_ds</a>                         (<em class="parameter"><code><span class="type">GokKeyboard</span> *pKeyboard</code></em>);
<span class="returnvalue">GokKeyboard</span> *       <a class="link" href="gok-main.html#gok-main-get-first-keyboard" title="gok_main_get_first_keyboard ()">gok_main_get_first_keyboard</a>         (<em class="parameter"><code><span class="type">void</span></code></em>);
<span class="returnvalue">void</span>                <a class="link" href="gok-main.html#gok-main-set-first-keyboard" title="gok_main_set_first_keyboard ()">gok_main_set_first_keyboard</a>         (<em class="parameter"><code><span class="type">GokKeyboard</span> *pKeyboard</code></em>);
<span class="returnvalue">GokKeyboard</span> *       <a class="link" href="gok-main.html#gok-main-get-current-keyboard" title="gok_main_get_current_keyboard ()">gok_main_get_current_keyboard</a>       (<em class="parameter"><code><span class="type">void</span></code></em>);
<span class="returnvalue">GtkWidget</span> *         <a class="link" href="gok-main.html#gok-main-get-main-window" title="gok_main_get_main_window ()">gok_main_get_main_window</a>            (<em class="parameter"><code><span class="type">void</span></code></em>);
<span class="returnvalue">Accessible</span> *        <a class="link" href="gok-main.html#gok-main-get-foreground-accessible" title="gok_main_get_foreground_accessible ()">gok_main_get_foreground_accessible</a>  (<em class="parameter"><code><span class="type">void</span></code></em>);
<span class="returnvalue">void</span>                <a class="link" href="gok-main.html#gok-main-resize-window" title="gok_main_resize_window ()">gok_main_resize_window</a>              (<em class="parameter"><code><span class="type">GtkWidget</span> *pWindow</code></em>,
                                                         <em class="parameter"><code><span class="type">GokKeyboard</span> *pKeyboard</code></em>,
                                                         <em class="parameter"><code><span class="type">gint</span> Width</code></em>,
                                                         <em class="parameter"><code><span class="type">gint</span> Height</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="gok-main.html#gok-main-store-window-center" title="gok_main_store_window_center ()">gok_main_store_window_center</a>        (<em class="parameter"><code><span class="type">void</span></code></em>);
<span class="returnvalue">Accessible</span> *        <a class="link" href="gok-main.html#gok-main-get-foreground-window-accessible" title="gok_main_get_foreground_window_accessible ()">gok_main_get_foreground_window_accessible</a>
                                                        (<em class="parameter"><code><span class="type">void</span></code></em>);
<span class="returnvalue">void</span>                <a class="link" href="gok-main.html#gok-main-read-keyboards" title="gok_main_read_keyboards ()">gok_main_read_keyboards</a>             (<em class="parameter"><code><span class="type">void</span></code></em>);
<span class="returnvalue">GokKeyboard</span> *       <a class="link" href="gok-main.html#gok-main-read-keyboards-from-dir" title="gok_main_read_keyboards_from_dir ()">gok_main_read_keyboards_from_dir</a>    (<em class="parameter"><code>const <span class="type">char</span> *directory</code></em>,
                                                         <em class="parameter"><code><span class="type">GokKeyboard</span> *first</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="gok-main.html#gok-main-on-window-position-change" title="gok_main_on_window_position_change ()">gok_main_on_window_position_change</a>  (<em class="parameter"><code><span class="type">void</span></code></em>);
<span class="returnvalue">void</span>                <a class="link" href="gok-main.html#gok-main-get-our-window-size" title="gok_main_get_our_window_size ()">gok_main_get_our_window_size</a>        (<em class="parameter"><code><span class="type">gint</span> *pWidth</code></em>,
                                                         <em class="parameter"><code><span class="type">gint</span> *pHeight</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="gok-main.html#gok-main-close" title="gok_main_close ()">gok_main_close</a>                      (<em class="parameter"><code><span class="type">void</span></code></em>);
<span class="returnvalue">void</span>                <a class="link" href="gok-main.html#gok-main-display-error" title="gok_main_display_error ()">gok_main_display_error</a>              (<em class="parameter"><code>const <span class="type">gchar</span> *error</code></em>,
                                                         <em class="parameter"><code>const <span class="type">gchar</span> *detail</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="gok-main.html#gok-main-display-gconf-error" title="gok_main_display_gconf_error ()">gok_main_display_gconf_error</a>        (<em class="parameter"><code><span class="type">void</span></code></em>);
<span class="returnvalue">void</span>                <a class="link" href="gok-main.html#gok-main-app-change-listener" title="gok_main_app_change_listener ()">gok_main_app_change_listener</a>        (<em class="parameter"><code><span class="type">Accessible</span> *pAccessible</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="gok-main.html#gok-main-window-change-listener" title="gok_main_window_change_listener ()">gok_main_window_change_listener</a>     (<em class="parameter"><code><span class="type">Accessible</span> *pAccessible</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="gok-main.html#gok-main-mouse-button-listener" title="gok_main_mouse_button_listener ()">gok_main_mouse_button_listener</a>      (<em class="parameter"><code><span class="type">gint</span> button</code></em>,
                                                         <em class="parameter"><code><span class="type">gint</span> state</code></em>,
                                                         <em class="parameter"><code>long <span class="type">mods</span> Param3</code></em>,
                                                         <em class="parameter"><code>long <span class="type">timestamp</span> Param4</code></em>);
</pre>
</div>
<div class="refsect1">
<a name="gok-main.description"></a><h2>Description</h2>
<p>
</p>
</div>
<div class="refsect1">
<a name="gok-main.details"></a><h2>Details</h2>
<div class="refsect2">
<a name="gok-main-create-window"></a><h3>gok_main_create_window ()</h3>
<pre class="programlisting"><span class="returnvalue">GtkWidget</span> *         gok_main_create_window              (<em class="parameter"><code><span class="type">struct gok_window_realize_data</span> *window_realize_data</code></em>);</pre>
<p>
Creates the window that holds the keyboards.
</p>
<div class="variablelist"><table border="0">
<colgroup><col align="left" valign="top"></col>
</colgroup><tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>window_realize_data</code></em> :</span></p></td>
<td>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> A pointer to the window, NULL if it couldn't be created.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr></hr>
<div class="refsect2">
<a name="gok-main-display-scan"></a><h3>gok_main_display_scan ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>            gok_main_display_scan               (<em class="parameter"><code><span class="type">GokKeyboard</span> *pKeyboard</code></em>,
                                                         <em class="parameter"><code><span class="type">gchar</span> *nameKeyboard</code></em>,
                                                         <em class="parameter"><code><a class="link" href="gok-gok-keyboard.html#KeyboardTypes" title="enum KeyboardTypes"><span class="type">KeyboardTypes</span></a> typeKeyboard</code></em>,
                                                         <em class="parameter"><code><a class="link" href="gok-gok-keyboard.html#KeyboardLayouts" title="enum KeyboardLayouts"><span class="type">KeyboardLayouts</span></a> layout</code></em>,
                                                         <em class="parameter"><code><span class="type">KeyboardShape</span> shape</code></em>);</pre>
<p>
Display a keyboard and allow the user to make selections from it.
The keyboard must have already been created and in the list of keyboards.
The keyboard is specified by name and keyboard type. A name of NULL means 
the first keyboard in the list. 
The previous keyboard is stored on the "branch back stack".
</p>
<div class="variablelist"><table border="0">
<colgroup><col align="left" valign="top"></col>
</colgroup><tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>pKeyboard</code></em> :</span></p></td>
<td>If this is supplied it takes precedence over the name parameter (useful for dynamic keyboards with the same name)
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>nameKeyboard</code></em> :</span></p></td>
<td>Name of the keyboard you want displayed (must be in the list of keyboards.)
# <em class="parameter"><code>typeKeyboard</code></em>: Can be used to describe a runtime keyboard type (e.g. a Menus keyboard)
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>typeKeyboard</code></em> :</span></p></td>
<td>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>layout</code></em> :</span></p></td>
<td>Can be used to specify a particular type of keyboard (Example: center-weighted or upper-left-weighted).
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>shape</code></em> :</span></p></td>
<td>Can be used to specify a particular shape of keyboard (Example: square).
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> TRUE if keyboard is displayed, FALSE if not.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr></hr>
<div class="refsect2">
<a name="gok-main-display-scan-previous"></a><h3>gok_main_display_scan_previous ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>            gok_main_display_scan_previous      (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
<p>
Display and scan the previous keyboard (pulled from the branch-back-stack).
Don't push the current keyboard on the branch-back-stack.
</p>
<div class="variablelist"><table border="0">
<colgroup><col align="left" valign="top"></col>
</colgroup><tbody><tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> TRUE if the previous keyboard was displayed, FALSE if not.
</td>
</tr></tbody>
</table></div>
</div>
<hr></hr>
<div class="refsect2">
<a name="gok-main-display-scan-previous-premade"></a><h3>gok_main_display_scan_previous_premade ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>            gok_main_display_scan_previous_premade
                                                        (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
<p>
Display and scan the first keyboard pulled from the branch-back-stack
that is premade. Delete any dynamic keyboards that are on the stack 'along
the way'. Don't push the current keyboard on the branch-back-stack.
</p>
<div class="variablelist"><table border="0">
<colgroup><col align="left" valign="top"></col>
</colgroup><tbody><tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> TRUE if the previous keyboard was displayed, FALSE if not.
</td>
</tr></tbody>
</table></div>
</div>
<hr></hr>
<div class="refsect2">
<a name="gok-main-display-scan-reset"></a><h3>gok_main_display_scan_reset ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>            gok_main_display_scan_reset         (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
<p>
Display and scan the current keyboard. This should be called after the user settings 
have been changed.
</p>
<div class="variablelist"><table border="0">
<colgroup><col align="left" valign="top"></col>
</colgroup><tbody><tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> TRUE if the keyboard was displayed, FALSE if not.
</td>
</tr></tbody>
</table></div>
</div>
<hr></hr>
<div class="refsect2">
<a name="gok-main-ds"></a><h3>gok_main_ds ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>            gok_main_ds                         (<em class="parameter"><code><span class="type">GokKeyboard</span> *pKeyboard</code></em>);</pre>
<p>
Does the actual work of displaying and scanning the keyboard.
</p>
<div class="variablelist"><table border="0">
<colgroup><col align="left" valign="top"></col>
</colgroup><tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>pKeyboard</code></em> :</span></p></td>
<td>Pointer to the keyboard that will be displayed and scanned.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> TRUE if the keyboard was displayed, FALSE if not.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr></hr>
<div class="refsect2">
<a name="gok-main-get-first-keyboard"></a><h3>gok_main_get_first_keyboard ()</h3>
<pre class="programlisting"><span class="returnvalue">GokKeyboard</span> *       gok_main_get_first_keyboard         (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
<p>
Accessor function.
</p>
<div class="variablelist"><table border="0">
<colgroup><col align="left" valign="top"></col>
</colgroup><tbody><tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> A pointer to the first keyboard in the list of keyboards.
</td>
</tr></tbody>
</table></div>
</div>
<hr></hr>
<div class="refsect2">
<a name="gok-main-set-first-keyboard"></a><h3>gok_main_set_first_keyboard ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                gok_main_set_first_keyboard         (<em class="parameter"><code><span class="type">GokKeyboard</span> *pKeyboard</code></em>);</pre>
<p>
Sets the first keyboard in the list of keyboards.
</p>
<div class="variablelist"><table border="0">
<colgroup><col align="left" valign="top"></col>
</colgroup><tbody><tr>
<td><p><span class="term"><em class="parameter"><code>pKeyboard</code></em> :</span></p></td>
<td>Pointer to the keyboard that will be set as the first keyboard.
</td>
</tr></tbody>
</table></div>
</div>
<hr></hr>
<div class="refsect2">
<a name="gok-main-get-current-keyboard"></a><h3>gok_main_get_current_keyboard ()</h3>
<pre class="programlisting"><span class="returnvalue">GokKeyboard</span> *       gok_main_get_current_keyboard       (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
<p>
Accessor function.
</p>
<div class="variablelist"><table border="0">
<colgroup><col align="left" valign="top"></col>
</colgroup><tbody><tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> A pointer to the keyboard that is currently displayed.
</td>
</tr></tbody>
</table></div>
</div>
<hr></hr>
<div class="refsect2">
<a name="gok-main-get-main-window"></a><h3>gok_main_get_main_window ()</h3>
<pre class="programlisting"><span class="returnvalue">GtkWidget</span> *         gok_main_get_main_window            (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
<p>
Accessor function.
</p>
<div class="variablelist"><table border="0">
<colgroup><col align="left" valign="top"></col>
</colgroup><tbody><tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> A pointer to main GOK window.
</td>
</tr></tbody>
</table></div>
</div>
<hr></hr>
<div class="refsect2">
<a name="gok-main-get-foreground-accessible"></a><h3>gok_main_get_foreground_accessible ()</h3>
<pre class="programlisting"><span class="returnvalue">Accessible</span> *        gok_main_get_foreground_accessible  (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
<p>
</p>
<div class="variablelist"><table border="0">
<colgroup><col align="left" valign="top"></col>
</colgroup><tbody><tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>
</td>
</tr></tbody>
</table></div>
</div>
<hr></hr>
<div class="refsect2">
<a name="gok-main-resize-window"></a><h3>gok_main_resize_window ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                gok_main_resize_window              (<em class="parameter"><code><span class="type">GtkWidget</span> *pWindow</code></em>,
                                                         <em class="parameter"><code><span class="type">GokKeyboard</span> *pKeyboard</code></em>,
                                                         <em class="parameter"><code><span class="type">gint</span> Width</code></em>,
                                                         <em class="parameter"><code><span class="type">gint</span> Height</code></em>);</pre>
<p>
Resizes the main window to the given width and height.
The main window is centered over the the center location in gok_data
The new window will not be resized so it appears off screen.
When the new window is resized it generates 2 calls (configure events)to 
gok_main_store_window_center. If the new window is not centered over the old 
window then m_countIgnoreConfigure will be set to 2 so that the window 
center is not changed.
</p>
<div class="variablelist"><table border="0">
<colgroup><col align="left" valign="top"></col>
</colgroup><tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>pWindow</code></em> :</span></p></td>
<td>Pointer to the main window.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>pKeyboard</code></em> :</span></p></td>
<td>Pointer to the relevant (pending) keyboard (may be NULL).
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>Width</code></em> :</span></p></td>
<td>Width of the new window.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>Height</code></em> :</span></p></td>
<td>Height of the new window.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr></hr>
<div class="refsect2">
<a name="gok-main-store-window-center"></a><h3>gok_main_store_window_center ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                gok_main_store_window_center        (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
<p>
Stores in gok_data the center location of the current keyboard.
</p>
</div>
<hr></hr>
<div class="refsect2">
<a name="gok-main-get-foreground-window-accessible"></a><h3>gok_main_get_foreground_window_accessible ()</h3>
<pre class="programlisting"><span class="returnvalue">Accessible</span> *        gok_main_get_foreground_window_accessible
                                                        (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
<p>
Accessor function.
</p>
<div class="variablelist"><table border="0">
<colgroup><col align="left" valign="top"></col>
</colgroup><tbody><tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> A pointer to foreground window's accessible interface.
</td>
</tr></tbody>
</table></div>
</div>
<hr></hr>
<div class="refsect2">
<a name="gok-main-read-keyboards"></a><h3>gok_main_read_keyboards ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                gok_main_read_keyboards             (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
<p>
Retrieves the name of the directory containing keyboards from GConf.
Then loads the keyboards in that directory using
gok_main_read_keyboards_from_dir.
</p>
</div>
<hr></hr>
<div class="refsect2">
<a name="gok-main-read-keyboards-from-dir"></a><h3>gok_main_read_keyboards_from_dir ()</h3>
<pre class="programlisting"><span class="returnvalue">GokKeyboard</span> *       gok_main_read_keyboards_from_dir    (<em class="parameter"><code>const <span class="type">char</span> *directory</code></em>,
                                                         <em class="parameter"><code><span class="type">GokKeyboard</span> *first</code></em>);</pre>
<p>
Reads all the keyboard files from the given directory or a subdirectory that
is a closer match based on user's language if it exists.
</p>
<div class="variablelist"><table border="0">
<colgroup><col align="left" valign="top"></col>
</colgroup><tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>directory</code></em> :</span></p></td>
<td>The name of the keyboard root directory location.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>first</code></em> :</span></p></td>
<td>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> A pointer to the first keyboard, NULL if no keyboards could be read.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr></hr>
<div class="refsect2">
<a name="gok-main-on-window-position-change"></a><h3>gok_main_on_window_position_change ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                gok_main_on_window_position_change  (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
<p>
</p>
</div>
<hr></hr>
<div class="refsect2">
<a name="gok-main-get-our-window-size"></a><h3>gok_main_get_our_window_size ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                gok_main_get_our_window_size        (<em class="parameter"><code><span class="type">gint</span> *pWidth</code></em>,
                                                         <em class="parameter"><code><span class="type">gint</span> *pHeight</code></em>);</pre>
<p>
Retreives the width and height that we last resized the window to.
</p>
<div class="variablelist"><table border="0">
<colgroup><col align="left" valign="top"></col>
</colgroup><tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>pWidth</code></em> :</span></p></td>
<td>Pointer to a variable that will hold the window width.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>pHeight</code></em> :</span></p></td>
<td>Pointer to a variable that will hold the window height.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr></hr>
<div class="refsect2">
<a name="gok-main-close"></a><h3>gok_main_close ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                gok_main_close                      (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
<p>
Delete any keyboards that were created.
This must be called at the end of the program.
</p>
</div>
<hr></hr>
<div class="refsect2">
<a name="gok-main-display-error"></a><h3>gok_main_display_error ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                gok_main_display_error              (<em class="parameter"><code>const <span class="type">gchar</span> *error</code></em>,
                                                         <em class="parameter"><code>const <span class="type">gchar</span> *detail</code></em>);</pre>
<p>
Displays an error dialog.
</p>
<div class="variablelist"><table border="0">
<colgroup><col align="left" valign="top"></col>
</colgroup><tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em> :</span></p></td>
<td>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>detail</code></em> :</span></p></td>
<td>Error details
</td>
</tr>
</tbody>
</table></div>
</div>
<hr></hr>
<div class="refsect2">
<a name="gok-main-display-gconf-error"></a><h3>gok_main_display_gconf_error ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                gok_main_display_gconf_error        (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
<p>
Displays a gconf error message.
</p>
</div>
<hr></hr>
<div class="refsect2">
<a name="gok-main-app-change-listener"></a><h3>gok_main_app_change_listener ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                gok_main_app_change_listener        (<em class="parameter"><code><span class="type">Accessible</span> *pAccessible</code></em>);</pre>
<p>
</p>
<div class="variablelist"><table border="0">
<colgroup><col align="left" valign="top"></col>
</colgroup><tbody><tr>
<td><p><span class="term"><em class="parameter"><code>pAccessible</code></em> :</span></p></td>
<td>
</td>
</tr></tbody>
</table></div>
</div>
<hr></hr>
<div class="refsect2">
<a name="gok-main-window-change-listener"></a><h3>gok_main_window_change_listener ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                gok_main_window_change_listener     (<em class="parameter"><code><span class="type">Accessible</span> *pAccessible</code></em>);</pre>
<p>
This function is called each time the foreground window changes.
</p>
<div class="variablelist"><table border="0">
<colgroup><col align="left" valign="top"></col>
</colgroup><tbody><tr>
<td><p><span class="term"><em class="parameter"><code>pAccessible</code></em> :</span></p></td>
<td>Pointer to the foreground window's accessible interface.
</td>
</tr></tbody>
</table></div>
</div>
<hr></hr>
<div class="refsect2">
<a name="gok-main-mouse-button-listener"></a><h3>gok_main_mouse_button_listener ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                gok_main_mouse_button_listener      (<em class="parameter"><code><span class="type">gint</span> button</code></em>,
                                                         <em class="parameter"><code><span class="type">gint</span> state</code></em>,
                                                         <em class="parameter"><code>long <span class="type">mods</span> Param3</code></em>,
                                                         <em class="parameter"><code>long <span class="type">timestamp</span> Param4</code></em>);</pre>
<p>
This handler is called each time there is a mouse button event.
</p>
<div class="variablelist"><table border="0">
<colgroup><col align="left" valign="top"></col>
</colgroup><tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>button</code></em> :</span></p></td>
<td>Mouse button number that has changed state.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>state</code></em> :</span></p></td>
<td>State of the button.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>Param3</code></em> :</span></p></td>
<td>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>Param4</code></em> :</span></p></td>
<td>
</td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div><div class="footer">
<hr></hr>
          Generated by GTK-Doc V1.15.1</div></div><div id="footer_art" class="default"> </div></div><div class="clearfix"></div><div id="footer_grass">   </div><div id="footer"><div class="container_12"><div class="links grid_9"><div class="menu-footer-1-container"><ul id="menu-footer-1" class="menu"><li id="menu-item-88" class="menu-item menu-item-type-custom menu-item-home menu-item-88"><a href="https://www.gnome.org/">The GNOME Project</a><ul class="sub-menu"><li id="menu-item-89" class="menu-item menu-item-type-post_type menu-item-89"><a href="https://www.gnome.org/about/">About Us</a></li><li id="menu-item-90" class="menu-item menu-item-type-custom menu-item-90"><a href="https://www.gnome.org/get-involved/">Get Involved</a></li><li id="menu-item-91" class="menu-item menu-item-type-custom menu-item-91"><a href="https://www.gnome.org/teams/">Teams</a></li><li id="menu-item-92" class="menu-item menu-item-type-custom menu-item-92"><a href="https://foundation.gnome.org">The GNOME Foundation</a></li><li><a href="https://www.gnome.org/support-gnome/">Support GNOME</a></li><li><a href="https://www.gnome.org/contact/">Contact</a></li></ul></li></ul></div><div class="menu-footer-2-container"><ul id="menu-footer-2" class="menu"><li id="menu-item-99" class="menu-item menu-item-type-post_type current-menu-item page_item page-item-20 current_page_item menu-item-99"><a href="gok-main.html#">Resources</a><ul class="sub-menu"><li><a href="https://help.gnome.org">Documentation</a></li><li><a href="https://wiki.gnome.org">Wiki</a></li><li><a href="https://mail.gnome.org/mailman/listinfo">Mailing Lists</a></li><li><a href="https://wiki.gnome.org/GnomeIrcChannels">IRC Channels</a></li><li><a href="https://gitlab.gnome.org/">Bug Tracker</a></li><li><a href="https://gitlab.gnome.org/">Development Code</a></li><li><a href="https://wiki.gnome.org/Jhbuild">Build Tool</a></li></ul></li></ul></div><div class="menu-footer-4-container"><ul id="menu-footer-4" class="menu"><li id="menu-item-104" class="menu-item menu-item-type-custom menu-item-104"><a href="http://www.gnome.org/news/">News</a><ul class="sub-menu"><li><a href="https://www.gnome.org/start/stable">Latest Release</a></li><li><a href="https://planet.gnome.org">Planet GNOME</a></li><li><a href="https://news.gnome.org">Development News</a></li><li><a href="https://twitter.com/gnome">Twitter</a></li></ul></li></ul></div></div><div class="links grid_3 right"><div><ul class="menu available_languages"><li><strong>This website is available in many languages</strong><ul class="sub-menu"><li><a href="../../languages.html" title="Switching Language">Switch Language</a></li></ul></li></ul><script type="text/javascript" src="../../js/language.js"></script></div></div><div id="footnotes" class="grid_9">
                Copyright © 2005‒2014 <strong class="gnome_logo">The GNOME Project</strong><br></br><small>Optimised for standards. Hosted by <a href="http://redhat.com">Red Hat</a>.</small></div><div class="clear"></div></div></div><script type="text/javascript">
$(document).ready(function() {
    // Get browser
    $.each($.browser, function(i) {
        $('body').addClass(i);
        return false;
    });

    // Get OS and add it as class to body tag, this then allows forcing some
    // customisation in the CSS rules.
    var match = navigator.userAgent.toLowerCase().match(/(win|mac|linux)/);
    if (match) {
        $('body').addClass(match[0]);
    }
});
</script><script type="text/javascript">
      var _paq = _paq || [];
      _paq.push(['disableCookies']);
      _paq.push(["trackPageView"]);
      _paq.push(["enableLinkTracking"]);

      (function() {
        var u=(("https:" == document.location.protocol) ? "https" : "http") + "://webstats.gnome.org/";
        _paq.push(["setTrackerUrl", u+"piwik.php"]);
        _paq.push(["setSiteId", "6"]);
        var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";
        g.defer=true; g.async=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
      })();
    </script></body></html>
