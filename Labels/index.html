<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:html="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="text/html; charset=utf-8"></meta><link rel="stylesheet" type="text/css" media="all" href="https://static.gnome.org/css/grass-theme-style.css"></link><link rel="stylesheet" type="text/css" media="all" href="../skin/lgo2010.css"></link><link rel="icon" type="image/png" href="../skin/gnome-16.png"></link><link rel="SHORTCUT ICON" type="image/png" href="../skin/gnome-16.png"></link><link rel="search" type="application/opensearchdescription+xml" href="../gnome-library-search.xml" title="GNOME Library Search"></link><link rel="stylesheet" href="../skin/moinmoin.css" type="text/css"></link><title>HowDoI/Labels - GNOME Wiki!</title><link href="https://wiki.gnome.org/action/rss_rc/HowDoI/Labels?diffs=1&amp;show_att=1&amp;action=rss_rc&amp;unique=0&amp;page=HowDoI%2FLabels&amp;ddiffs=1" rel="alternate" title="GNOME Wiki!: HowDoI/Labels" type="application/rss+xml"></link><link href="https://wiki.gnome.org/Home" rel="Start"></link><link href="https://wiki.gnome.org/action/raw/HowDoI/Labels?action=raw" rel="Alternate" title="Wiki Markup"></link><link href="https://wiki.gnome.org/action/print/HowDoI/Labels?action=print" media="print" rel="Alternate" title="Print View"></link><link href="https://wiki.gnome.org/HowDoI" rel="Up"></link><link href="https://wiki.gnome.org/HowDoI/Labels?action=AttachFile&amp;do=view&amp;target=ellip1.png" rel="Appendix" title="ellip1.png"></link><link href="https://wiki.gnome.org/HowDoI/Labels?action=AttachFile&amp;do=view&amp;target=ellip2.png" rel="Appendix" title="ellip2.png"></link><link href="https://wiki.gnome.org/HowDoI/Labels?action=AttachFile&amp;do=view&amp;target=ellip3.png" rel="Appendix" title="ellip3.png"></link><link href="https://wiki.gnome.org/HowDoI/Labels?action=AttachFile&amp;do=view&amp;target=ellip4.png" rel="Appendix" title="ellip4.png"></link><link href="https://wiki.gnome.org/HowDoI/Labels?action=AttachFile&amp;do=view&amp;target=ellip5.png" rel="Appendix" title="ellip5.png"></link><link href="https://wiki.gnome.org/HowDoI/Labels?action=AttachFile&amp;do=view&amp;target=halfwrapped-label.png" rel="Appendix" title="halfwrapped-label.png"></link><link href="https://wiki.gnome.org/HowDoI/Labels?action=AttachFile&amp;do=view&amp;target=label-align-rewrap.png" rel="Appendix" title="label-align-rewrap.png"></link><link href="https://wiki.gnome.org/HowDoI/Labels?action=AttachFile&amp;do=view&amp;target=manually-wrapped-ellipsized.png" rel="Appendix" title="manually-wrapped-ellipsized.png"></link><link href="https://wiki.gnome.org/HowDoI/Labels?action=AttachFile&amp;do=view&amp;target=manually-wrapped.png" rel="Appendix" title="manually-wrapped.png"></link><link href="https://wiki.gnome.org/HowDoI/Labels?action=AttachFile&amp;do=view&amp;target=noresizable-label-fixed.png" rel="Appendix" title="noresizable-label-fixed.png"></link><link href="https://wiki.gnome.org/HowDoI/Labels?action=AttachFile&amp;do=view&amp;target=noresizable-wrapping-label.png" rel="Appendix" title="noresizable-wrapping-label.png"></link><link href="https://wiki.gnome.org/HowDoI/Labels?action=AttachFile&amp;do=view&amp;target=resizable-label-fixed.png" rel="Appendix" title="resizable-label-fixed.png"></link><link href="https://wiki.gnome.org/HowDoI/Labels?action=AttachFile&amp;do=view&amp;target=resizable-wrapping-label.png" rel="Appendix" title="resizable-wrapping-label.png"></link><link href="https://wiki.gnome.org/HowDoI/Labels?action=AttachFile&amp;do=view&amp;target=three-lines-ellipsized.png" rel="Appendix" title="three-lines-ellipsized.png"></link><link href="https://wiki.gnome.org/HowDoI/Labels?action=AttachFile&amp;do=view&amp;target=unwrapped-label.png" rel="Appendix" title="unwrapped-label.png"></link><link href="https://wiki.gnome.org/HowDoI/Labels?action=AttachFile&amp;do=view&amp;target=wrapped-label.png" rel="Appendix" title="wrapped-label.png"></link><link href="https://wiki.gnome.org/FindPage" rel="Search"></link><link href="https://wiki.gnome.org/TitleIndex" rel="Index"></link><link href="https://wiki.gnome.org/WordIndex" rel="Glossary"></link><link href="https://wiki.gnome.org/HelpOnFormatting" rel="Help"></link><link rel="stylesheet" type="text/css" media="all" href="../skin/jquery.autocomplete.css"></link><link rel="stylesheet" type="text/css" media="all" href="../skin/960_24_col.css"></link><script type="text/javascript" src="../js/jquery.js"></script><script type="text/javascript" src="https://developer-old.gnome.org/js/jquery.jcarousel.min.js"></script><script type="text/javascript" src="../js/jquery.autocomplete.js"></script></head><body><div id="accessibility_access"><ul><li><a href="index.html#container">Go to page content</a></li><li><a href="index.html#top_bar">Go to main menu</a></li><li><a href="index.html#s" onclick="$('#s').focus(); return false;">Go to the search field</a></li></ul></div><div id="global_domain_bar"><div class="maxwidth"><div class="tab"><a class="root" href="https://www.gnome.org/">GNOME.org</a></div></div></div><div id="header" class="container_12"><div id="logo" class="grid_3"><a title="Go to home page" href="../index.html"><img alt="GNOME: The Free Software Desktop Project" src="../skin/gnome-logo-devcenter.png"></img></a></div><div id="top_bar" class="grid_9"><div class="left"><div class="menu-globalnav-container"><ul id="menu-globalnav" class="menu"><li class="menu-item menu-item-type-post_type menu-item-6"><a href="../about/index.html">About</a></li><li class="menu-item menu-item-type-post_type menu-item-23"><a href="https://help.gnome.org/users/">Users</a></li><li class="menu-item menu-item-type-post_type menu-item-40"><a href="https://help.gnome.org/admin/">Administrators</a></li><li class="current-menu-item"><a href="https://developer.gnome.org/">Developers</a></li></ul></div></div><div class="right"><form role="search" method="get" id="searchform" action="https://developer-old.gnome.org/search"><div><label class="hidden" for="q">Search:
                        </label><input type="text" value="" name="q" id="s" placeholder="Search"></input></div></form></div></div></div><div class="clearfix"></div><div id="container" class="content-id"><div class="content"><div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><p class="line867"></p><div class="table-of-contents"><p class="table-of-contents-heading">Contents</p><ol><li>
<a href="index.html#Labels">Labels</a><ol><li>
<a href="index.html#Wrapping_labels">Wrapping labels</a></li><li>
<a href="index.html#Labels_in_non-resizable_windows">Labels in non-resizable windows</a></li><li>
<a href="index.html#Labels_in_resizable_windows">Labels in resizable windows</a></li><li>
<a href="index.html#Aligning_labels_with_other_widgets">Aligning labels with other widgets</a></li><li>
<a href="index.html#Fixed_number_of_lines">Fixed number of lines</a></li><li>
<a href="index.html#Ellipsized_labels">Ellipsized labels</a></li></ol></li></ol></div> <span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><p class="line867"><img alt="/!\" height="16" src="https://wiki.gnome.org/gnome/gnome-responsive/img/dialog-warning-symbolic.png" title="/!\" width="16"></img> Note that this page was written for GTK3. <span class="anchor" id="line-4"></span>The contents largely still applies to GTK4, although some details may have changed. <img alt="/!\" height="16" src="https://wiki.gnome.org/gnome/gnome-responsive/img/dialog-warning-symbolic.png" title="/!\" width="16"></img> <span class="anchor" id="line-5"></span><span class="anchor" id="line-6"></span></p><p class="line867">
</p><h1 id="Labels">Labels</h1>
<span class="anchor" id="line-7"></span><span class="anchor" id="line-8"></span><p class="line867">GtkLabel is a workhorse widget that occurs multiple times in any average application window. <span class="anchor" id="line-9"></span>This page is mainly concerned with two aspects of labels: Controlling how long, wrapping labels interact with window size, and ellipsization.  <span class="anchor" id="line-10"></span><span class="anchor" id="line-11"></span></p><p class="line867">
</p><h2 id="Wrapping_labels">Wrapping labels</h2>
<span class="anchor" id="line-12"></span><span class="anchor" id="line-13"></span><p class="line874">Two properties control the wrapping of the labels text: <span class="anchor" id="line-14"></span><span class="anchor" id="line-15"></span></p><p class="line867"><span class="anchor" id="line-16"></span><span class="anchor" id="line-17"></span></p><pre><span class="anchor" id="line-1"></span>  GtkLabel::wrap-mode: Controls whether to wrap only at word boundaries, or anywhere</pre><span class="anchor" id="line-18"></span><span class="anchor" id="line-19"></span><p class="line874">and  <span class="anchor" id="line-20"></span><span class="anchor" id="line-21"></span></p><p class="line867"><span class="anchor" id="line-22"></span><span class="anchor" id="line-23"></span></p><pre><span class="anchor" id="line-1-1"></span>  GtkLabel::wrap: If set, wrap lines if the text becomes too wide</pre><span class="anchor" id="line-24"></span><span class="anchor" id="line-25"></span><p class="line874">One normally only sets the wrap property to TRUE. It is safe to leave the wrap-mode property at its default value, PANGO_WRAP_WORD. <span class="anchor" id="line-26"></span><span class="anchor" id="line-27"></span></p><p class="line874">When wrapping is enabled, the same label can appear with multiple different height/width combinations, <span class="anchor" id="line-28"></span>as can be seen in this example: <span class="anchor" id="line-29"></span><span class="anchor" id="line-30"></span></p><p class="line867"><img alt="unwrapped-label.png" class="attachment" src="https://wiki.gnome.org/HowDoI/Labels?action=AttachFile&amp;do=get&amp;target=unwrapped-label.png" title="unwrapped-label.png"></img> <span class="anchor" id="line-31"></span><span class="anchor" id="line-32"></span></p><p class="line867"><img alt="halfwrapped-label.png" class="attachment" src="https://wiki.gnome.org/HowDoI/Labels?action=AttachFile&amp;do=get&amp;target=halfwrapped-label.png" title="halfwrapped-label.png"></img> <span class="anchor" id="line-33"></span><span class="anchor" id="line-34"></span></p><p class="line867"><img alt="wrapped-label.png" class="attachment" src="https://wiki.gnome.org/HowDoI/Labels?action=AttachFile&amp;do=get&amp;target=wrapped-label.png" title="wrapped-label.png"></img> <span class="anchor" id="line-35"></span><span class="anchor" id="line-36"></span></p><p class="line874">How far the label actually wraps depends on the context in which it is used, and on the geometry management of <span class="anchor" id="line-37"></span>its parent container. There are two properties that allow you to influence the amount of wrapping: <span class="anchor" id="line-38"></span><span class="anchor" id="line-39"></span></p><p class="line867"><span class="anchor" id="line-40"></span><span class="anchor" id="line-41"></span></p><pre><span class="anchor" id="line-1-2"></span>  GtkLabel::width-chars: Specifies the minimum width of a wrapping label</pre><span class="anchor" id="line-42"></span><span class="anchor" id="line-43"></span><p class="line874">and <span class="anchor" id="line-44"></span><span class="anchor" id="line-45"></span></p><p class="line867"><span class="anchor" id="line-46"></span><span class="anchor" id="line-47"></span></p><pre><span class="anchor" id="line-1-3"></span>  GtkLabel::max-width-chars: Specified the natural width of a wrapping label </pre><span class="anchor" id="line-48"></span><span class="anchor" id="line-49"></span><p class="line874">Note that both of these properties are using characters as unit. They are converted to pixels using the average character width of the current font. <span class="anchor" id="line-50"></span><span class="anchor" id="line-51"></span></p><p class="line867">
</p><h2 id="Labels_in_non-resizable_windows">Labels in non-resizable windows</h2>
<span class="anchor" id="line-52"></span><span class="anchor" id="line-53"></span><p class="line874">When putting a wrapping label into a non-resizable window, this is the typical result: <span class="anchor" id="line-54"></span><span class="anchor" id="line-55"></span></p><p class="line867"><img alt="noresizable-wrapping-label.png" class="attachment" src="https://wiki.gnome.org/HowDoI/Labels?action=AttachFile&amp;do=get&amp;target=noresizable-wrapping-label.png" title="noresizable-wrapping-label.png"></img> <span class="anchor" id="line-56"></span><span class="anchor" id="line-57"></span></p><p class="line874">This happens even if the label is marked as wrapped. The window sizes itself to give the label its natural width. Therefore, to fix this situation, you need to set max-width-chars to give the label a smaller natural width. <span class="anchor" id="line-58"></span><span class="anchor" id="line-59"></span></p><p class="line867"><span class="anchor" id="line-60"></span><span class="anchor" id="line-61"></span><span class="anchor" id="line-62"></span><span class="anchor" id="line-63"></span><span class="anchor" id="line-64"></span><span class="anchor" id="line-65"></span><span class="anchor" id="line-66"></span><span class="anchor" id="line-67"></span><span class="anchor" id="line-68"></span><span class="anchor" id="line-69"></span><span class="anchor" id="line-70"></span><span class="anchor" id="line-1-1"></span></p><div class="highlight c"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-c2224ff2db0ee076b85c35aaf7db537099c1b4c4" lang="en"><span class="line"><span class="anchor" id="line-1-2"></span>  <span class="ID">win</span> = <span class="ID">gtk_window_new</span> (<span class="ID">GTK_WINDOW_TOPLEVEL</span>);</span>
<span class="line"><span class="anchor" id="line-2-1"></span>  <span class="ID">gtk_window_set_title</span> (<span class="ID">GTK_WINDOW</span> (<span class="ID">win</span>), <span class="String">"</span><span class="String">Window</span><span class="String">"</span>);</span>
<span class="line"><span class="anchor" id="line-3-1"></span>  <span class="ID">gtk_window_set_resizable</span> (<span class="ID">GTK_WINDOW</span> (<span class="ID">win</span>), <span class="ID">FALSE</span>);</span>
<span class="line"><span class="anchor" id="line-4-1"></span>  <span class="ID">label</span> = <span class="ID">gtk_label_new</span> (<span class="String">"</span><span class="String">&lt;big&gt;This is a long text that might need to be wrapped&lt;/big&gt;</span><span class="String">"</span>);</span>
<span class="line"><span class="anchor" id="line-5-1"></span>  <span class="ID">gtk_label_set_use_markup</span> (<span class="ID">GTK_LABEL</span> (<span class="ID">label</span>), <span class="ID">TRUE</span>);</span>
<span class="line"><span class="anchor" id="line-6-1"></span>  <span class="ID">g_object_set</span> (<span class="ID">label</span>, <span class="String">"</span><span class="String">margin</span><span class="String">"</span>, <span class="Number">20</span>, <span class="ResWord">NULL</span>);</span>
<span class="line"><span class="anchor" id="line-7-1"></span>  <span class="ID">gtk_container_add</span> (<span class="ID">GTK_CONTAINER</span> (<span class="ID">win</span>), <span class="ID">label</span>);</span>
<span class="line"><span class="anchor" id="line-8-1"></span></span>
<span class="line"><span class="anchor" id="line-9-1"></span>  <span class="ID">gtk_label_set_line_wrap</span> (<span class="ID">GTK_LABEL</span> (<span class="ID">label</span>), <span class="ID">TRUE</span>);</span>
<span class="line"><span class="anchor" id="line-10-1"></span>  <span class="ID">gtk_label_set_max_width_chars</span> (<span class="ID">GTK_LABEL</span> (<span class="ID">label</span>), <span class="Number">30</span>);</span>
</pre></div></div><span class="anchor" id="line-71"></span><span class="anchor" id="line-72"></span><p class="line874">And the result is this: <span class="anchor" id="line-73"></span><span class="anchor" id="line-74"></span></p><p class="line867"><img alt="noresizable-label-fixed.png" class="attachment" src="https://wiki.gnome.org/HowDoI/Labels?action=AttachFile&amp;do=get&amp;target=noresizable-label-fixed.png" title="noresizable-label-fixed.png"></img> <span class="anchor" id="line-75"></span><span class="anchor" id="line-76"></span></p><p class="line867">
</p><h2 id="Labels_in_resizable_windows">Labels in resizable windows</h2>
<span class="anchor" id="line-77"></span><span class="anchor" id="line-78"></span><p class="line874">When putting a wrapping label in a resizable window, the typical result is this: <span class="anchor" id="line-79"></span><span class="anchor" id="line-80"></span></p><p class="line867"><img alt="resizable-wrapping-label.png" class="attachment" src="https://wiki.gnome.org/HowDoI/Labels?action=AttachFile&amp;do=get&amp;target=resizable-wrapping-label.png" title="resizable-wrapping-label.png"></img> <span class="anchor" id="line-81"></span><span class="anchor" id="line-82"></span></p><p class="line874">What is happening here is that the window sizes itself to accommodate the height of the label when fully wrapped, even though the label fits unwrapped. To improve this situation, we can set width-chars on the label to prevent the fully wrapped state from being considered when the window determines its height. In addition, we can set the default width of the window to something smaller than the width of the fully unwrapped label. Note that the default width is specified in pixels. <span class="anchor" id="line-83"></span><span class="anchor" id="line-84"></span></p><p class="line867"><span class="anchor" id="line-85"></span><span class="anchor" id="line-86"></span><span class="anchor" id="line-87"></span><span class="anchor" id="line-88"></span><span class="anchor" id="line-89"></span><span class="anchor" id="line-90"></span><span class="anchor" id="line-91"></span><span class="anchor" id="line-92"></span><span class="anchor" id="line-93"></span><span class="anchor" id="line-94"></span><span class="anchor" id="line-95"></span><span class="anchor" id="line-96"></span><span class="anchor" id="line-97"></span><span class="anchor" id="line-1-3"></span></p><div class="highlight c"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-f908bb8365fafbe4f3f6558143f00c956494b1c2" lang="en"><span class="line"><span class="anchor" id="line-1-4"></span>  <span class="ID">win</span> = <span class="ID">gtk_window_new</span> (<span class="ID">GTK_WINDOW_TOPLEVEL</span>);</span>
<span class="line"><span class="anchor" id="line-2-2"></span>  <span class="ID">gtk_window_set_title</span> (<span class="ID">GTK_WINDOW</span> (<span class="ID">win</span>), <span class="String">"</span><span class="String">Window</span><span class="String">"</span>);</span>
<span class="line"><span class="anchor" id="line-3-2"></span>  <span class="ID">gtk_window_set_resizable</span> (<span class="ID">GTK_WINDOW</span> (<span class="ID">win</span>), <span class="ID">TRUE</span>);</span>
<span class="line"><span class="anchor" id="line-4-2"></span>  <span class="ID">label</span> = <span class="ID">gtk_label_new</span> (<span class="String">"</span><span class="String">&lt;big&gt;This is a long text that might need to be wrapped&lt;/big&gt;</span><span class="String">"</span>);</span>
<span class="line"><span class="anchor" id="line-5-2"></span>  <span class="ID">gtk_label_set_use_markup</span> (<span class="ID">GTK_LABEL</span> (<span class="ID">label</span>), <span class="ID">TRUE</span>);</span>
<span class="line"><span class="anchor" id="line-6-2"></span>  <span class="ID">g_object_set</span> (<span class="ID">label</span>, <span class="String">"</span><span class="String">margin</span><span class="String">"</span>, <span class="Number">20</span>, <span class="ResWord">NULL</span>);</span>
<span class="line"><span class="anchor" id="line-7-2"></span>  <span class="ID">gtk_container_add</span> (<span class="ID">GTK_CONTAINER</span> (<span class="ID">win</span>), <span class="ID">label</span>);</span>
<span class="line"><span class="anchor" id="line-8-2"></span></span>
<span class="line"><span class="anchor" id="line-9-2"></span>  <span class="ID">gtk_label_set_line_wrap</span> (<span class="ID">GTK_LABEL</span> (<span class="ID">label</span>), <span class="ID">TRUE</span>);</span>
<span class="line"><span class="anchor" id="line-10-2"></span></span>
<span class="line"><span class="anchor" id="line-11-1"></span>  <span class="ID">gtk_window_set_default_size</span> (<span class="ID">GTK_WINDOW</span> (<span class="ID">win</span>), <span class="Number">200</span>, -<span class="Number">1</span>);</span>
<span class="line"><span class="anchor" id="line-12-1"></span>  <span class="ID">gtk_label_set_width_chars</span> (<span class="ID">GTK_LABEL</span> (<span class="ID">label</span>), <span class="Number">30</span>);</span>
</pre></div></div><span class="anchor" id="line-98"></span><span class="anchor" id="line-99"></span><p class="line874">With these changes, the window comes up like this: <span class="anchor" id="line-100"></span><span class="anchor" id="line-101"></span></p><p class="line867"><img alt="resizable-label-fixed.png" class="attachment" src="https://wiki.gnome.org/HowDoI/Labels?action=AttachFile&amp;do=get&amp;target=resizable-label-fixed.png" title="resizable-label-fixed.png"></img> <span class="anchor" id="line-102"></span><span class="anchor" id="line-103"></span></p><p class="line867">
</p><h2 id="Aligning_labels_with_other_widgets">Aligning labels with other widgets</h2>
<span class="anchor" id="line-104"></span><span class="anchor" id="line-105"></span><p class="line874">Sometimes a label needs to wrap, but should fill the width that is provided by another widget. Out of the box, there is no good way to do this, since GTK+ doesn't have a way to say "don't grow larger than this other widget". Most of the time, it <span class="anchor" id="line-106"></span>is possible to arrange this with a combination of the following: <span class="anchor" id="line-107"></span></p><ul><li>Put the label in the same container as the other widget, so they both get allocated the same width <span class="anchor" id="line-108"></span></li><li>Set the labels max-width-chars to a reasonable minimum line width (note that choosing a too small value here will force your window to be tall) <span class="anchor" id="line-109"></span></li><li>Set the label to wrap, wrap-mode = words <span class="anchor" id="line-110"></span></li><li>Set the label to have halign = fill, xalign = 0.0 <span class="anchor" id="line-111"></span><span class="anchor" id="line-112"></span></li></ul><p class="line867"><img alt="label-align-rewrap.png" class="attachment" src="https://wiki.gnome.org/HowDoI/Labels?action=AttachFile&amp;do=get&amp;target=label-align-rewrap.png" title="label-align-rewrap.png"></img> <span class="anchor" id="line-113"></span><span class="anchor" id="line-114"></span></p><p class="line867">
</p><h2 id="Fixed_number_of_lines">Fixed number of lines</h2>
<span class="anchor" id="line-115"></span><span class="anchor" id="line-116"></span><p class="line874">Sometimes it is necessary to keep text to a certain number of lines. One approach is to turn off automatic wrapping and rely on inserting line breaks in the text manually. <span class="anchor" id="line-117"></span><span class="anchor" id="line-118"></span></p><p class="line867"><span class="anchor" id="line-119"></span><span class="anchor" id="line-120"></span><span class="anchor" id="line-1-5"></span></p><div class="highlight c"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-ae2ce5fa26da6b458600d4f84ef8fb71f7b059b9" lang="en"><span class="line"><span class="anchor" id="line-1-6"></span>  <span class="ID">label</span> = <span class="ID">gtk_label_new</span> (<span class="String">"</span><span class="String">&lt;big&gt;This is a long text</span><span class="SPChar">\n</span><span class="String">that might need</span><span class="SPChar">\n</span><span class="String">to be wrapped&lt;/big&gt;</span><span class="String">"</span>);</span>
</pre></div></div><span class="anchor" id="line-121"></span><span class="anchor" id="line-122"></span><p class="line874">This can be problematic because you have to balance line length yourself, and translators may inadvertently change the number of lines by removing or adding line breaks in their translations. <span class="anchor" id="line-123"></span><span class="anchor" id="line-124"></span></p><p class="line867"><img alt="manually-wrapped.png" class="attachment" src="https://wiki.gnome.org/HowDoI/Labels?action=AttachFile&amp;do=get&amp;target=manually-wrapped.png" title="manually-wrapped.png"></img> <span class="anchor" id="line-125"></span><span class="anchor" id="line-126"></span></p><p class="line874">Also, text with fixed breaks is ellipsized in each line, which may look unexpected: <span class="anchor" id="line-127"></span><span class="anchor" id="line-128"></span></p><p class="line867"><img alt="manually-wrapped-ellipsized.png" class="attachment" src="https://wiki.gnome.org/HowDoI/Labels?action=AttachFile&amp;do=get&amp;target=manually-wrapped-ellipsized.png" title="manually-wrapped-ellipsized.png"></img> <span class="anchor" id="line-129"></span><span class="anchor" id="line-130"></span></p><p class="line874">A better alternative is to go back to automatic wrapping, and tell GTK+ how many lines of text you want, using gtk_label_set_lines(): <span class="anchor" id="line-131"></span><span class="anchor" id="line-132"></span></p><p class="line867"><span class="anchor" id="line-133"></span><span class="anchor" id="line-134"></span><span class="anchor" id="line-135"></span><span class="anchor" id="line-136"></span><span class="anchor" id="line-137"></span><span class="anchor" id="line-138"></span><span class="anchor" id="line-1-7"></span></p><div class="highlight c"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-5d5998f05bd9e94a9f0561ced347785be1152c78" lang="en"><span class="line"><span class="anchor" id="line-1-8"></span>  <span class="ID">label</span> = <span class="ID">gtk_label_new</span> (<span class="String">"</span><span class="String">&lt;big&gt;This is a long text that might need to be wrapped&lt;/big&gt;</span><span class="String">"</span>);</span>
<span class="line"><span class="anchor" id="line-2-3"></span>  <span class="ID">gtk_label_set_use_markup</span> (<span class="ID">GTK_LABEL</span> (<span class="ID">label</span>), <span class="ID">TRUE</span>);</span>
<span class="line"><span class="anchor" id="line-3-3"></span>  <span class="ID">gtk_label_set_line_wrap</span> (<span class="ID">GTK_LABEL</span> (<span class="ID">label</span>), <span class="ID">TRUE</span>);</span>
<span class="line"><span class="anchor" id="line-4-3"></span>  <span class="ID">gtk_label_set_ellipsize</span> (<span class="ID">GTK_LABEL</span> (<span class="ID">label</span>), <span class="ID">PANGO_ELLIPSIZE_END</span>);</span>
<span class="line"><span class="anchor" id="line-5-3"></span>  <span class="ID">gtk_label_set_lines</span> (<span class="ID">GTK_LABEL</span> (<span class="ID">label</span>), <span class="Number">3</span>);</span>
</pre></div></div><span class="anchor" id="line-139"></span><span class="anchor" id="line-140"></span><p class="line862">With this configuration, <a class="nonexistent" href="https://wiki.gnome.org/GtkLabel">GtkLabel</a> will automatically wrap lines to the right width and only ellipsize the last one, if needed: <span class="anchor" id="line-141"></span><span class="anchor" id="line-142"></span></p><p class="line867"><img alt="three-lines-ellipsized.png" class="attachment" src="https://wiki.gnome.org/HowDoI/Labels?action=AttachFile&amp;do=get&amp;target=three-lines-ellipsized.png" title="three-lines-ellipsized.png"></img> <span class="anchor" id="line-143"></span><span class="anchor" id="line-144"></span><span class="anchor" id="line-145"></span></p><p class="line867">
</p><h2 id="Ellipsized_labels">Ellipsized labels</h2>
<span class="anchor" id="line-146"></span><span class="anchor" id="line-147"></span><p class="line874">Sometimes, it is convenient to only show as much of text as fits, and indicate that there is more by using an ellipsis (…). <span class="anchor" id="line-148"></span><a class="nonexistent" href="https://wiki.gnome.org/GtkLabel">GtkLabel</a> supports this with this property: <span class="anchor" id="line-149"></span><span class="anchor" id="line-150"></span></p><p class="line867"><span class="anchor" id="line-151"></span><span class="anchor" id="line-152"></span></p><pre><span class="anchor" id="line-1-4"></span>  GtkLabel::ellipsize: The preferred place to ellipsize the string</pre><span class="anchor" id="line-153"></span><span class="anchor" id="line-154"></span><p class="line874">Setting it to a value other than the default PANGO_ELLIPSIZE_NONE enables ellipsization. For the usual ellipsization at the end, use PANGO_ELLIPSIZE_END. <span class="anchor" id="line-155"></span><span class="anchor" id="line-156"></span></p><p class="line874">Here is a gjs example showing a label with ellipsization turned on: <span class="anchor" id="line-157"></span><span class="anchor" id="line-158"></span></p><p class="line867"><span class="anchor" id="line-159"></span><span class="anchor" id="line-160"></span><span class="anchor" id="line-161"></span><span class="anchor" id="line-162"></span><span class="anchor" id="line-163"></span><span class="anchor" id="line-164"></span><span class="anchor" id="line-165"></span><span class="anchor" id="line-166"></span><span class="anchor" id="line-167"></span><span class="anchor" id="line-168"></span><span class="anchor" id="line-169"></span><span class="anchor" id="line-170"></span><span class="anchor" id="line-171"></span><span class="anchor" id="line-172"></span><span class="anchor" id="line-173"></span><span class="anchor" id="line-174"></span><span class="anchor" id="line-175"></span><span class="anchor" id="line-176"></span><span class="anchor" id="line-177"></span><span class="anchor" id="line-178"></span></p><pre><span class="anchor" id="line-1-5"></span>const Gtk = imports.gi.Gtk;
<span class="anchor" id="line-2"></span>const Pango = imports.gi.Pango;
<span class="anchor" id="line-3"></span>
<span class="anchor" id="line-4"></span>Gtk.init(null);
<span class="anchor" id="line-5"></span>
<span class="anchor" id="line-6"></span>let win = new Gtk.Window({ type: Gtk.WindowType.TOPLEVEL });
<span class="anchor" id="line-7"></span>let box = new Gtk.Box({ orientation: Gtk.Orientation.HORIZONTAL });
<span class="anchor" id="line-8"></span>
<span class="anchor" id="line-9"></span>win.set_title("Window");
<span class="anchor" id="line-10"></span>win.set_border_width(10);
<span class="anchor" id="line-11"></span>
<span class="anchor" id="line-12"></span>let label = new Gtk.Label({ label: "This is a long text that might need to get ellipsized" });
<span class="anchor" id="line-13"></span>label.set_ellipsize(Pango.EllipsizeMode.END);
<span class="anchor" id="line-14"></span>
<span class="anchor" id="line-15"></span>win.add(box);
<span class="anchor" id="line-16"></span>box.add(label);
<span class="anchor" id="line-17"></span>
<span class="anchor" id="line-18"></span>win.show_all();
<span class="anchor" id="line-19"></span>Gtk.main();</pre><span class="anchor" id="line-179"></span><span class="anchor" id="line-180"></span><p class="line874">With this, the label will still come up like this: <span class="anchor" id="line-181"></span><span class="anchor" id="line-182"></span></p><p class="line867"><img alt="ellip1.png" class="attachment" src="https://wiki.gnome.org/HowDoI/Labels?action=AttachFile&amp;do=get&amp;target=ellip1.png" title="ellip1.png"></img> <span class="anchor" id="line-183"></span><span class="anchor" id="line-184"></span></p><p class="line874">But it can be ellipsized all the way when the window is resized: <span class="anchor" id="line-185"></span><span class="anchor" id="line-186"></span></p><p class="line867"><img alt="ellip2.png" class="attachment" src="https://wiki.gnome.org/HowDoI/Labels?action=AttachFile&amp;do=get&amp;target=ellip2.png" title="ellip2.png"></img> <span class="anchor" id="line-187"></span><span class="anchor" id="line-188"></span></p><p class="line862">Other ellipsization modes exist, e.g. with Pango.<a class="nonexistent" href="https://wiki.gnome.org/EllipsizationMode">EllipsizationMode</a>.MIDDLE, you get a result like this: <span class="anchor" id="line-189"></span><span class="anchor" id="line-190"></span></p><p class="line867"><img alt="ellip5.png" class="attachment" src="https://wiki.gnome.org/HowDoI/Labels?action=AttachFile&amp;do=get&amp;target=ellip5.png" title="ellip5.png"></img> <span class="anchor" id="line-191"></span><span class="anchor" id="line-192"></span></p><p class="line874">To control how much of the label can be ellipsized away, use the width-chars property. After adding: <span class="anchor" id="line-193"></span><span class="anchor" id="line-194"></span></p><p class="line867"><span class="anchor" id="line-195"></span><span class="anchor" id="line-196"></span></p><pre><span class="anchor" id="line-1-6"></span>label.set_width_chars(15);</pre><span class="anchor" id="line-197"></span><span class="anchor" id="line-198"></span><p class="line874">the window can only be shrunken some of the way: <span class="anchor" id="line-199"></span><span class="anchor" id="line-200"></span></p><p class="line867"><img alt="ellip3.png" class="attachment" src="https://wiki.gnome.org/HowDoI/Labels?action=AttachFile&amp;do=get&amp;target=ellip3.png" title="ellip3.png"></img> <span class="anchor" id="line-201"></span><span class="anchor" id="line-202"></span></p><p class="line874">Note that the width-chars property is based on the average character with of the font, and thus the remaining text may not exactly be the number of characters you specified. <span class="anchor" id="line-203"></span><span class="anchor" id="line-204"></span></p><p class="line874">Even with this setting, the window will still come up with all the text visible, since the label claims the width of the entire content as its natural width. To make the label request less, use the max-width-chars property. With <span class="anchor" id="line-205"></span><span class="anchor" id="line-206"></span></p><p class="line867"><span class="anchor" id="line-207"></span><span class="anchor" id="line-208"></span></p><pre><span class="anchor" id="line-1-7"></span>label.set_max_width_chars(30);</pre><span class="anchor" id="line-209"></span><span class="anchor" id="line-210"></span><p class="line874">the window will come up like this: <span class="anchor" id="line-211"></span><span class="anchor" id="line-212"></span></p><p class="line867"><img alt="ellip4.png" class="attachment" src="https://wiki.gnome.org/HowDoI/Labels?action=AttachFile&amp;do=get&amp;target=ellip4.png" title="ellip4.png"></img> <span class="anchor" id="line-213"></span><span class="anchor" id="bottom"></span></p></div></div><div id="footer_art" class="default"> </div></div><div class="clearfix"></div><div id="footer_grass">   </div><div id="footer"><div class="container_12"><div class="links grid_9"><div class="menu-footer-1-container"><ul id="menu-footer-1" class="menu"><li id="menu-item-88" class="menu-item menu-item-type-custom menu-item-home menu-item-88"><a href="https://www.gnome.org/">The GNOME Project</a><ul class="sub-menu"><li id="menu-item-89" class="menu-item menu-item-type-post_type menu-item-89"><a href="https://www.gnome.org/about/">About Us</a></li><li id="menu-item-90" class="menu-item menu-item-type-custom menu-item-90"><a href="https://www.gnome.org/get-involved/">Get Involved</a></li><li id="menu-item-91" class="menu-item menu-item-type-custom menu-item-91"><a href="https://www.gnome.org/teams/">Teams</a></li><li id="menu-item-92" class="menu-item menu-item-type-custom menu-item-92"><a href="https://foundation.gnome.org">The GNOME Foundation</a></li><li><a href="https://www.gnome.org/support-gnome/">Support GNOME</a></li><li><a href="https://www.gnome.org/contact/">Contact</a></li></ul></li></ul></div><div class="menu-footer-2-container"><ul id="menu-footer-2" class="menu"><li id="menu-item-99" class="menu-item menu-item-type-post_type current-menu-item page_item page-item-20 current_page_item menu-item-99"><a href="index.html#">Resources</a><ul class="sub-menu"><li><a href="https://help.gnome.org">Documentation</a></li><li><a href="https://wiki.gnome.org">Wiki</a></li><li><a href="https://mail.gnome.org/mailman/listinfo">Mailing Lists</a></li><li><a href="https://wiki.gnome.org/GnomeIrcChannels">IRC Channels</a></li><li><a href="https://gitlab.gnome.org/">Bug Tracker</a></li><li><a href="https://gitlab.gnome.org/">Development Code</a></li><li><a href="https://wiki.gnome.org/Jhbuild">Build Tool</a></li></ul></li></ul></div><div class="menu-footer-4-container"><ul id="menu-footer-4" class="menu"><li id="menu-item-104" class="menu-item menu-item-type-custom menu-item-104"><a href="http://www.gnome.org/news/">News</a><ul class="sub-menu"><li><a href="https://www.gnome.org/start/stable">Latest Release</a></li><li><a href="https://planet.gnome.org">Planet GNOME</a></li><li><a href="https://news.gnome.org">Development News</a></li><li><a href="https://twitter.com/gnome">Twitter</a></li></ul></li></ul></div></div><div class="links grid_3 right"><div><ul class="menu available_languages"><li><strong>This website is available in many languages</strong><ul class="sub-menu"><li><a href="../languages.html" title="Switching Language">Switch Language</a></li></ul></li></ul><script type="text/javascript" src="../js/language.js"></script></div></div><div id="footnotes" class="grid_9">
                Copyright © 2005‒2014 <strong class="gnome_logo">The GNOME Project</strong><br></br><small>Optimised for standards. Hosted by <a href="http://redhat.com">Red Hat</a>.</small></div><div class="clear"></div></div></div><script type="text/javascript">
$(document).ready(function() {
    // Get browser
    $.each($.browser, function(i) {
        $('body').addClass(i);
        return false;
    });

    // Get OS and add it as class to body tag, this then allows forcing some
    // customisation in the CSS rules.
    var match = navigator.userAgent.toLowerCase().match(/(win|mac|linux)/);
    if (match) {
        $('body').addClass(match[0]);
    }
});
</script><script type="text/javascript">
      var _paq = _paq || [];
      _paq.push(['disableCookies']);
      _paq.push(["trackPageView"]);
      _paq.push(["enableLinkTracking"]);

      (function() {
        var u=(("https:" == document.location.protocol) ? "https" : "http") + "://webstats.gnome.org/";
        _paq.push(["setTrackerUrl", u+"piwik.php"]);
        _paq.push(["setSiteId", "6"]);
        var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";
        g.defer=true; g.async=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
      })();
    </script></body></html>
