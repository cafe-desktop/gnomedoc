<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:html="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="text/html; charset=utf-8"></meta><link rel="stylesheet" href="../../skin/gtkdoc.css" type="text/css"></link><link rel="stylesheet" type="text/css" media="all" href="https://static.gnome.org/css/grass-theme-style.css"></link><link rel="stylesheet" type="text/css" media="all" href="../../skin/lgo2010.css"></link><link rel="icon" type="image/png" href="../../skin/gnome-16.png"></link><link rel="SHORTCUT ICON" type="image/png" href="../../skin/gnome-16.png"></link><link rel="search" type="application/opensearchdescription+xml" href="../../gnome-library-search.xml" title="GNOME Library Search"></link><link rel="stylesheet" type="text/css" href="../../skin/jquery.autocomplete.css"></link><script type="text/javascript" src="../../js/jquery.js"></script><script type="text/javascript" src="../../js/jquery.autocomplete.js"></script><title>GUPnPSimpleIgd</title><link href="index.html" rel="home" title="GUPnP IGD Reference Manual"></link><link href="ch01.html" rel="up" title="Simple IGD module"></link><link href="ch01.html" rel="prev" title="Simple IGD module"></link><link href="GUPnPSimpleIgdThread.html" rel="next" title="GUPnPSimpleIgdThread"></link><link rel="stylesheet" type="text/css" media="all" href="../../skin/jquery.autocomplete.css"></link><link rel="stylesheet" type="text/css" media="all" href="../../skin/960_24_col.css"></link><script type="text/javascript" src="../../js/jquery.js"></script><script type="text/javascript" src="https://developer-old.gnome.org/js/jquery.jcarousel.min.js"></script><script type="text/javascript" src="../../js/jquery.autocomplete.js"></script></head><body><div id="accessibility_access"><ul><li><a href="GUPnPSimpleIgd.html#container">Go to page content</a></li><li><a href="GUPnPSimpleIgd.html#top_bar">Go to main menu</a></li><li><a href="GUPnPSimpleIgd.html#s" onclick="$('#s').focus(); return false;">Go to the search field</a></li></ul></div><div id="global_domain_bar"><div class="maxwidth"><div class="tab"><a class="root" href="https://www.gnome.org/">GNOME.org</a></div></div></div><div id="header" class="container_12"><div id="logo" class="grid_3"><a title="Go to home page" href="../../index.html"><img alt="GNOME: The Free Software Desktop Project" src="../../skin/gnome-logo-devcenter.png"></img></a></div><div id="top_bar" class="grid_9"><div class="left"><div class="menu-globalnav-container"><ul id="menu-globalnav" class="menu"><li class="menu-item menu-item-type-post_type menu-item-6"><a href="../../about/index.html">About</a></li><li class="menu-item menu-item-type-post_type menu-item-23"><a href="https://help.gnome.org/users/">Users</a></li><li class="menu-item menu-item-type-post_type menu-item-40"><a href="https://help.gnome.org/admin/">Administrators</a></li><li class="current-menu-item"><a href="https://developer.gnome.org/">Developers</a></li></ul></div></div><div class="right"><form role="search" method="get" id="searchform" action="https://developer-old.gnome.org/symbols/"><div><label class="hidden" for="q">Search:
                        </label><input type="text" value="" name="q" id="s" placeholder="Search"></input></div></form><script type="text/javascript">
$('#s').autocomplete('/symbols/lookup/',
        { minChars:3, matchSubset:1, matchContains:1, cacheLength:10,
          selectOnly:1, rowsLimit:25 });
              </script></div></div></div><div class="clearfix"></div><div id="container" class="gtk-doc"><div class="content"><table cellpadding="2" cellspacing="2" class="navigation" id="top" summary="Navigation header" width="100%">
<tbody><tr valign="middle">
<td><a accesskey="p" href="ch01.html"><img alt="Prev" border="0" height="24" src="left.png" width="24"></img></a></td>
<td><a accesskey="u" href="ch01.html"><img alt="Up" border="0" height="24" src="up.png" width="24"></img></a></td>
<td><a accesskey="h" href="index.html"><img alt="Home" border="0" height="24" src="home.png" width="24"></img></a></td>
<th align="center" width="100%">GUPnP IGD Reference Manual</th>
<td><a accesskey="n" href="GUPnPSimpleIgdThread.html"><img alt="Next" border="0" height="24" src="right.png" width="24"></img></a></td>
</tr>
<tr><td class="shortcuts" colspan="5">
<a class="shortcut" href="GUPnPSimpleIgd.html#GUPnPSimpleIgd.synopsis">Top</a>
                   | 
                  <a class="shortcut" href="GUPnPSimpleIgd.html#GUPnPSimpleIgd.description">Description</a>
                   | 
                  <a class="shortcut" href="GUPnPSimpleIgd.html#GUPnPSimpleIgd.object-hierarchy">Object Hierarchy</a>
                   | 
                  <a class="shortcut" href="GUPnPSimpleIgd.html#GUPnPSimpleIgd.signals">Signals</a>
</td></tr>
</tbody></table><div class="refentry">
<a name="GUPnPSimpleIgd"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tbody><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="GUPnPSimpleIgd.top_of_page"></a>GUPnPSimpleIgd</span></h2>
<p>GUPnPSimpleIgd — A simple class to map ports on UPnP routers</p>
</td>
<td align="right" valign="top"></td>
</tr></tbody></table></div>
<div class="refsynopsisdiv">
<a name="GUPnPSimpleIgd.synopsis"></a><h2>Synopsis</h2>
<pre class="synopsis">                    <a class="link" href="GUPnPSimpleIgd.html#GUPnPSimpleIgd-struct" title="GUPnPSimpleIgd">GUPnPSimpleIgd</a>;
struct              <a class="link" href="GUPnPSimpleIgd.html#GUPnPSimpleIgdClass" title="struct GUPnPSimpleIgdClass">GUPnPSimpleIgdClass</a>;
#define             <a class="link" href="GUPnPSimpleIgd.html#GUPNP-SIMPLE-IGD-ERROR:CAPS" title="GUPNP_SIMPLE_IGD_ERROR">GUPNP_SIMPLE_IGD_ERROR</a>
enum                <a class="link" href="GUPnPSimpleIgd.html#GUPnPSimpleIgdError" title="enum GUPnPSimpleIgdError">GUPnPSimpleIgdError</a>;
<a class="link" href="GUPnPSimpleIgd.html" title="GUPnPSimpleIgd"><span class="returnvalue">GUPnPSimpleIgd</span></a> *    <a class="link" href="GUPnPSimpleIgd.html#gupnp-simple-igd-new" title="gupnp_simple_igd_new ()">gupnp_simple_igd_new</a>                (<em class="parameter"><code><span class="type">void</span></code></em>);
<span class="returnvalue">void</span>                <a class="link" href="GUPnPSimpleIgd.html#gupnp-simple-igd-add-port" title="gupnp_simple_igd_add_port ()">gupnp_simple_igd_add_port</a>           (<em class="parameter"><code><a class="link" href="GUPnPSimpleIgd.html" title="GUPnPSimpleIgd"><span class="type">GUPnPSimpleIgd</span></a> *self</code></em>,
                                                         <em class="parameter"><code>const <a href="../../glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *protocol</code></em>,
                                                         <em class="parameter"><code><a href="../../glib/unstable/glib-Basic-Types.html#guint16"><span class="type">guint16</span></a> external_port</code></em>,
                                                         <em class="parameter"><code>const <a href="../../glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *local_ip</code></em>,
                                                         <em class="parameter"><code><a href="../../glib/unstable/glib-Basic-Types.html#guint16"><span class="type">guint16</span></a> local_port</code></em>,
                                                         <em class="parameter"><code><a href="../../glib/unstable/glib-Basic-Types.html#guint32"><span class="type">guint32</span></a> lease_duration</code></em>,
                                                         <em class="parameter"><code>const <a href="../../glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *description</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="GUPnPSimpleIgd.html#gupnp-simple-igd-remove-port" title="gupnp_simple_igd_remove_port ()">gupnp_simple_igd_remove_port</a>        (<em class="parameter"><code><a class="link" href="GUPnPSimpleIgd.html" title="GUPnPSimpleIgd"><span class="type">GUPnPSimpleIgd</span></a> *self</code></em>,
                                                         <em class="parameter"><code>const <a href="../../glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *protocol</code></em>,
                                                         <em class="parameter"><code><a href="../../glib/unstable/glib-Basic-Types.html#guint"><span class="type">guint</span></a> external_port</code></em>);
</pre>
</div>
<div class="refsect1">
<a name="GUPnPSimpleIgd.object-hierarchy"></a><h2>Object Hierarchy</h2>
<pre class="synopsis">  <a href="../../gobject/unstable/gobject-The-Base-Object-Type.html#GObject">GObject</a>
   +----GUPnPSimpleIgd
         +----<a class="link" href="GUPnPSimpleIgdThread.html" title="GUPnPSimpleIgdThread">GUPnPSimpleIgdThread</a>
</pre>
</div>
<div class="refsect1">
<a name="GUPnPSimpleIgd.signals"></a><h2>Signals</h2>
<pre class="synopsis">  "<a class="link" href="GUPnPSimpleIgd.html#GUPnPSimpleIgd-error-mapping-port" title='The "error-mapping-port" signal'>error-mapping-port</a>"                             : <a href="../../gobject/unstable/gobject-Signals.html#G-SIGNAL-DETAILED:CAPS"><code class="literal">Has Details</code></a>
  "<a class="link" href="GUPnPSimpleIgd.html#GUPnPSimpleIgd-mapped-external-port" title='The "mapped-external-port" signal'>mapped-external-port</a>"                           : <a href="../../gobject/unstable/gobject-Signals.html#G-SIGNAL-RUN-LAST:CAPS"><code class="literal">Run Last</code></a>
</pre>
</div>
<div class="refsect1">
<a name="GUPnPSimpleIgd.description"></a><h2>Description</h2>
<p>
This simple class allows applications to map ports on UPnP routers.
It implements the basic functionalities to map ports to external ports.
It also allows implementations to know the external port from the router's
perspective.
</p>
</div>
<div class="refsect1">
<a name="GUPnPSimpleIgd.details"></a><h2>Details</h2>
<div class="refsect2">
<a name="GUPnPSimpleIgd-struct"></a><h3>GUPnPSimpleIgd</h3>
<pre class="programlisting">typedef struct _GUPnPSimpleIgd GUPnPSimpleIgd;</pre>
<p>
All members are private, access them using methods and properties
</p>
</div>
<hr></hr>
<div class="refsect2">
<a name="GUPnPSimpleIgdClass"></a><h3>struct GUPnPSimpleIgdClass</h3>
<pre class="programlisting">struct GUPnPSimpleIgdClass {
  GObjectClass parent_class;

  /*virtual functions */

  void (*add_port) (GUPnPSimpleIgd *self,
      const gchar *protocol,
      guint16 external_port,
      const gchar *local_ip,
      guint16 local_port,
      guint32 lease_duration,
      const gchar *description);

  void (*remove_port) (GUPnPSimpleIgd *self,
      const gchar *protocol,
      guint external_port);
};
</pre>
<p>
The Raw UDP component transmitter class
</p>
<div class="variablelist"><table border="0">
<colgroup><col align="left" valign="top"></col>
</colgroup><tbody>
<tr>
<td><p><span class="term"><a href="../../gobject/unstable/gobject-The-Base-Object-Type.html#GObjectClass"><span class="type">GObjectClass</span></a> <em class="structfield"><code><a name="GUPnPSimpleIgdClass.parent-class"></a>parent_class</code></em>;</span></p></td>
<td>Our parent</td>
</tr>
<tr>
<td><p><span class="term"><em class="structfield"><code><a name="GUPnPSimpleIgdClass.add-port"></a>add_port</code></em> ()</span></p></td>
<td>An implementation of the add_port function</td>
</tr>
<tr>
<td><p><span class="term"><em class="structfield"><code><a name="GUPnPSimpleIgdClass.remove-port"></a>remove_port</code></em> ()</span></p></td>
<td>An implementation of the delete_port function</td>
</tr>
</tbody>
</table></div>
</div>
<hr></hr>
<div class="refsect2">
<a name="GUPNP-SIMPLE-IGD-ERROR:CAPS"></a><h3>GUPNP_SIMPLE_IGD_ERROR</h3>
<pre class="programlisting">#define GUPNP_SIMPLE_IGD_ERROR (gupnp_simple_igd_error_quark ())
</pre>
<p>
</p>
</div>
<hr></hr>
<div class="refsect2">
<a name="GUPnPSimpleIgdError"></a><h3>enum GUPnPSimpleIgdError</h3>
<pre class="programlisting">typedef enum {
  GUPNP_SIMPLE_IGD_ERROR_EXTERNAL_ADDRESS,
} GUPnPSimpleIgdError;
</pre>
<p>
Errors coming out of the GUPnPSimpleIGD object.
</p>
<div class="variablelist"><table border="0">
<colgroup><col align="left" valign="top"></col>
</colgroup><tbody><tr>
<td><p><a name="GUPNP-SIMPLE-IGD-ERROR-EXTERNAL-ADDRESS:CAPS"></a><span class="term"><code class="literal">GUPNP_SIMPLE_IGD_ERROR_EXTERNAL_ADDRESS</code></span></p></td>
<td>Error getting the external
address of the router
</td>
</tr></tbody>
</table></div>
</div>
<hr></hr>
<div class="refsect2">
<a name="gupnp-simple-igd-new"></a><h3>gupnp_simple_igd_new ()</h3>
<pre class="programlisting"><a class="link" href="GUPnPSimpleIgd.html" title="GUPnPSimpleIgd"><span class="returnvalue">GUPnPSimpleIgd</span></a> *    gupnp_simple_igd_new                (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
<p>
This creates a new <span class="type">GUPnpSimpleIgd</span> object using the special GMainContext
</p>
<div class="variablelist"><table border="0">
<colgroup><col align="left" valign="top"></col>
</colgroup><tbody><tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a new <a class="link" href="GUPnPSimpleIgd.html" title="GUPnPSimpleIgd"><span class="type">GUPnPSimpleIgd</span></a>
</td>
</tr></tbody>
</table></div>
</div>
<hr></hr>
<div class="refsect2">
<a name="gupnp-simple-igd-add-port"></a><h3>gupnp_simple_igd_add_port ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                gupnp_simple_igd_add_port           (<em class="parameter"><code><a class="link" href="GUPnPSimpleIgd.html" title="GUPnPSimpleIgd"><span class="type">GUPnPSimpleIgd</span></a> *self</code></em>,
                                                         <em class="parameter"><code>const <a href="../../glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *protocol</code></em>,
                                                         <em class="parameter"><code><a href="../../glib/unstable/glib-Basic-Types.html#guint16"><span class="type">guint16</span></a> external_port</code></em>,
                                                         <em class="parameter"><code>const <a href="../../glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *local_ip</code></em>,
                                                         <em class="parameter"><code><a href="../../glib/unstable/glib-Basic-Types.html#guint16"><span class="type">guint16</span></a> local_port</code></em>,
                                                         <em class="parameter"><code><a href="../../glib/unstable/glib-Basic-Types.html#guint32"><span class="type">guint32</span></a> lease_duration</code></em>,
                                                         <em class="parameter"><code>const <a href="../../glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *description</code></em>);</pre>
<p>
This adds a port to the router's forwarding table. The mapping will
be automatically refreshed by this object until it is either removed with
<a class="link" href="GUPnPSimpleIgd.html#gupnp-simple-igd-remove-port" title="gupnp_simple_igd_remove_port ()"><code class="function">gupnp_simple_igd_remove_port()</code></a> or the object disapears.
</p>
<p>
If there is a problem, the <a class="link" href="GUPnPSimpleIgd.html#GUPnPSimpleIgd-error-mapping-port" title='The "error-mapping-port" signal'><span class="type">"error-mapping-port"</span></a> signal will
be emitted. If a router is found and a port is mapped correctly,
<a class="link" href="GUPnPSimpleIgd.html#GUPnPSimpleIgd-mapped-external-port" title='The "mapped-external-port" signal'><span class="type">"mapped-external-port"</span></a> will be emitted. These signals may
be emitted multiple times if there are multiple routers present.
</p>
<div class="variablelist"><table border="0">
<colgroup><col align="left" valign="top"></col>
</colgroup><tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em> :</span></p></td>
<td>The <a class="link" href="GUPnPSimpleIgd.html" title="GUPnPSimpleIgd"><span class="type">GUPnPSimpleIgd</span></a> object</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>protocol</code></em> :</span></p></td>
<td>the protocol "UDP" or "TCP"</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>external_port</code></em> :</span></p></td>
<td>The port to try to open on the external device,
0 means to try a random port if the same port as the local port is already
taken</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>local_ip</code></em> :</span></p></td>
<td>The IP address to forward packets to (most likely the local ip address)</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>local_port</code></em> :</span></p></td>
<td>The local port to forward packets to</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>lease_duration</code></em> :</span></p></td>
<td>The duration of the lease (it will be auto-renewed before it expires). This is in seconds.</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>description</code></em> :</span></p></td>
<td>The description that will appear in the router's table</td>
</tr>
</tbody>
</table></div>
</div>
<hr></hr>
<div class="refsect2">
<a name="gupnp-simple-igd-remove-port"></a><h3>gupnp_simple_igd_remove_port ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                gupnp_simple_igd_remove_port        (<em class="parameter"><code><a class="link" href="GUPnPSimpleIgd.html" title="GUPnPSimpleIgd"><span class="type">GUPnPSimpleIgd</span></a> *self</code></em>,
                                                         <em class="parameter"><code>const <a href="../../glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a> *protocol</code></em>,
                                                         <em class="parameter"><code><a href="../../glib/unstable/glib-Basic-Types.html#guint"><span class="type">guint</span></a> external_port</code></em>);</pre>
<p>
This tries to remove a port entry from the routers that was previously added
with <a class="link" href="GUPnPSimpleIgd.html#gupnp-simple-igd-add-port" title="gupnp_simple_igd_add_port ()"><code class="function">gupnp_simple_igd_add_port()</code></a>. There is no indicated of success or failure
it is a best effort mechanism. If it fails, the bindings will disapears after
the lease duration set when the port where added.
</p>
<div class="variablelist"><table border="0">
<colgroup><col align="left" valign="top"></col>
</colgroup><tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em> :</span></p></td>
<td>The <a class="link" href="GUPnPSimpleIgd.html" title="GUPnPSimpleIgd"><span class="type">GUPnPSimpleIgd</span></a> object</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>protocol</code></em> :</span></p></td>
<td>the protocol "UDP" or "TCP" as given to
<a class="link" href="GUPnPSimpleIgd.html#gupnp-simple-igd-add-port" title="gupnp_simple_igd_add_port ()"><code class="function">gupnp_simple_igd_add_port()</code></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>external_port</code></em> :</span></p></td>
<td>The port to try to open on the external device as given to
<a class="link" href="GUPnPSimpleIgd.html#gupnp-simple-igd-add-port" title="gupnp_simple_igd_add_port ()"><code class="function">gupnp_simple_igd_add_port()</code></a>
</td>
</tr>
</tbody>
</table></div>
</div>
</div>
<div class="refsect1">
<a name="GUPnPSimpleIgd.signal-details"></a><h2>Signal Details</h2>
<div class="refsect2">
<a name="GUPnPSimpleIgd-error-mapping-port"></a><h3>The <code class="literal">"error-mapping-port"</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                user_function                      (<a class="link" href="GUPnPSimpleIgd.html" title="GUPnPSimpleIgd"><span class="type">GUPnPSimpleIgd</span></a> *self,
                                                        <a href="../../glib/unstable/glib-Basic-Types.html#gpointer"><span class="type">gpointer</span></a>        error,
                                                        <a href="../../glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a>          *proto,
                                                        <a href="../../glib/unstable/glib-Basic-Types.html#guint"><span class="type">guint</span></a>           external_port,
                                                        <a href="../../glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a>          *local_ip,
                                                        <a href="../../glib/unstable/glib-Basic-Types.html#guint"><span class="type">guint</span></a>           local_port,
                                                        <a href="../../glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a>          *description,
                                                        <a href="../../glib/unstable/glib-Basic-Types.html#gpointer"><span class="type">gpointer</span></a>        user_data)          : <a href="../../gobject/unstable/gobject-Signals.html#G-SIGNAL-DETAILED:CAPS"><code class="literal">Has Details</code></a></pre>
<p>
This means that mapping a port on a specific IGD has failed (it may still
succeed on other IGDs on the network).
</p>
<div class="variablelist"><table border="0">
<colgroup><col align="left" valign="top"></col>
</colgroup><tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em> :</span></p></td>
<td>
<a class="link" href="GUPnPSimpleIgd.html" title="GUPnPSimpleIgd"><span class="type">GUPnPSimpleIgd</span></a> that emitted the signal</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em> :</span></p></td>
<td>a <a href="../../glib/unstable/glib-Error-Reporting.html#GError"><span class="type">GError</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>proto</code></em> :</span></p></td>
<td>The requested protocol</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>external_port</code></em> :</span></p></td>
<td>the external port requested in <a class="link" href="GUPnPSimpleIgd.html#gupnp-simple-igd-add-port" title="gupnp_simple_igd_add_port ()"><code class="function">gupnp_simple_igd_add_port()</code></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>local_ip</code></em> :</span></p></td>
<td>internal ip this is forwarded to</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>local_port</code></em> :</span></p></td>
<td>the local port</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>description</code></em> :</span></p></td>
<td>the passed description</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>user data set when the signal handler was connected.</td>
</tr>
</tbody>
</table></div>
</div>
<hr></hr>
<div class="refsect2">
<a name="GUPnPSimpleIgd-mapped-external-port"></a><h3>The <code class="literal">"mapped-external-port"</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                user_function                      (<a class="link" href="GUPnPSimpleIgd.html" title="GUPnPSimpleIgd"><span class="type">GUPnPSimpleIgd</span></a> *self,
                                                        <a href="../../glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a>          *proto,
                                                        <a href="../../glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a>          *external_ip,
                                                        <a href="../../glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a>          *replaces_external_ip,
                                                        <a href="../../glib/unstable/glib-Basic-Types.html#guint"><span class="type">guint</span></a>           external_port,
                                                        <a href="../../glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a>          *local_ip,
                                                        <a href="../../glib/unstable/glib-Basic-Types.html#guint"><span class="type">guint</span></a>           local_port,
                                                        <a href="../../glib/unstable/glib-Basic-Types.html#gchar"><span class="type">gchar</span></a>          *description,
                                                        <a href="../../glib/unstable/glib-Basic-Types.html#gpointer"><span class="type">gpointer</span></a>        user_data)                 : <a href="../../gobject/unstable/gobject-Signals.html#G-SIGNAL-RUN-LAST:CAPS"><code class="literal">Run Last</code></a></pre>
<p>
This signal means that an IGD has been found that that adding a port
mapping has succeeded.
</p>
<div class="variablelist"><table border="0">
<colgroup><col align="left" valign="top"></col>
</colgroup><tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em> :</span></p></td>
<td>
<a class="link" href="GUPnPSimpleIgd.html" title="GUPnPSimpleIgd"><span class="type">GUPnPSimpleIgd</span></a> that emitted the signal</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>proto</code></em> :</span></p></td>
<td>the requested protocol ("UDP" or "TCP")</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>external_ip</code></em> :</span></p></td>
<td>the external IP</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>replaces_external_ip</code></em> :</span></p></td>
<td>if this mapping replaces another mapping,
this is the old external IP</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>external_port</code></em> :</span></p></td>
<td>the external port that was allocated</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>local_ip</code></em> :</span></p></td>
<td>IP address that the router should forward the packets to. It
could be the address of another machine on the local network</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>local_port</code></em> :</span></p></td>
<td>the local port</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>description</code></em> :</span></p></td>
<td>the user's selected description</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>user data set when the signal handler was connected.</td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div><div class="footer">
<hr></hr>
          Generated by GTK-Doc V1.18.1</div></div><div id="footer_art" class="default"> </div></div><div class="clearfix"></div><div id="footer_grass">   </div><div id="footer"><div class="container_12"><div class="links grid_9"><div class="menu-footer-1-container"><ul id="menu-footer-1" class="menu"><li id="menu-item-88" class="menu-item menu-item-type-custom menu-item-home menu-item-88"><a href="https://www.gnome.org/">The GNOME Project</a><ul class="sub-menu"><li id="menu-item-89" class="menu-item menu-item-type-post_type menu-item-89"><a href="https://www.gnome.org/about/">About Us</a></li><li id="menu-item-90" class="menu-item menu-item-type-custom menu-item-90"><a href="https://www.gnome.org/get-involved/">Get Involved</a></li><li id="menu-item-91" class="menu-item menu-item-type-custom menu-item-91"><a href="https://www.gnome.org/teams/">Teams</a></li><li id="menu-item-92" class="menu-item menu-item-type-custom menu-item-92"><a href="https://foundation.gnome.org">The GNOME Foundation</a></li><li><a href="https://www.gnome.org/support-gnome/">Support GNOME</a></li><li><a href="https://www.gnome.org/contact/">Contact</a></li></ul></li></ul></div><div class="menu-footer-2-container"><ul id="menu-footer-2" class="menu"><li id="menu-item-99" class="menu-item menu-item-type-post_type current-menu-item page_item page-item-20 current_page_item menu-item-99"><a href="GUPnPSimpleIgd.html#">Resources</a><ul class="sub-menu"><li><a href="https://help.gnome.org">Documentation</a></li><li><a href="https://wiki.gnome.org">Wiki</a></li><li><a href="https://mail.gnome.org/mailman/listinfo">Mailing Lists</a></li><li><a href="https://wiki.gnome.org/GnomeIrcChannels">IRC Channels</a></li><li><a href="https://gitlab.gnome.org/">Bug Tracker</a></li><li><a href="https://gitlab.gnome.org/">Development Code</a></li><li><a href="https://wiki.gnome.org/Jhbuild">Build Tool</a></li></ul></li></ul></div><div class="menu-footer-4-container"><ul id="menu-footer-4" class="menu"><li id="menu-item-104" class="menu-item menu-item-type-custom menu-item-104"><a href="http://www.gnome.org/news/">News</a><ul class="sub-menu"><li><a href="https://www.gnome.org/start/stable">Latest Release</a></li><li><a href="https://planet.gnome.org">Planet GNOME</a></li><li><a href="https://news.gnome.org">Development News</a></li><li><a href="https://twitter.com/gnome">Twitter</a></li></ul></li></ul></div></div><div class="links grid_3 right"><div><ul class="menu available_languages"><li><strong>This website is available in many languages</strong><ul class="sub-menu"><li><a href="../../languages.html" title="Switching Language">Switch Language</a></li></ul></li></ul><script type="text/javascript" src="../../js/language.js"></script></div></div><div id="footnotes" class="grid_9">
                Copyright © 2005‒2014 <strong class="gnome_logo">The GNOME Project</strong><br></br><small>Optimised for standards. Hosted by <a href="http://redhat.com">Red Hat</a>.</small></div><div class="clear"></div></div></div><script type="text/javascript">
$(document).ready(function() {
    // Get browser
    $.each($.browser, function(i) {
        $('body').addClass(i);
        return false;
    });

    // Get OS and add it as class to body tag, this then allows forcing some
    // customisation in the CSS rules.
    var match = navigator.userAgent.toLowerCase().match(/(win|mac|linux)/);
    if (match) {
        $('body').addClass(match[0]);
    }
});
</script><script type="text/javascript">
      var _paq = _paq || [];
      _paq.push(['disableCookies']);
      _paq.push(["trackPageView"]);
      _paq.push(["enableLinkTracking"]);

      (function() {
        var u=(("https:" == document.location.protocol) ? "https" : "http") + "://webstats.gnome.org/";
        _paq.push(["setTrackerUrl", u+"piwik.php"]);
        _paq.push(["setSiteId", "6"]);
        var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";
        g.defer=true; g.async=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
      })();
    </script></body></html>
