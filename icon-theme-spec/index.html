<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:html="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="text/html; charset=utf-8"></meta><link rel="stylesheet" type="text/css" media="all" href="https://static.gnome.org/css/grass-theme-style.css"></link><link rel="stylesheet" type="text/css" media="all" href="../skin/lgo2010.css"></link><link rel="icon" type="image/png" href="../skin/gnome-16.png"></link><link rel="SHORTCUT ICON" type="image/png" href="../skin/gnome-16.png"></link><link rel="search" type="application/opensearchdescription+xml" href="../gnome-library-search.xml" title="GNOME Library Search"></link><link rel="stylesheet" href="../skin/docbook.css" type="text/css"></link><title>Icon Theme Specification</title><link rel="stylesheet" type="text/css" media="all" href="../skin/jquery.autocomplete.css"></link><link rel="stylesheet" type="text/css" media="all" href="../skin/960_24_col.css"></link><script type="text/javascript" src="../js/jquery.js"></script><script type="text/javascript" src="https://developer-old.gnome.org/js/jquery.jcarousel.min.js"></script><script type="text/javascript" src="../js/jquery.autocomplete.js"></script></head><body><div id="accessibility_access"><ul><li><a href="index.html#container">Go to page content</a></li><li><a href="index.html#top_bar">Go to main menu</a></li><li><a href="index.html#s" onclick="$('#s').focus(); return false;">Go to the search field</a></li></ul></div><div id="global_domain_bar"><div class="maxwidth"><div class="tab"><a class="root" href="https://www.gnome.org/">GNOME.org</a></div></div></div><div id="header" class="container_12"><div id="logo" class="grid_3"><a title="Go to home page" href="../index.html"><img alt="GNOME: The Free Software Desktop Project" src="../skin/gnome-logo-devcenter.png"></img></a></div><div id="top_bar" class="grid_9"><div class="left"><div class="menu-globalnav-container"><ul id="menu-globalnav" class="menu"><li class="menu-item menu-item-type-post_type menu-item-6"><a href="../about/index.html">About</a></li><li class="menu-item menu-item-type-post_type menu-item-23"><a href="https://help.gnome.org/users/">Users</a></li><li class="menu-item menu-item-type-post_type menu-item-40"><a href="https://help.gnome.org/admin/">Administrators</a></li><li class="current-menu-item"><a href="https://developer.gnome.org/">Developers</a></li></ul></div></div><div class="right"><form role="search" method="get" id="searchform" action="https://developer-old.gnome.org/search"><div><label class="hidden" for="q">Search:
                        </label><input type="text" value="" name="q" id="s" placeholder="Search"></input></div></form></div></div></div><div class="clearfix"></div><div id="container" class="body two_columns"><div class="content"><div class="action_box"><p class="canonical-ref">
          Canonical document reference:
	  <a href="http://standards.freedesktop.org/icon-theme-spec/icon-theme-spec-latest.html">http://standards.freedesktop.org/icon-theme-spec/icon-theme-spec-latest.html</a></p></div><div class="article"><div class="titlepage"><div><div><h2 class="title"><a name="index"></a>Icon Theme Specification</h2></div><div><div class="authorgroup"><div class="author"><h3 class="author"><span class="firstname">Alexander</span> <span class="surname">Larsson</span></h3><div class="affiliation"><div class="address"><p><br></br>
	    <code class="email">&lt;<a class="email" href="mailto:alexl@redhat.com">alexl@redhat.com</a>&gt;</code><br></br>
	  </p></div></div></div><div class="author"><h3 class="author"><span class="firstname">Frans</span> <span class="surname">Englich</span></h3><div class="affiliation"><div class="address"><p><br></br>
	    <code class="email">&lt;<a class="email" href="mailto:frans.englich@telia.com">frans.englich@telia.com</a>&gt;</code><br></br>
	  </p></div></div></div></div></div><div><p class="releaseinfo">Version 0.13</p></div></div><hr></hr></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="sect1"><a href="index.html#overview">Overview</a></span></dt><dt><span class="sect1"><a href="index.html#definitions">Definitions</a></span></dt><dt><span class="sect1"><a href="index.html#directory_layout">Directory Layout</a></span></dt><dt><span class="sect1"><a href="index.html#file_formats">File Formats</a></span></dt><dd><dl><dt><span class="sect2"><a href="index.html#context">Context</a></span></dt></dl></dd><dt><span class="sect1"><a href="index.html#icon_lookup">Icon Lookup</a></span></dt><dt><span class="sect1"><a href="index.html#example">Example</a></span></dt><dt><span class="sect1"><a href="index.html#install_icons">Installing Application Icons</a></span></dt><dt><span class="sect1"><a href="index.html#implementation_notes">Implementation Notes</a></span></dt><dt><span class="sect1"><a href="index.html#background">Background</a></span></dt><dt><span class="appendix"><a href="index.html#changes">A. Change history</a></span></dt></dl></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="overview"></a>Overview</h2></div></div></div><p>
    An icon theme is a set of icons that share a common look and
    feel. The user can then select the icon theme that they want to
    use, and all apps use icons from the theme. The initial user of
    icon themes is the icon field of the desktop file specification,
    but in the future it can have other uses (such as mimetype
    icons).
    </p><p>
    From a programmer perspective an icon theme is just a
    mapping. Given a set of directories to look for icons in and a theme
    name it maps from icon name and nominal icon size to an icon filename.
    </p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="definitions"></a>Definitions</h2></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Icon Theme</span></dt><dd><p>
          An icon theme is a named set of icons. It is used to map
          from an iconname and size to a file. Themes may inherit
          from other themes as a way to extend them.
	  </p></dd><dt><span class="term">Icon file</span></dt><dd><p>
          An icon file is an image that can be loaded and used as an
          icon. The supported image file formats are PNG, XPM and SVG.
          PNG is the recommended bitmap format, and SVG is for
          vectorized icons. XPM is supported due to backwards
          compability reasons, and it is not recommended that new
          themes use XPM files. Support for SVGs is optional. 
	  </p></dd><dt><span class="term">Base Directory</span></dt><dd><p>
          Icons and themes are searched for in a set of directories,
          called base directories. The themes are stored in
          subdirectories of the base directories.
	  </p></dd><dt><span class="term">Icon scale</span></dt><dd><p>
          On very high density (high dpi) screens the UI is often
          scaled to avoid the UI being so small it is hard to see. In
          order to support this icons can have a target scale,
          describing what scale factor they are designed for.
          </p><p>For instance, an icon with a directory size of 48 but
          scale 2x would be 96x96 pixels, but designed to have the
          same level of detail as a 48x48 icon at scale 1x. This can
          be used on high density displays where a 48x48 icon would be
          too small (or ugly upscaled) and a normal 96x96 icon would
          have a lot of detail that is hard to see.
	  </p></dd></dl></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="directory_layout"></a>Directory Layout</h2></div></div></div><p>
    Icons and themes are looked for in a set of directories. By
    default, apps should look in $HOME/.icons (for backwards compatibility),
    in $XDG_DATA_DIRS/icons and in /usr/share/pixmaps (in that order).
    Applications may further add
    their own icon directories to this list, and users may extend or
    change the list (in application/desktop specific ways).In each of
    these directories themes are stored as subdirectories. A theme can
    be spread across several base directories by having subdirectories of
    the same name. This way users can extend and override system 
    themes. 
    </p><p>
    In order to have a place for third party applications to install
    their icons there should always exist a theme called "hicolor"
    <a class="footnote" href="index.html#ftn.idm45730926575904" name="idm45730926575904"><sup class="footnote">[1]</sup></a>.
    The data for the hicolor theme is available for download at:
    http://www.freedesktop.org/software/icon-theme/.
    Implementations are required to look in the "hicolor" theme if
    an icon was not found in the current theme.
    </p><p>
    Each theme is stored as subdirectories of the base
    directories. The internal name of the theme is the name of the
    subdirectory, although the user-visible name as specified by the
    theme may be different. Hence, theme names are case sensitive, and
    are limited to ASCII characters. Theme names may also not contain
    comma or space.
    </p><p>
    In at least one of the theme directories there must be a file
    called index.theme that describes the theme. The first index.theme
    found while searching the base directories in order is used. This
    file describes the general attributes of the theme.
    </p><p>
    In the theme directory are also a set of subdirectories containing
    image files. Each directory contains icons designed for a certain
    nominal icon size and scale, as described by the index.theme file. The
    subdirectories are allowed to be several levels deep, e.g. the
    subdirectory "48x48/apps" in the theme "hicolor" would end up at
    $basedir/hicolor/48x48/apps.
    </p><p>
    The image files must be one of the types: PNG, XPM, or SVG, and
    the extension must be ".png", ".xpm", or ".svg" (lower case). The
    support for SVG files is optional. Implementations that do not
    support SVGs should just ignore any ".svg" files. In
    addition to this there may be an additional file with extra
    icon-data for each file. It should have the same basename as the
    image file, with the extension ".icon". e.g. if the icon file is
    called "mime_source_c.png" the corresponding file would be named
    "mime_source_c.icon".
    </p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="file_formats"></a>File Formats</h2></div></div></div><p>
    Both the icon theme description file and the icon data files are
    ini-style text files, as described in the desktop file
    specification. They don't have any encoding field. Instead, they 
    must always be stored in UTF-8 encoding.
    </p><p>
    The index.theme file must start with a section called <em class="citetitle">Icon
    Theme</em>, with contents according to table 1 below. All lists are
    comma-separated.
    </p><div class="table"><a name="idm45730927003840"></a><p class="title"><b>Table 1. Standard Keys</b></p><div class="table-contents"><table border="1" class="table" summary="Standard Keys"><colgroup><col></col><col></col><col></col><col></col></colgroup><thead><tr><th>Key</th><th>Description</th><th>Value Type</th><th>Required</th></tr></thead><tbody><tr><td>Name</td><td>
              short name of the icon theme, used in e.g. lists when
              selecting themes.
	    </td><td>localestring</td><td>YES</td></tr><tr><td>Comment</td><td>
              longer string describing the theme
	    </td><td>localestring</td><td>YES</td></tr><tr><td>Inherits</td><td>
              <p>
              The name of the theme that this theme inherits from. If an icon
              name is not found in the current theme, it is searched for in the
              inherited theme (and recursively in all the inherited themes).
              </p>
              <p>
              If no theme is specified implementations are required to add
              the "hicolor" theme to the inheritance tree. An implementation
              may optionally add other default themes in between the last
              specified theme and the hicolor theme.
              </p>
	    </td><td>strings</td><td>NO</td></tr><tr><td>Directories</td><td>
             list of subdirectories for this theme. For every
             subdirectory there must be a section in the index.theme
             file describing that directory.
	    </td><td>strings</td><td>YES</td></tr><tr><td>ScaledDirectories</td><td>
             Additional list of subdirectories for this theme, in addition
             to the ones in Directories. These directories should only be
             read by implementations supporting scaled directories and
             was added to keep compatibility with old implementations
             that don't support these.
	    </td><td>strings</td><td>NO</td></tr><tr><td>Hidden</td><td>
            Whether to hide the theme in a theme selection user interface.
            This is used for things such as fallback-themes that are not supposed
            to be visible to the user.
	    </td><td>boolean</td><td>NO</td></tr><tr><td>Example</td><td>
              The name of an icon that should be used as an example of
              how this theme looks.
	    </td><td>string</td><td>NO</td></tr></tbody></table></div></div><p><br class="table-break"></br>
    </p><p>
    Each directory specified in the Directory key has a corresponding section
    with the same name as the directory. The contents of this section is
    listed in table 2 below.
    </p><div class="table"><a name="idm45730926968640"></a><p class="title"><b>Table 2. Per-Directory Keys</b></p><div class="table-contents"><table border="1" class="table" summary="Per-Directory Keys"><colgroup><col></col><col></col><col></col><col></col></colgroup><thead><tr><th>Key</th><th>Description</th><th>Value Type</th><th>Required</th><th>Type</th></tr></thead><tbody><tr><td>Size</td><td>
              Nominal (unscaled) size of the icons in this directory.
	    </td><td>integer</td><td>YES</td></tr><tr><td>Scale</td><td>
              Target scale of of the icons in this
              directory. Defaults to the value 1 if not present.
              Any directory with a scale other than 1 should be
              listed in the ScaledDirectories list rather than
              Directories for backwards compatibility.
	    </td><td>integer</td><td>NO</td></tr><tr><td>Context</td><td>
              The context the icon is normally used in. This 
              is in detail discussed in <a class="xref" href="index.html#context" title="Context">the section called “Context”</a>.
	    </td><td>string</td><td>NO</td></tr><tr><td>Type</td><td>
              The type of icon sizes for the icons in this
              directory. Valid types are Fixed, Scalable and
              Threshold. The type decides what other keys in the
              section are used. If not specified, the default is
              Threshold.
	    </td><td>string</td><td>NO</td></tr><tr><td>MaxSize</td><td>
              Specifies the maximum (unscaled) size that the icons in this
              directory can be scaled to. Defaults to the value
              of Size if not present.
	    </td><td>integer</td><td>NO</td><td>Scalable</td></tr><tr><td>MinSize</td><td>
              Specifies the minimum (unscaled) size that the icons in this
              directory can be scaled to. Defaults to the value
              of Size if not present.
	    </td><td>integer</td><td>NO</td><td>Scalable</td></tr><tr><td>Threshold</td><td>
              The icons in this directory can be used if the size differ
              at most this much from the desired (unscaled) size. Defaults to 2 if not
              present.
	    </td><td>integer</td><td>NO</td><td>Threshold</td></tr></tbody></table></div></div><p><br class="table-break"></br>
    </p><p>
    In addition to these groups you may add extra groups to the
    index.theme file in order to extend it. These extensions must
    begin with "X-", and can be used to add desktop specific
    information to the theme file. Example group names would be "X-KDE
    Icon Theme" or "X-Gnome Icon Theme".
    </p><p>
    The optional filename.icon file contains a group called "Icon
    Data", with the content listed in table 3.
    </p><div class="table"><a name="idm45730922271072"></a><p class="title"><b>Table 3. Icon Data Keys</b></p><div class="table-contents"><table border="1" class="table" summary="Icon Data Keys"><colgroup><col></col><col></col><col></col><col></col></colgroup><thead><tr><th>Key</th><th>Description</th><th>Value Type</th><th>Required</th></tr></thead><tbody><tr><td>DisplayName</td><td>
              A translated UTF8 string that can be used instead of the
              icon name when the icon is listed in e.g. a user interface.
	    </td><td>localestring</td><td>NO</td></tr><tr><td>EmbeddedTextRectangle</td><td>
              If this exists, it specifies the four corners of a
              rectangle where the program displaying the icon can
              embed text. This is normally used by e.g. file managers
              that want to display a preview of text file contents in
              the icon. The corners are specified by a list of four
              values: x0,y0,x1,y1. The values are pixel coordinates
              from the top left corner of the icon, except for SVG
              files, where they are specified in a 1000x1000
              coordinate space that is scaled to the final rendered
              size of the icon.
	    </td><td>integers</td><td>NO</td></tr><tr><td>AttachPoints</td><td>
              A list of points, separated by "|" that may be used as
              anchor points for emblems/overlays. The points are pixel
              coordinates from the top left corner of the icon, except
              for SVG files, where they are specified in a 1000x1000
              coordinate space that is scaled to the final rendered
              size of the icon.
	    </td><td>points</td><td>NO</td></tr></tbody></table></div></div><p><br class="table-break"></br>
    </p><p>
    Extensions to the filename.icon file are allowed, but the
    keys must be begin with "X-" to avoid collisions with future
    standardized extensions to this format.
    </p><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="context"></a>Context</h3></div></div></div><p>The <code class="systemitem">Context</code> allows 
    	  the designer to group icons on a conceptual level. 
	  It doesn't act as a namespace in the file system, such 
	  that icons can have identical names, but allows 
	  implementations to categorize and sort by it, for example.
 	</p><p>These are the available contexts:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><b>Actions. </b>Icons representing actions which the user initiates, such as <span class="action">Save As</span>.</p></li><li class="listitem"><p><b>Devices. </b>Icons representing real world devices, 
		    such as printers and mice. It's not for 
		    file system nodes such as character or block devices.</p></li><li class="listitem"><p><b>FileSystems. </b>Icons for objects which are represented as 
		 part of the file system. This is for example, 
		 the local network, <span class="quote">“<span class="quote">Home</span>”</span>, 
		 and <span class="quote">“<span class="quote">Desktop</span>”</span> folders.</p></li><li class="listitem"><p><b>MimeTypes. </b>Icons representing MIME types.</p></li></ul></div></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="icon_lookup"></a>Icon Lookup</h2></div></div></div><p>
    The icon lookup mechanism has two global settings, the list of
    base directories and the internal name of the current theme. Given
    these we need to specify how to look up an icon file from the icon
    name, the nominal size and the scale.
    </p><p>
    The lookup is done first in the current theme, and then
    recursively in each of the current theme's parents, and
    finally in the default theme called "hicolor" (implementations may
    add more default themes before "hicolor", but "hicolor" must be
    last). As soon as there is an icon of any size that matches in a
    theme, the search is stopped. Even if there may be an icon with a
    size closer to the correct one in an inherited theme, we don't want
    to use it. Doing so may generate an inconsistant change in an icon
    when you change icon sizes (e.g. zoom in).
    </p><p>
    The lookup inside a theme is done in three phases. First all the
    directories are scanned for an exact match, e.g. one where the
    allowed size of the icon files match what was looked up. Then all
    the directories are scanned for any icon that matches the name. If
    that fails we finally fall back on unthemed icons. If we fail to
    find any icon at all it is up to the application to pick a good
    fallback, as the correct choice depends on the context.
    </p><p>
    The exact algorithm (in pseudocode) for looking up an icon in a theme
    (if the implementation supports SVG) is:
    </p><pre class="programlisting">FindIcon(icon, size, scale) {
  filename = FindIconHelper(icon, size, scale, user selected theme);
  if filename != none
    return filename

  filename = FindIconHelper(icon, size, scale, "hicolor");
  if filename != none
    return filename

  return LookupFallbackIcon (icon)
}
FindIconHelper(icon, size, scale, theme) {
  filename = LookupIcon (icon, size, scale, theme)
  if filename != none
    return filename

  if theme has parents
    parents = theme.parents

  for parent in parents {
    filename = FindIconHelper (icon, size, scale, parent)
    if filename != none
      return filename
  }
  return none
}
     </pre><p>
     With the following helper functions:
     </p><pre class="programlisting">LookupIcon (iconname, size, scale, theme) {
  for each subdir in $(theme subdir list) {
    for each directory in $(basename list) {
      for extension in ("png", "svg", "xpm") {
        if DirectoryMatchesSize(subdir, size, scale) {
          filename = directory/$(themename)/subdir/iconname.extension
          if exist filename
	    return filename
        }
      }
    }
  }
  minimal_size = MAXINT
  for each subdir in $(theme subdir list) {
    for each directory in $(basename list) {
      for extension in ("png", "svg", "xpm") {
        filename = directory/$(themename)/subdir/iconname.extension
        if exist filename and DirectorySizeDistance(subdir, size, scale) &lt; minimal_size {
	   closest_filename = filename
	   minimal_size = DirectorySizeDistance(subdir, size, scale)
        }
      }
    }
  }
  if closest_filename set
     return closest_filename
  return none
}

LookupFallbackIcon (iconname) {
  for each directory in $(basename list) {
    for extension in ("png", "svg", "xpm") {
      if exists directory/iconname.extension
        return directory/iconname.extension
    }
  }
  return none
}

DirectoryMatchesSize(subdir, iconsize, iconscale) {
  read Type and size data from subdir
  if Scale != iconscale
     return False;
  if Type is Fixed
    return Size == iconsize
  if Type is Scaled
    return MinSize &lt;= iconsize &lt;= MaxSize
  if Type is Threshold
    return Size - Threshold &lt;= iconsize &lt;= Size + Threshold
}

DirectorySizeDistance(subdir, iconsize, iconscale) {
  read Type and size data from subdir
  if Type is Fixed
    return abs(Size*Scale - iconsize*iconscale)
  if Type is Scaled
    if iconsize*iconscale &lt; MinSize*Scale
        return MinSize*Scale - iconsize*iconscale
    if iconsize*iconscale &gt; MaxSize*Scale
        return iconsize*iconscale - MaxSize*Scale
    return 0
  if Type is Threshold
    if iconsize*iconscale &lt; (Size - Threshold)*Scale
        return MinSize*Scale - iconsize*iconscale
    if iconsize*iconsize &gt; (Size + Threshold)*Scale
        return iconsize*iconsize - MaxSize*Scale
    return 0
}
</pre><p>
    </p><p>
    In some cases you don't always want to fall back to an icon in an
    inherited theme. For instance, sometimes you look for a set of
    icons, prefering any of them before using an icon from an inherited
    theme. To support such operations implementations can contain a
    function that finds the first of a list of icon names in the inheritance
    hierarchy. I.E. It would look something like this:
</p><pre class="programlisting">FindBestIcon(iconList, size, scale) {
  filename = FindBestIconHelper(iconList, size, scale, user selected theme);
  if filename != none
    return filename

  filename = FindBestIconHelper(iconList, size, scale, "hicolor");
  if filename != none
    return filename

  for icon in iconList {
    filename = LookupFallbackIcon (icon)
    if filename != none
      return filename
  }
  return none;
}
FindBestIconHelper(iconList, size, scale, theme) {
  for icon in iconList {
    filename = LookupIcon (icon, size, theme)
    if filename != none
      return filename
  }

  if theme has parents
    parents = theme.parents

  for parent in parents {
    filename = FindBestIconHelper (iconList, size, scale, parent)
    if filename != none
      return filename
  }
  return none
}
</pre><p>
    This can be very useful for example when handling mimetype icons, where there
    are more and less "specific" versions of icons.
    </p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="example"></a>Example</h2></div></div></div><p>
     Here is an example index.theme file:
     </p><pre class="programlisting">[Icon Theme]
Name=Birch
Name[sv]=Björk
Comment=Icon theme with a wooden look
Comment[sv]=Träinspirerat ikontema
Inherits=wood,default
Directories=48x48/apps,48x48@2/apps48x48/mimetypes,32x32/apps,32x32@2/apps,scalable/apps,scalable/mimetypes

[scalable/apps]
Size=48
Type=Scalable
MinSize=1
MaxSize=256
Context=Applications

[scalable/mimetypes]
Size=48
Type=Scalable
MinSize=1
MaxSize=256
Context=MimeTypes

[32x32/apps]
Size=32
Type=Fixed
Context=Applications

[32x32@2/apps]
Size=32
Scale=2
Type=Fixed
Context=Applications

[48x48/apps]
Size=48
Type=Fixed
Context=Applications

[48x48@2/apps]
Size=48
Scale=2
Type=Fixed
Context=Applications

[48x48/mimetypes]
Size=48
Type=Fixed
Context=MimeTypes</pre><p>
     The corresponding directory tree in the /usr/share/icons
     directory could look like this:
     </p><pre class="programlisting">birch/index.theme
birch/scalable/apps/mozilla.svg
birch/scalable/mimetypes/mime_text_plain.svg
birch/scalable/mimetypes/mime_text_plain.icon
birch/48x48/apps/mozilla.png
birch/48x48@2/apps/mozilla.png
birch/32x32/apps/mozilla.png
birch/32x32@2/apps/mozilla.png
birch/48x48/mimetypes/mime_text_plain.png
birch/48x48/mimetypes/mime_text_plain.icon</pre><p>
Where birch/scalable/mimetypes/mime_text_plain.icon contains:
     </p><pre class="programlisting">[Icon Data]
DisplayName=Mime text/plain
EmbeddedTextRectangle=100,100,900,900
AttachPoints=200,200|800,200|500,500|200,800|800,800</pre><p>
And birch/48x48/mimetypes/mime_text_plain.icon contains:
     </p><pre class="programlisting">[Icon Data]
DisplayName=Mime text/plain
EmbeddedTextRectangle=8,8,40,40
AttachPoints=20,20|40,40|50,10|10,50</pre><p>
    </p><p>
    In this example a lookup of "mozilla" would get the prerendered
    48x48 and 32x32 icons before the SVG icons due to the order of
    Directories.
    </p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="install_icons"></a>Installing Application Icons</h2></div></div></div><p>
    So, you're an application author, and want to install application icons
    so that they work in the KDE and Gnome menus. Minimally you should install
    a 48x48 icon in the hicolor theme. This means installing a PNG file in
    $prefix/share/icons/hicolor/48x48/apps. Optionally you can install icons in different
    sizes. For example, installing a svg icon in $prefix/share/icons/hicolor/scalable/apps
    means most desktops will have one icon that works for all sizes. You might even want to
    install icons with a look that matches other well known themes so your application
    will fit in with some specific desktop environment. 
    </p><p>
    It is recommended that the icons installed in the hicolor theme look neutral,
    since it is a fallback theme that will be used in combination with some very
    different looking themes. But if you don't have any neutral icon, please install
    whatever icon you have in the hicolor theme so that all applications get at
    least some icon in all themes.
    </p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="implementation_notes"></a>Implementation Notes</h2></div></div></div><p>
    The algorithm as described in this document works by always
    looking up filenames in directories (a stat in unix
    terminology). A good implementation is expected to read the
    directories once, and do all lookups in memory using that
    information.
    </p><p>
    This caching can make it impossible for users to add icons without
    having to restart applications. In order to handle this, any
    implementation that does caching is required to look at the mtime
    of the toplevel icon directories when doing a cache lookup, unless
    it already did so less than 5 seconds ago. This means that any
    icon editor or theme installation program need only to change the
    mtime of the the toplevel directory where it changed the theme to
    make sure that the new icons will eventually get used.
    </p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="background"></a>Background</h2></div></div></div><p>
    The icon theme specification is based on the original
    KDE icon theme system designed by Antonio Larossa,
    Geert Janssen and Torsten Rahn. The common specification
    mostly adds support for .icon files, renames the icon theme
    description files and removes a few references to kde in them.
    </p></div><div class="appendix"><h2 class="title" style="clear: both"><a name="changes"></a>A. Change history</h2><p><b>Version 0.13, July 2 2013, Alexander Larsson. </b>
	</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Add icon Scales.
	    </p></li></ul></div><p>
      </p><p><b>Version 0.12, 24 December 2006, Octavio Alvarez. </b>
	</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Fixed "hicolor" lookup in the pseudocode, so it works with multiple
            parents.
	    </p></li></ul></div><p>
      </p><p><b>Version 0.11, 7 February 2006, Alexander Larsson. </b>
	</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Fixed icon lookup clarification to work with multiple inheritance.
	    </p></li></ul></div><p>
      </p><p><b>Version 0.10, 7 February 2006, Alexander Larsson. </b>
	</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Clarify that icon lookup looks in all parent themes before
            falling back to nonthemed icons.
	    </p></li><li class="listitem"><p>
            Added lookup function that takes a list of icon names (FindBestIcon)
	    </p></li></ul></div><p>
      </p><p><b>Version 0.9, 4 April 2005, Alexander Larsson. </b>
	</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Cleanups and fixes to language from Rodney Dawes and
            Frans Englich.
	    </p></li><li class="listitem"><p>
            Added section describing Contexts in more details (by
            Frans Englich).
	    </p></li></ul></div><p>
      </p><p><b>Version 0.8, 5 February 2004, Alexander Larsson. </b>
	</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Fix language problems as pointed out by Rodney Dawes and
            Michael Terry.
	    </p></li><li class="listitem"><p>
            Added background section.
	    </p></li></ul></div><p>
      </p><p><b>Version 0.7, 13 September 2003, Heinrich Wendel. </b>
	</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Converted to basedir spec.
	    </p></li><li class="listitem"><p>
            Changed type of MaxSize, MinSize and Threshold to integer.
	    </p></li><li class="listitem"><p>
            Removed typo in code example.
	    </p></li><li class="listitem"><p>
            Corrected path to default-icon-theme.
	    </p></li></ul></div><p>
      </p><p><b>Version 0.6, 2 December 2002, Alexander Larsson. </b>
	</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Added Hidden key.
	    </p></li><li class="listitem"><p>
            Removed multiple inheritance.
	    </p></li><li class="listitem"><p>
            Renamed the default theme hicolor.
	    </p></li><li class="listitem"><p>
            Added the application icon install section.
	    </p></li><li class="listitem"><p>
            Fixed some xml issues.
	    </p></li></ul></div><p>
      </p><p><b>Version 0.5, 18 September 2002, Alexander Larsson. </b>
	</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Added DisplayName to icon data.
	    </p></li><li class="listitem"><p>
            Fixed up example svg icon data.
	    </p></li><li class="listitem"><p>
            Fixed some spelling and grammar errors.
	    </p></li></ul></div><p>
      </p><p><b>Version 0.4, 16 May 2002, Alexander Larsson. </b>
	</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Fixed some spelling and grammar errors.
	    </p></li></ul></div><p>
      </p><p><b>Version 0.3, 14 May 2002, Alexander Larsson. </b>
	</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Made support for SVGs optional.
	    </p></li><li class="listitem"><p>
            Added a default fallback theme.
	    </p></li><li class="listitem"><p>
            Changed the example directory layout a bit to
            match the default theme.
	    </p></li></ul></div><p>
      </p><p><b>Version 0.2, 29 April 2002, Alexander Larsson. </b>
	</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              Changed search order to png, svg, xpm.
	    </p></li><li class="listitem"><p>
              Added comment to say that xpm is supported for backwards
              compat and not recommended in new themes.
	    </p></li><li class="listitem"><p>
              Default Type for a directory is now Threshold
	    </p></li><li class="listitem"><p>
              Added implementation notes section.
	    </p></li><li class="listitem"><p>
              Added Example key.
	    </p></li></ul></div><p>
      </p><p><b>Version 0.1, 22 April 2002, Alexander Larsson. </b>
	</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
              Created initial draft.
	    </p></li></ul></div><p>
      </p></div><div class="footnotes"><br></br><hr style="width:100; text-align:left;margin-left: 0"></hr><div class="footnote" id="ftn.idm45730926575904"><p><a class="para" href="index.html#idm45730926575904"><sup class="para">[1] </sup></a>This name is chosen for backwards compatibility with the old
    KDE default theme</p></div></div></div></div><div id="footer_art" class="default"> </div></div><div class="clearfix"></div><div id="footer_grass">   </div><div id="footer"><div class="container_12"><div class="links grid_9"><div class="menu-footer-1-container"><ul id="menu-footer-1" class="menu"><li id="menu-item-88" class="menu-item menu-item-type-custom menu-item-home menu-item-88"><a href="https://www.gnome.org/">The GNOME Project</a><ul class="sub-menu"><li id="menu-item-89" class="menu-item menu-item-type-post_type menu-item-89"><a href="https://www.gnome.org/about/">About Us</a></li><li id="menu-item-90" class="menu-item menu-item-type-custom menu-item-90"><a href="https://www.gnome.org/get-involved/">Get Involved</a></li><li id="menu-item-91" class="menu-item menu-item-type-custom menu-item-91"><a href="https://www.gnome.org/teams/">Teams</a></li><li id="menu-item-92" class="menu-item menu-item-type-custom menu-item-92"><a href="https://foundation.gnome.org">The GNOME Foundation</a></li><li><a href="https://www.gnome.org/support-gnome/">Support GNOME</a></li><li><a href="https://www.gnome.org/contact/">Contact</a></li></ul></li></ul></div><div class="menu-footer-2-container"><ul id="menu-footer-2" class="menu"><li id="menu-item-99" class="menu-item menu-item-type-post_type current-menu-item page_item page-item-20 current_page_item menu-item-99"><a href="index.html#">Resources</a><ul class="sub-menu"><li><a href="https://help.gnome.org">Documentation</a></li><li><a href="https://wiki.gnome.org">Wiki</a></li><li><a href="https://mail.gnome.org/mailman/listinfo">Mailing Lists</a></li><li><a href="https://wiki.gnome.org/GnomeIrcChannels">IRC Channels</a></li><li><a href="https://gitlab.gnome.org/">Bug Tracker</a></li><li><a href="https://gitlab.gnome.org/">Development Code</a></li><li><a href="https://wiki.gnome.org/Jhbuild">Build Tool</a></li></ul></li></ul></div><div class="menu-footer-4-container"><ul id="menu-footer-4" class="menu"><li id="menu-item-104" class="menu-item menu-item-type-custom menu-item-104"><a href="http://www.gnome.org/news/">News</a><ul class="sub-menu"><li><a href="https://www.gnome.org/start/stable">Latest Release</a></li><li><a href="https://planet.gnome.org">Planet GNOME</a></li><li><a href="https://news.gnome.org">Development News</a></li><li><a href="https://twitter.com/gnome">Twitter</a></li></ul></li></ul></div></div><div class="links grid_3 right"><div><ul class="menu available_languages"><li><strong>This website is available in many languages</strong><ul class="sub-menu"><li><a href="../languages.html" title="Switching Language">Switch Language</a></li></ul></li></ul><script type="text/javascript" src="../js/language.js"></script></div></div><div id="footnotes" class="grid_9">
                Copyright © 2005‒2014 <strong class="gnome_logo">The GNOME Project</strong><br></br><small>Optimised for standards. Hosted by <a href="http://redhat.com">Red Hat</a>.</small></div><div class="clear"></div></div></div><script type="text/javascript">
$(document).ready(function() {
    // Get browser
    $.each($.browser, function(i) {
        $('body').addClass(i);
        return false;
    });

    // Get OS and add it as class to body tag, this then allows forcing some
    // customisation in the CSS rules.
    var match = navigator.userAgent.toLowerCase().match(/(win|mac|linux)/);
    if (match) {
        $('body').addClass(match[0]);
    }
});
</script><script type="text/javascript">
      var _paq = _paq || [];
      _paq.push(['disableCookies']);
      _paq.push(["trackPageView"]);
      _paq.push(["enableLinkTracking"]);

      (function() {
        var u=(("https:" == document.location.protocol) ? "https" : "http") + "://webstats.gnome.org/";
        _paq.push(["setTrackerUrl", u+"piwik.php"]);
        _paq.push(["setSiteId", "6"]);
        var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";
        g.defer=true; g.async=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
      })();
    </script></body></html>
