<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:html="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="text/html; charset=utf-8"></meta><link rel="stylesheet" href="../../skin/gtkdoc.css" type="text/css"></link><link rel="stylesheet" type="text/css" media="all" href="https://static.gnome.org/css/grass-theme-style.css"></link><link rel="stylesheet" type="text/css" media="all" href="../../skin/lgo2010.css"></link><link rel="icon" type="image/png" href="../../skin/gnome-16.png"></link><link rel="SHORTCUT ICON" type="image/png" href="../../skin/gnome-16.png"></link><link rel="search" type="application/opensearchdescription+xml" href="../../gnome-library-search.xml" title="GNOME Library Search"></link><link rel="stylesheet" type="text/css" href="../../skin/jquery.autocomplete.css"></link><script type="text/javascript" src="../../js/jquery.js"></script><script type="text/javascript" src="../../js/jquery.autocomplete.js"></script><title>rb-tree-dnd: Rhythmbox Development Reference Manual</title><link href="index.html" rel="home" title="Rhythmbox Development Reference Manual"></link><link href="ch02.html" rel="up" title="Lib"></link><link href="RBStringValueMap.html" rel="prev" title="RBStringValueMap"></link><link href="rhythmbox-rb-util.html" rel="next" title="rb-util"></link><link rel="stylesheet" type="text/css" media="all" href="../../skin/jquery.autocomplete.css"></link><link rel="stylesheet" type="text/css" media="all" href="../../skin/960_24_col.css"></link><script type="text/javascript" src="../../js/jquery.js"></script><script type="text/javascript" src="https://developer-old.gnome.org/js/jquery.jcarousel.min.js"></script><script type="text/javascript" src="../../js/jquery.autocomplete.js"></script></head><body><div id="accessibility_access"><ul><li><a href="rhythmbox-rb-tree-dnd.html#container">Go to page content</a></li><li><a href="rhythmbox-rb-tree-dnd.html#top_bar">Go to main menu</a></li><li><a href="rhythmbox-rb-tree-dnd.html#s" onclick="$('#s').focus(); return false;">Go to the search field</a></li></ul></div><div id="global_domain_bar"><div class="maxwidth"><div class="tab"><a class="root" href="https://www.gnome.org/">GNOME.org</a></div></div></div><div id="header" class="container_12"><div id="logo" class="grid_3"><a title="Go to home page" href="../../index.html"><img alt="GNOME: The Free Software Desktop Project" src="../../skin/gnome-logo-devcenter.png"></img></a></div><div id="top_bar" class="grid_9"><div class="left"><div class="menu-globalnav-container"><ul id="menu-globalnav" class="menu"><li class="menu-item menu-item-type-post_type menu-item-6"><a href="../../about/index.html">About</a></li><li class="menu-item menu-item-type-post_type menu-item-23"><a href="https://help.gnome.org/users/">Users</a></li><li class="menu-item menu-item-type-post_type menu-item-40"><a href="https://help.gnome.org/admin/">Administrators</a></li><li class="current-menu-item"><a href="https://developer.gnome.org/">Developers</a></li></ul></div></div><div class="right"><form role="search" method="get" id="searchform" action="https://developer-old.gnome.org/symbols/"><div><label class="hidden" for="q">Search:
                        </label><input type="text" value="" name="q" id="s" placeholder="Search"></input></div></form><script type="text/javascript">
$('#s').autocomplete('/symbols/lookup/',
        { minChars:3, matchSubset:1, matchContains:1, cacheLength:10,
          selectOnly:1, rowsLimit:25 });
              </script></div></div></div><div class="clearfix"></div><div id="container" class="gtk-doc"><div class="content"><table cellpadding="2" cellspacing="5" class="navigation" id="top" summary="Navigation header" width="100%"><tbody><tr valign="middle">
<td align="left" class="shortcuts" width="100%">
<a class="shortcut" href="rhythmbox-rb-tree-dnd.html#">Top</a><span id="nav_description">  <span class="dim">|</span> 
                  <a class="shortcut" href="rhythmbox-rb-tree-dnd.html#rhythmbox-rb-tree-dnd.description">Description</a></span><span id="nav_hierarchy">  <span class="dim">|</span> 
                  <a class="shortcut" href="rhythmbox-rb-tree-dnd.html#rhythmbox-rb-tree-dnd.object-hierarchy">Object Hierarchy</a></span><span id="nav_implementations">  <span class="dim">|</span> 
                  <a class="shortcut" href="rhythmbox-rb-tree-dnd.html#rhythmbox-rb-tree-dnd.implementations">Known Implementations</a></span>
</td>
<td><a accesskey="h" href="index.html"><img alt="Home" border="0" height="16" src="home.png" width="16"></img></a></td>
<td><a accesskey="u" href="ch02.html"><img alt="Up" border="0" height="16" src="up.png" width="16"></img></a></td>
<td><a accesskey="p" href="RBStringValueMap.html"><img alt="Prev" border="0" height="16" src="left.png" width="16"></img></a></td>
<td><a accesskey="n" href="rhythmbox-rb-util.html"><img alt="Next" border="0" height="16" src="right.png" width="16"></img></a></td>
</tr></tbody></table><div class="refentry">
<a name="rhythmbox-rb-tree-dnd"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tbody><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="rhythmbox-rb-tree-dnd.top_of_page"></a>rb-tree-dnd</span></h2>
<p>rb-tree-dnd — multi-row drag and drop support for GtkTreeViews</p>
</td>
<td align="right" class="gallery_image" valign="top"></td>
</tr></tbody></table></div>
<div class="refsect1">
<a name="rhythmbox-rb-tree-dnd.functions"></a><h2>Functions</h2>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="functions_return" width="150px"></col>
<col class="functions_name"></col>
</colgroup>
<tbody>
<tr>
<td class="function_type">
<a href="../../glib/stable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
</td>
<td class="function_name">
<a class="link" href="rhythmbox-rb-tree-dnd.html#rb-tree-drag-source-row-draggable" title="rb_tree_drag_source_row_draggable ()">rb_tree_drag_source_row_draggable</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="../../glib/stable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
</td>
<td class="function_name">
<a class="link" href="rhythmbox-rb-tree-dnd.html#rb-tree-drag-source-drag-data-delete" title="rb_tree_drag_source_drag_data_delete ()">rb_tree_drag_source_drag_data_delete</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="../../glib/stable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
</td>
<td class="function_name">
<a class="link" href="rhythmbox-rb-tree-dnd.html#rb-tree-drag-source-drag-data-get" title="rb_tree_drag_source_drag_data_get ()">rb_tree_drag_source_drag_data_get</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="../../glib/stable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
</td>
<td class="function_name">
<a class="link" href="rhythmbox-rb-tree-dnd.html#rb-tree-drag-dest-drag-data-received" title="rb_tree_drag_dest_drag_data_received ()">rb_tree_drag_dest_drag_data_received</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="../../glib/stable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
</td>
<td class="function_name">
<a class="link" href="rhythmbox-rb-tree-dnd.html#rb-tree-drag-dest-row-drop-possible" title="rb_tree_drag_dest_row_drop_possible ()">rb_tree_drag_dest_row_drop_possible</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<a href="../../glib/stable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
</td>
<td class="function_name">
<a class="link" href="rhythmbox-rb-tree-dnd.html#rb-tree-drag-dest-row-drop-position" title="rb_tree_drag_dest_row_drop_position ()">rb_tree_drag_dest_row_drop_position</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="rhythmbox-rb-tree-dnd.html#rb-tree-dnd-add-drag-dest-support" title="rb_tree_dnd_add_drag_dest_support ()">rb_tree_dnd_add_drag_dest_support</a> <span class="c_punctuation">()</span>
</td>
</tr>
<tr>
<td class="function_type">
<span class="returnvalue">void</span>
</td>
<td class="function_name">
<a class="link" href="rhythmbox-rb-tree-dnd.html#rb-tree-dnd-add-drag-source-support" title="rb_tree_dnd_add_drag_source_support ()">rb_tree_dnd_add_drag_source_support</a> <span class="c_punctuation">()</span>
</td>
</tr>
</tbody>
</table></div>
</div>
<a name="RbTreeDragSource"></a><a name="RbTreeDragDest"></a><div class="refsect1">
<a name="rhythmbox-rb-tree-dnd.other"></a><h2>Types and Values</h2>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="name" width="150px"></col>
<col class="description"></col>
</colgroup>
<tbody>
<tr>
<td class="datatype_keyword"> </td>
<td class="function_name"><a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource-struct" title="RbTreeDragSource">RbTreeDragSource</a></td>
</tr>
<tr>
<td class="datatype_keyword">struct</td>
<td class="function_name"><a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSourceIface" title="struct RbTreeDragSourceIface">RbTreeDragSourceIface</a></td>
</tr>
<tr>
<td class="datatype_keyword"> </td>
<td class="function_name"><a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest-struct" title="RbTreeDragDest">RbTreeDragDest</a></td>
</tr>
<tr>
<td class="datatype_keyword">struct</td>
<td class="function_name"><a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDestIface" title="struct RbTreeDragDestIface">RbTreeDragDestIface</a></td>
</tr>
<tr>
<td class="datatype_keyword">enum</td>
<td class="function_name"><a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDestFlag" title="enum RbTreeDestFlag">RbTreeDestFlag</a></td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect1">
<a name="rhythmbox-rb-tree-dnd.object-hierarchy"></a><h2>Object Hierarchy</h2>
<pre class="screen">    <a href="../../gobject/stable/GTypeModule.html">GInterface</a>
    <span class="lineart">├──</span> RbTreeDragDest
    <span class="lineart">╰──</span> RbTreeDragSource
</pre>
</div>
<div class="refsect1">
<a name="rhythmbox-rb-tree-dnd.implementations"></a><h2>Known Implementations</h2>
<p>
RbTreeDragSource is implemented by
 <a class="link" href="RBDisplayPageModel.html" title="RBDisplayPageModel">RBDisplayPageModel</a>,  <a class="link" href="RhythmDBPropertyModel.html" title="RhythmDBPropertyModel">RhythmDBPropertyModel</a> and  <a class="link" href="RhythmDBQueryModel.html" title="RhythmDBQueryModel">RhythmDBQueryModel</a>.</p>
<p>
RbTreeDragDest is implemented by
 <a class="link" href="RBDisplayPageModel.html" title="RBDisplayPageModel">RBDisplayPageModel</a> and  <a class="link" href="RhythmDBQueryModel.html" title="RhythmDBQueryModel">RhythmDBQueryModel</a>.</p>
</div>
<div class="refsect1">
<a name="rhythmbox-rb-tree-dnd.description"></a><h2>Description</h2>
<p>Provides support for drag and drop operations to and from GtkTreeView
widgets that can include multiple rows.  The model backing the tree view
widgets must implement the <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="type">RbTreeDragSource</span></a> and <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="type">RbTreeDragDest</span></a> interfaces.</p>
</div>
<div class="refsect1">
<a name="rhythmbox-rb-tree-dnd.functions_details"></a><h2>Functions</h2>
<div class="refsect2">
<a name="rb-tree-drag-source-row-draggable"></a><h3>rb_tree_drag_source_row_draggable ()</h3>
<pre class="programlisting"><a href="../../glib/stable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
rb_tree_drag_source_row_draggable (<em class="parameter"><code><a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="type">RbTreeDragSource</span></a> *drag_source</code></em>,
                                   <em class="parameter"><code><a href="../../glib/stable/glib-Doubly-Linked-Lists.html#GList"><span class="type">GList</span></a> *path_list</code></em>);</pre>
<p>Asks the <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="type">RbTreeDragSource</span></a> whether a particular row can be used as
the source of a DND operation. If the source doesn't implement
this interface, the row is assumed draggable.</p>
<div class="refsect3">
<a name="rb-tree-drag-source-row-draggable.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>drag_source</p></td>
<td class="parameter_description"><p>a <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="type">RbTreeDragSource</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>path_list</p></td>
<td class="parameter_description"><p>row on which user is initiating a drag</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="rb-tree-drag-source-row-draggable.returns"></a><h4>Returns</h4>
<p> <a href="../../glib/stable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if the row can be dragged</p>
</div>
</div>
<hr></hr>
<div class="refsect2">
<a name="rb-tree-drag-source-drag-data-delete"></a><h3>rb_tree_drag_source_drag_data_delete ()</h3>
<pre class="programlisting"><a href="../../glib/stable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
rb_tree_drag_source_drag_data_delete (<em class="parameter"><code><a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="type">RbTreeDragSource</span></a> *drag_source</code></em>,
                                      <em class="parameter"><code><a href="../../glib/stable/glib-Doubly-Linked-Lists.html#GList"><span class="type">GList</span></a> *path_list</code></em>);</pre>
<p>Asks the <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="type">RbTreeDragSource</span></a> to delete the row at <em class="parameter"><code>path</code></em>
, because
it was moved somewhere else via drag-and-drop. Returns <a href="../../glib/stable/glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a>
if the deletion fails because <em class="parameter"><code>path</code></em>
 no longer exists, or for
some model-specific reason. Should robustly handle a <em class="parameter"><code>path</code></em>
 no
longer found in the model!</p>
<div class="refsect3">
<a name="rb-tree-drag-source-drag-data-delete.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>drag_source</p></td>
<td class="parameter_description"><p>a <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="type">RbTreeDragSource</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>path_list</p></td>
<td class="parameter_description"><p>row that was being dragged</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="rb-tree-drag-source-drag-data-delete.returns"></a><h4>Returns</h4>
<p> <a href="../../glib/stable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if the row was successfully deleted</p>
</div>
</div>
<hr></hr>
<div class="refsect2">
<a name="rb-tree-drag-source-drag-data-get"></a><h3>rb_tree_drag_source_drag_data_get ()</h3>
<pre class="programlisting"><a href="../../glib/stable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
rb_tree_drag_source_drag_data_get (<em class="parameter"><code><a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="type">RbTreeDragSource</span></a> *drag_source</code></em>,
                                   <em class="parameter"><code><a href="../../glib/stable/glib-Doubly-Linked-Lists.html#GList"><span class="type">GList</span></a> *path_list</code></em>,
                                   <em class="parameter"><code><a href="../../gtk3/stable/gtk3-Selections.html#GtkSelectionData-struct"><span class="type">GtkSelectionData</span></a> *selection_data</code></em>);</pre>
<p>Asks the <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="type">RbTreeDragSource</span></a> to fill in <em class="parameter"><code>selection_data</code></em>
 with a
representation of the row at <em class="parameter"><code>path</code></em>
. <em class="parameter"><code>selection_data-&gt;target</code></em>
 gives
the required type of the data.  Should robustly handle a <em class="parameter"><code>path</code></em>
 no
longer found in the model!</p>
<div class="refsect3">
<a name="rb-tree-drag-source-drag-data-get.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>drag_source</p></td>
<td class="parameter_description"><p>a <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="type">RbTreeDragSource</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>path_list</p></td>
<td class="parameter_description"><p>row that was dragged</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>selection_data</p></td>
<td class="parameter_description"><p>a <a href="../../gtk3/stable/gtk3-Selections.html#GtkSelectionData-struct"><span class="type">GtkSelectionData</span></a> to fill with data from the dragged row</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="rb-tree-drag-source-drag-data-get.returns"></a><h4>Returns</h4>
<p> <a href="../../glib/stable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if data of the required type was provided</p>
</div>
</div>
<hr></hr>
<div class="refsect2">
<a name="rb-tree-drag-dest-drag-data-received"></a><h3>rb_tree_drag_dest_drag_data_received ()</h3>
<pre class="programlisting"><a href="../../glib/stable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
rb_tree_drag_dest_drag_data_received (<em class="parameter"><code><a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="type">RbTreeDragDest</span></a> *drag_dest</code></em>,
                                      <em class="parameter"><code><a href="../../gtk/stable/GtkTreeModel.html#GtkTreePath-struct"><span class="type">GtkTreePath</span></a> *dest</code></em>,
                                      <em class="parameter"><code><a href="../../gtk/stable/GtkTreeView.html#GtkTreeViewDropPosition"><span class="type">GtkTreeViewDropPosition</span></a> pos</code></em>,
                                      <em class="parameter"><code><a href="../../gtk3/stable/gtk3-Selections.html#GtkSelectionData-struct"><span class="type">GtkSelectionData</span></a> *selection_data</code></em>);</pre>
<p>Asks a <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="type">RbTreeDragDest</span></a> to accept some drag and drop data.</p>
<div class="refsect3">
<a name="rb-tree-drag-dest-drag-data-received.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>drag_dest</p></td>
<td class="parameter_description"><p>a <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="type">RbTreeDragDest</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>dest</p></td>
<td class="parameter_description"><p>the <a href="../../gtk/stable/GtkTreeModel.html#GtkTreePath-struct"><span class="type">GtkTreePath</span></a> on which the data was dropped</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>pos</p></td>
<td class="parameter_description"><p>the drop position relative to the row identified by <em class="parameter"><code>dest</code></em>
</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>selection_data</p></td>
<td class="parameter_description"><p>a <a href="../../gtk3/stable/gtk3-Selections.html#GtkSelectionData-struct"><span class="type">GtkSelectionData</span></a> containing the drag data</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="rb-tree-drag-dest-drag-data-received.returns"></a><h4>Returns</h4>
<p> <a href="../../glib/stable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if the data was accepted, <a href="../../glib/stable/glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a> otherwise</p>
</div>
</div>
<hr></hr>
<div class="refsect2">
<a name="rb-tree-drag-dest-row-drop-possible"></a><h3>rb_tree_drag_dest_row_drop_possible ()</h3>
<pre class="programlisting"><a href="../../glib/stable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
rb_tree_drag_dest_row_drop_possible (<em class="parameter"><code><a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="type">RbTreeDragDest</span></a> *drag_dest</code></em>,
                                     <em class="parameter"><code><a href="../../gtk/stable/GtkTreeModel.html#GtkTreePath-struct"><span class="type">GtkTreePath</span></a> *dest_path</code></em>,
                                     <em class="parameter"><code><a href="../../gtk/stable/GtkTreeView.html#GtkTreeViewDropPosition"><span class="type">GtkTreeViewDropPosition</span></a> pos</code></em>,
                                     <em class="parameter"><code><a href="../../gtk3/stable/gtk3-Selections.html#GtkSelectionData-struct"><span class="type">GtkSelectionData</span></a> *selection_data</code></em>);</pre>
<p>Asks the <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="type">RbTreeDragDest</span></a> whether data can be dropped on a particular
row.  This should probably check based on the format and the row.</p>
<div class="refsect3">
<a name="rb-tree-drag-dest-row-drop-possible.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>drag_dest</p></td>
<td class="parameter_description"><p>a <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="type">RbTreeDragDest</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>dest_path</p></td>
<td class="parameter_description"><p>the <a href="../../gtk/stable/GtkTreeModel.html#GtkTreePath-struct"><span class="type">GtkTreePath</span></a> on which the data may be dropped</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>pos</p></td>
<td class="parameter_description"><p>the drop position relative to the row identified by <em class="parameter"><code>dest</code></em>
</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>selection_data</p></td>
<td class="parameter_description"><p>a <a href="../../gtk3/stable/gtk3-Selections.html#GtkSelectionData-struct"><span class="type">GtkSelectionData</span></a> containing the drag data</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="rb-tree-drag-dest-row-drop-possible.returns"></a><h4>Returns</h4>
<p> <a href="../../glib/stable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if the data can be dropped there</p>
</div>
</div>
<hr></hr>
<div class="refsect2">
<a name="rb-tree-drag-dest-row-drop-position"></a><h3>rb_tree_drag_dest_row_drop_position ()</h3>
<pre class="programlisting"><a href="../../glib/stable/glib-Basic-Types.html#gboolean"><span class="returnvalue">gboolean</span></a>
rb_tree_drag_dest_row_drop_position (<em class="parameter"><code><a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="type">RbTreeDragDest</span></a> *drag_dest</code></em>,
                                     <em class="parameter"><code><a href="../../gtk/stable/GtkTreeModel.html#GtkTreePath-struct"><span class="type">GtkTreePath</span></a> *dest_path</code></em>,
                                     <em class="parameter"><code><a href="../../glib/stable/glib-Doubly-Linked-Lists.html#GList"><span class="type">GList</span></a> *targets</code></em>,
                                     <em class="parameter"><code><a href="../../gtk/stable/GtkTreeView.html#GtkTreeViewDropPosition"><span class="type">GtkTreeViewDropPosition</span></a> *pos</code></em>);</pre>
<p>Asks the <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="type">RbTreeDragDest</span></a> which drop position to use relative to the specified row.
The drag destination should decide which drop position to use based on the 
target row and the list of drag targets.</p>
<div class="refsect3">
<a name="rb-tree-drag-dest-row-drop-position.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>drag_dest</p></td>
<td class="parameter_description"><p>a <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="type">RbTreeDragDest</span></a></p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>dest_path</p></td>
<td class="parameter_description"><p>a <a href="../../gtk/stable/GtkTreeModel.html#GtkTreePath-struct"><span class="type">GtkTreePath</span></a> describing a possible drop row</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>targets</p></td>
<td class="parameter_description"><p>a <a href="../../glib/stable/glib-Doubly-Linked-Lists.html#GList"><span class="type">GList</span></a> containing possible drop target types</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>pos</p></td>
<td class="parameter_description"><p>returns the <a href="../../gtk/stable/GtkTreeView.html#GtkTreeViewDropPosition"><span class="type">GtkTreeViewDropPosition</span></a> to use relative to the row</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
<div class="refsect3">
<a name="rb-tree-drag-dest-row-drop-position.returns"></a><h4>Returns</h4>
<p> <a href="../../glib/stable/glib-Standard-Macros.html#TRUE:CAPS"><code class="literal">TRUE</code></a> if a drop position has been set, <a href="../../glib/stable/glib-Standard-Macros.html#FALSE:CAPS"><code class="literal">FALSE</code></a> if a drop should not be
allowed in the specified row</p>
</div>
</div>
<hr></hr>
<div class="refsect2">
<a name="rb-tree-dnd-add-drag-dest-support"></a><h3>rb_tree_dnd_add_drag_dest_support ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
rb_tree_dnd_add_drag_dest_support (<em class="parameter"><code><a href="../../gtk/stable/GtkTreeView.html#GtkTreeView-struct"><span class="type">GtkTreeView</span></a> *tree_view</code></em>,
                                   <em class="parameter"><code><a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDestFlag" title="enum RbTreeDestFlag"><span class="type">RbTreeDestFlag</span></a> flags</code></em>,
                                   <em class="parameter"><code>const <a href="../../gtk3/stable/gtk3-Selections.html#GtkTargetEntry"><span class="type">GtkTargetEntry</span></a> *targets</code></em>,
                                   <em class="parameter"><code><a href="../../glib/stable/glib-Basic-Types.html#gint"><span class="type">gint</span></a> n_targets</code></em>,
                                   <em class="parameter"><code><a href="../../gdk/stable/gdk3-Drag-and-Drop.html#GdkDragAction"><span class="type">GdkDragAction</span></a> actions</code></em>);</pre>
<p>Adds event handlers to perform multi-row drag and drop operations to the specified
<a href="../../gtk/stable/GtkTreeView.html#GtkTreeView-struct"><span class="type">GtkTreeView</span></a>.  The model backing the tree view should implement the <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragDest"><span class="type">RbTreeDragDest</span></a>
interface.  This should be called immediately after the tree view is created.</p>
<div class="refsect3">
<a name="rb-tree-dnd-add-drag-dest-support.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>tree_view</p></td>
<td class="parameter_description"><p>a <a href="../../gtk/stable/GtkTreeView.html#GtkTreeView-struct"><span class="type">GtkTreeView</span></a> that wants to be a drag destination</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>flags</p></td>
<td class="parameter_description"><p><a href="rhythmbox-rb-tree-dnd.html#RbTreeDestFlag"><span class="type">RbTreeDestFlags</span></a> for this drag destination</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>targets</p></td>
<td class="parameter_description"><p>an array of <a href="../../gtk3/stable/gtk3-Selections.html#GtkTargetEntry"><span class="type">GtkTargetEntry</span></a> structures describing the allowed drag targets</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>n_targets</p></td>
<td class="parameter_description"><p>the number of elements in <em class="parameter"><code>targets</code></em>
</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>actions</p></td>
<td class="parameter_description"><p>the allowable drag actions for this destination</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
<hr></hr>
<div class="refsect2">
<a name="rb-tree-dnd-add-drag-source-support"></a><h3>rb_tree_dnd_add_drag_source_support ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>
rb_tree_dnd_add_drag_source_support (<em class="parameter"><code><a href="../../gtk/stable/GtkTreeView.html#GtkTreeView-struct"><span class="type">GtkTreeView</span></a> *tree_view</code></em>,
                                     <em class="parameter"><code><a href="../../gdk3/stable/gdk3-Windows.html#GdkModifierType"><span class="type">GdkModifierType</span></a> start_button_mask</code></em>,
                                     <em class="parameter"><code>const <a href="../../gtk3/stable/gtk3-Selections.html#GtkTargetEntry"><span class="type">GtkTargetEntry</span></a> *targets</code></em>,
                                     <em class="parameter"><code><a href="../../glib/stable/glib-Basic-Types.html#gint"><span class="type">gint</span></a> n_targets</code></em>,
                                     <em class="parameter"><code><a href="../../gdk/stable/gdk3-Drag-and-Drop.html#GdkDragAction"><span class="type">GdkDragAction</span></a> actions</code></em>);</pre>
<p>Adds event handlers to perform multi-row drag and drop operations from the
specified <a href="../../gtk/stable/GtkTreeView.html#GtkTreeView-struct"><span class="type">GtkTreeView</span></a> widget.  The model backing the <a href="../../gtk/stable/GtkTreeView.html#GtkTreeView-struct"><span class="type">GtkTreeView</span></a> must
implement the <a class="link" href="rhythmbox-rb-tree-dnd.html#RbTreeDragSource"><span class="type">RbTreeDragSource</span></a> interface.  This should be called immediately
after the tree view is created.</p>
<div class="refsect3">
<a name="rb-tree-dnd-add-drag-source-support.parameters"></a><h4>Parameters</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="parameters_name" width="150px"></col>
<col class="parameters_description"></col>
<col class="parameters_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="parameter_name"><p>tree_view</p></td>
<td class="parameter_description"><p>a <a href="../../gtk/stable/GtkTreeView.html#GtkTreeView-struct"><span class="type">GtkTreeView</span></a> that wants to be a drag source</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>start_button_mask</p></td>
<td class="parameter_description"><p>a mask describing modifier keys to handle when dragging</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>targets</p></td>
<td class="parameter_description"><p>an array of <a href="../../gtk3/stable/gtk3-Selections.html#GtkTargetEntry"><span class="type">GtkTargetEntry</span></a> structures describing drag data types</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>n_targets</p></td>
<td class="parameter_description"><p>the number of elements in <em class="parameter"><code>targets</code></em>
</p></td>
<td class="parameter_annotations"> </td>
</tr>
<tr>
<td class="parameter_name"><p>actions</p></td>
<td class="parameter_description"><p>a mask describing drag actions that are allowed from this source</p></td>
<td class="parameter_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div>
<div class="refsect1">
<a name="rhythmbox-rb-tree-dnd.other_details"></a><h2>Types and Values</h2>
<div class="refsect2">
<a name="RbTreeDragSource-struct"></a><h3>RbTreeDragSource</h3>
<pre class="programlisting">typedef struct _RbTreeDragSource RbTreeDragSource;</pre>
</div>
<hr></hr>
<div class="refsect2">
<a name="RbTreeDragSourceIface"></a><h3>struct RbTreeDragSourceIface</h3>
<pre class="programlisting">struct RbTreeDragSourceIface {
	GTypeInterface g_iface;

	/* VTable - not signals */
	gboolean     (* rb_row_draggable)        (RbTreeDragSource   *drag_source,
	                              GList              *path_list);

	gboolean     (* rb_drag_data_get)        (RbTreeDragSource   *drag_source,
                                         GList              *path_list,
                                         GtkSelectionData   *selection_data);

	gboolean     (* rb_drag_data_delete)     (RbTreeDragSource *drag_source,
                                         GList            *path_list);
};
</pre>
</div>
<hr></hr>
<div class="refsect2">
<a name="RbTreeDragDest-struct"></a><h3>RbTreeDragDest</h3>
<pre class="programlisting">typedef struct _RbTreeDragDest RbTreeDragDest;</pre>
</div>
<hr></hr>
<div class="refsect2">
<a name="RbTreeDragDestIface"></a><h3>struct RbTreeDragDestIface</h3>
<pre class="programlisting">struct RbTreeDragDestIface {
	GTypeInterface g_iface;

	/* VTable - not signals */

	gboolean (* rb_drag_data_received) (RbTreeDragDest   *drag_dest,
					 GtkTreePath       *dest,
					 GtkTreeViewDropPosition pos,
					 GtkSelectionData  *selection_data);

	gboolean (* rb_row_drop_possible)  (RbTreeDragDest   *drag_dest,
					 GtkTreePath       *dest_path,
					 GtkTreeViewDropPosition pos,
					 GtkSelectionData  *selection_data);

	gboolean (* rb_row_drop_position) (RbTreeDragDest   *drag_dest,
					GtkTreePath       *dest_path,
					GList *targets,
					GtkTreeViewDropPosition *pos);

	/* optional */
	GdkAtom  (* rb_get_drag_target)    (RbTreeDragDest   *drag_dest,
					 GtkWidget        *widget,
					 GdkDragContext   *context,
					 GtkTreePath      *dest_path,
					 GtkTargetList    *target_list);
};
</pre>
</div>
<hr></hr>
<div class="refsect2">
<a name="RbTreeDestFlag"></a><h3>enum RbTreeDestFlag</h3>
<p>Flags controlling drag destination behaviour.</p>
<div class="refsect3">
<a name="RbTreeDestFlag.members"></a><h4>Members</h4>
<div class="informaltable"><table border="0" class="informaltable" width="100%">
<colgroup>
<col class="enum_members_name" width="300px"></col>
<col class="enum_members_description"></col>
<col class="enum_members_annotations" width="200px"></col>
</colgroup>
<tbody>
<tr>
<td class="enum_member_name"><p><a name="RB-TREE-DEST-EMPTY-VIEW-DROP:CAPS"></a>RB_TREE_DEST_EMPTY_VIEW_DROP</p></td>
<td class="enum_member_description">
<p>If set, drops into empty spaces in the view are accepted</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="RB-TREE-DEST-CAN-DROP-INTO:CAPS"></a>RB_TREE_DEST_CAN_DROP_INTO</p></td>
<td class="enum_member_description">
<p>If set, drops into existing rows are accepted</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="RB-TREE-DEST-CAN-DROP-BETWEEN:CAPS"></a>RB_TREE_DEST_CAN_DROP_BETWEEN</p></td>
<td class="enum_member_description">
<p>If set, drops between existing rows are accepted</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
<tr>
<td class="enum_member_name"><p><a name="RB-TREE-DEST-SELECT-ON-DRAG-TIMEOUT:CAPS"></a>RB_TREE_DEST_SELECT_ON_DRAG_TIMEOUT</p></td>
<td class="enum_member_description">
<p>If set, update the drag selection using a timeout</p>
</td>
<td class="enum_member_annotations"> </td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div>
</div><div class="footer">
<hr></hr>Generated by GTK-Doc V1.29</div></div><div id="footer_art" class="default"> </div></div><div class="clearfix"></div><div id="footer_grass">   </div><div id="footer"><div class="container_12"><div class="links grid_9"><div class="menu-footer-1-container"><ul id="menu-footer-1" class="menu"><li id="menu-item-88" class="menu-item menu-item-type-custom menu-item-home menu-item-88"><a href="https://www.gnome.org/">The GNOME Project</a><ul class="sub-menu"><li id="menu-item-89" class="menu-item menu-item-type-post_type menu-item-89"><a href="https://www.gnome.org/about/">About Us</a></li><li id="menu-item-90" class="menu-item menu-item-type-custom menu-item-90"><a href="https://www.gnome.org/get-involved/">Get Involved</a></li><li id="menu-item-91" class="menu-item menu-item-type-custom menu-item-91"><a href="https://www.gnome.org/teams/">Teams</a></li><li id="menu-item-92" class="menu-item menu-item-type-custom menu-item-92"><a href="https://foundation.gnome.org">The GNOME Foundation</a></li><li><a href="https://www.gnome.org/support-gnome/">Support GNOME</a></li><li><a href="https://www.gnome.org/contact/">Contact</a></li></ul></li></ul></div><div class="menu-footer-2-container"><ul id="menu-footer-2" class="menu"><li id="menu-item-99" class="menu-item menu-item-type-post_type current-menu-item page_item page-item-20 current_page_item menu-item-99"><a href="rhythmbox-rb-tree-dnd.html#">Resources</a><ul class="sub-menu"><li><a href="https://help.gnome.org">Documentation</a></li><li><a href="https://wiki.gnome.org">Wiki</a></li><li><a href="https://mail.gnome.org/mailman/listinfo">Mailing Lists</a></li><li><a href="https://wiki.gnome.org/GnomeIrcChannels">IRC Channels</a></li><li><a href="https://gitlab.gnome.org/">Bug Tracker</a></li><li><a href="https://gitlab.gnome.org/">Development Code</a></li><li><a href="https://wiki.gnome.org/Jhbuild">Build Tool</a></li></ul></li></ul></div><div class="menu-footer-4-container"><ul id="menu-footer-4" class="menu"><li id="menu-item-104" class="menu-item menu-item-type-custom menu-item-104"><a href="http://www.gnome.org/news/">News</a><ul class="sub-menu"><li><a href="https://www.gnome.org/start/stable">Latest Release</a></li><li><a href="https://planet.gnome.org">Planet GNOME</a></li><li><a href="https://news.gnome.org">Development News</a></li><li><a href="https://twitter.com/gnome">Twitter</a></li></ul></li></ul></div></div><div class="links grid_3 right"><div><ul class="menu available_languages"><li><strong>This website is available in many languages</strong><ul class="sub-menu"><li><a href="../../languages.html" title="Switching Language">Switch Language</a></li></ul></li></ul><script type="text/javascript" src="../../js/language.js"></script></div></div><div id="footnotes" class="grid_9">
                Copyright © 2005‒2014 <strong class="gnome_logo">The GNOME Project</strong><br></br><small>Optimised for standards. Hosted by <a href="http://redhat.com">Red Hat</a>.</small></div><div class="clear"></div></div></div><script type="text/javascript">
$(document).ready(function() {
    // Get browser
    $.each($.browser, function(i) {
        $('body').addClass(i);
        return false;
    });

    // Get OS and add it as class to body tag, this then allows forcing some
    // customisation in the CSS rules.
    var match = navigator.userAgent.toLowerCase().match(/(win|mac|linux)/);
    if (match) {
        $('body').addClass(match[0]);
    }
});
</script><script type="text/javascript">
      var _paq = _paq || [];
      _paq.push(['disableCookies']);
      _paq.push(["trackPageView"]);
      _paq.push(["enableLinkTracking"]);

      (function() {
        var u=(("https:" == document.location.protocol) ? "https" : "http") + "://webstats.gnome.org/";
        _paq.push(["setTrackerUrl", u+"piwik.php"]);
        _paq.push(["setSiteId", "6"]);
        var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";
        g.defer=true; g.async=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
      })();
    </script></body></html>
